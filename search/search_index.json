{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"<p>The blueprint is a straightforward and secure way to deploy Microsoft 365 and Azure. Security should make your environment easy and convenient to use, not the opposite. We believe that your modern desktop should be fast, secure, reliable and, overall, a pleasure to use.\u00a0</p> <p>The blueprint provides guidance on all Microsoft 365 features. New, old and yet to come. We test and deploy new features and publish our findings for everyone to use. Better security should be available for all of us.</p> <p>We've taken the great work started by the Digital Transformation Agency, and us, then we've added, updated and expanded on it to provide everyone with a simple way to consume cloud services without the risk.</p> <p>Have a look around, and if you have a suggestion, feel free to drop us a line in GitHub.</p> <p>Check out some of our products below that we use ourselves to assist with Microsoft 365 deployments, and if you need a hand with implementing the blueprint, get in touch.</p>"},{"location":"readme/","title":"Readme","text":"<p>Changed gsd_test to the blueprint</p>"},{"location":"as-built-as-configured/admin-disable-inactive-users/","title":"Admin disable inactive users","text":""},{"location":"as-built-as-configured/admin-disable-inactive-users/#disable-inactive-accounts-automation","title":"Disable inactive accounts automation","text":"<p>5 minutes to read - 30 March 2023</p> <p>The following guide provides instructions to automate disabling and suspending inactive accounts for cloud-native implementation types.</p> <p>The following is guidance from the Australian Cyber Security Centre (ACSC) for inactive accounts:</p> <ul> <li>Access to systems, applications and data repositories is removed or suspended after 45 days of inactivity (ISM security controls 1404 and 1648).</li> <li>Privileged access to systems and applications is automatically disabled after 45 days of inactivity (Essential Eight).</li> </ul> <p>Azure Active Directory (Azure AD) does not include the ability to disable inactive accounts automatically, however, automation can be implemented to provide this administrative function.</p> <p>With hybrid implementation types, access is managed through Active Directory Domain Services (AD DS) management tools and Active Directory mirrors changes to Azure AD. This may also include third-party tooling for automation.</p> <p>This guide includes a sample script that uses the Microsoft Graph API and Azure AD PowerShell modules. The Microsoft Graph API is used to query the sign-in activity within the tenant as it is the only method to reliably ascertain the last interactive sign-in from Azure AD sign-in logs. </p> <p>The script can be executed manually by an administrator or automatically on a schedule. If the agency has an Azure subscription, it can be scheduled from within an Azure Automation account.</p> <p>For simplicity, the script disables all accounts after 30 days of inactivity, excluding break glass accounts or those that are yet to sign in.</p> <p>Agencies can tweak the script to better reflect their needs.</p> <p>The script is provided as a sample and without warranty, limited error checking or handling provided.</p>"},{"location":"as-built-as-configured/admin-disable-inactive-users/#microsoft-graph-api","title":"Microsoft Graph API","text":"<p>In order to use the Graph API to query sign-in information, the agency must create an Azure AD App registration which will be used by the script to authenticate to the Graph API.</p> <p>One of the following role based access control groups are required to create the app registration:</p> <pre><code>Application Administrator\nCloud Application Administrator\nGlobal Administrator \n</code></pre> <p>Register the Application for Microsoft Graph.</p> <ol> <li>Navigate to <code>Azure Portal &gt; Active Directory &gt; App Registration &gt; New Registration</code></li> </ol> <p></p> <ol> <li> <p>Provide the following details for the Application registration:</p> </li> <li> <p>Name: <code>Agency to define</code></p> </li> <li>Who can use this application or access this API: <code>Accounts in this organizational directory only</code></li> <li> <p>Redirect URI: Web | <code>http://localhost</code></p> </li> <li> <p>Navigate to <code>Azure Portal &gt; Active Directory &gt; App registrations &gt; Application Name &gt; API permissions</code></p> </li> </ol> <p></p> <ol> <li> <p>Add the following permissions to the application</p> </li> <li> <p>API Permissions name: <code>Microsoft Graph</code></p> <ul> <li>Type: <code>Application Permissions</code></li> <li>Permission:<code>AuditLog.Read.All</code></li> <li>Permission: <code>Directory.Read.All</code></li> <li>Permission:<code>User.Read.All</code></li> </ul> </li> <li> <p>Click on the <code>Grant admin consent</code>  button to complete the registration.</p> </li> <li> <p>Navigate to <code>Azure Portal &gt; Active Directory &gt; App registrations &gt; Application Name &gt; Certificates and secrets</code></p> </li> </ol> <p></p> <ol> <li>Generate a client secret and take note of the details (client ID and secret) for use in the script below. The client secret is to be stored securely as it can be used to query the environment. The script example uses a client secret for Graph API, for additional security it is recommended to generate certificates.</li> </ol>"},{"location":"as-built-as-configured/admin-disable-inactive-users/#sample-automation-script","title":"Sample automation script","text":"<p>The following is a sample script that is used to query Microsoft Graph API for user sign-in information:</p> <ul> <li>Users that have not signed in within 30 days are disabled,</li> <li>Emergency administrative accounts (break glass) are exempt, and</li> <li>Accounts that have not yet logged on are excluded.</li> </ul> <p>The script is ideally executed within an Azure Automation account on a schedule. The permissions delegated to the script to disable user accounts would be granted to the Azure Automation RunAs account within the tenant.</p> <pre><code># Sample Script - disable user accounts in tenant that have not been logged in within 30 days\n# Source: https://desktop.gov.au/blueprint/abac/admin-disable-inactive-users.html\n\n# Connection information for Azure AD using Azure Automation account/runbook\n$connectionName = AzureRunAsConnection\n$servicePrincipalConnection=Get-AutomationConnection -Name $connectionName         \nConnect-AzureAD -TenantId $servicePrincipalConnection.TenantId `\n     -ApplicationId $servicePrincipalConnection.ApplicationId `\n     -CertificateThumbprint $servicePrincipalConnection.CertificateThumbprint\n\n# Manual connect to Azure AD\n#Connect-AzureAD   \n\n# Connection information for Graph API connection - specific to Agency\n$clientID = \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n$tenantName = \"agency.onmicrosoft.com\"\n$clientSecret = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n$resource = \"https://graph.microsoft.com/\"\n\n$ReqTokenBody = @{\n    Grant_Type    = \"client_credentials\"\n    Scope         = \"https://graph.microsoft.com/.default\"\n    client_Id     = $clientID\n    Client_Secret = $clientSecret\n} \n\n$TokenResponse = Invoke-RestMethod -Uri \"https://login.microsoftonline.com/$TenantName/oauth2/v2.0/token\" -Method POST -Body $ReqTokenBody\n\n# Get all users in the tenant\n$uri = 'https://graph.microsoft.com/beta/users?$select=displayName,userPrincipalName,signInActivity'\n\n# Get todays date for date test later\n$Today=(Get-Date)\n\n# @odata.nextLink is used if results greated than 999 results\n$Data = while (-not [string]::IsNullOrEmpty($uri)) {\n    $apiCall = try {\n        Invoke-RestMethod -Headers @{Authorization = \"Bearer $($Tokenresponse.access_token)\"} -Uri $uri -Method Get\n    }\n    catch {\n        $errorMessage = $_.ErrorDetails.Message | ConvertFrom-Json\n    }\n    $uri = $null\n    if ($apiCall) {\n        $uri = $apiCall.'@odata.nextLink'\n        $apiCall\n    }\n}\n\n# Set the result into an variable\n$result = ($Data | select-object Value).Value\n$Export = $result | select DisplayName,UserPrincipalName,@{n=\"LastLoginDate\";e={$_.signInActivity.lastSignInDateTime}}\n\n# Export user data\n$Users = $Export | select DisplayName,UserPrincipalName,@{Name='LastLoginDate';Expression={[datetime]::Parse($_.LastLoginDate)}}\n\n#Disable accounts that are not breakglass that have not been used in 30 days.\nForeach ($User in $Users) {\n    if ($User.LastLoginDate) {        \n        $LastLogin = $User.LastLoginDate\n        $TimeSpan = New-TimeSpan \u2013Start $LastLogin \u2013End $Today\n        If ($TimeSpan.Days -gt 30) {\n            write-host \"User to be disabled true\" $User.userPrincipalName \"Last logon:\"$user.LastLoginDate $TimeSpan.Days \"days ago\"\n            If ($User.userPrincipalName -notlike '*break.glass*') {\n                write-host $User.userPrincipalName \"-User not breakglass account, proceed with disable of user\"\n                Set-AzureADUser -ObjectId $User.userPrincipalName -AccountEnabled $false\n                Revoke-AzureADUserAllRefreshToken -ObjectId $User.userPrincipalName\n            } else {\n                write-host $User.userPrincipalName \"- User is breakglass account, no action taken on user\"\n            }               \n        }\n        } else {\n            write-host $User.userPrincipalName \"-User is active within 30 day threshold, last logon:\"$user.LastLoginDate \" \" $TimeSpan.Days \" days ago\"\n        }\n}\n</code></pre>"},{"location":"as-built-as-configured/conditional-access-policies/","title":"Conditional access policies","text":""},{"location":"as-built-as-configured/conditional-access-policies/#conditional-access-policies","title":"Conditional Access policies","text":"<p>14 minutes to read - 30 March 2023</p>"},{"location":"as-built-as-configured/conditional-access-policies/#conditional-access-named-locations","title":"Conditional Access - Named locations","text":"<p>Conditional Access rules can be assigned according to several variables including named locations. These are the public internet (IP) addresses that Azure Active Directory sees, this is not the Agency's internal private IP addressing scheme. Named locations are Agency defined and are used to authorise logon from:</p> <ul> <li>Agency approved countries,</li> <li>Agency approved network egress or proxy locations (more used in hybrid implementation types),</li> <li>Defining Internet Service Provider (ISP) provider addresses when used with bespoke security use-cases,</li> <li>Agency Privileged Access Workstation (PAW) or Jump Server network egress locations for administration policy use cases (e.g. allowed admin roles).</li> </ul> <p>Note, named locations should be avoided for the purposes of suppressing MFA on a corporate LAN setting. Consider the use of <code>Device state</code> for this scenario.</p> <p><code>Azure AD Conditional Access &gt; Named locations</code></p> <ul> <li>Name: <code>Allowed Countries</code></li> <li>Location type: <code>Countries</code></li> <li>Countries: <code>Australia</code></li> <li>Name: <code>&lt;Agency&gt; Internal Network</code></li> <li>Location type: <code>IP ranges</code></li> <li>Mark as trusted location: <code>Selected</code></li> <li>IP ranges: Agency defined</li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#conditional-access-terms-of-use","title":"Conditional Access - Terms of use","text":"<p>The Terms of Use document is a pdf document provided by the department and is uploaded to Azure Active Directory. This is then presented to users during the first logon process prior to agreeing to the terms of use. </p> <p>Note, terms of user does not replace the logon banner warning text.</p> <p><code>Azure AD Conditional Access &gt; Terms of use</code></p> <ul> <li>Name: <code>Acceptable Use Policy</code></li> <li>Display Name: <code>Acceptable Use Policy</code></li> <li>Require users to expand the terms of use: <code>On</code></li> <li>Require users to consent on every device: <code>Off</code></li> <li>Expire contents: <code>On</code></li> <li>Expire starting on: <code>01/07/xxxx</code></li> <li>Frequency: <code>Annually</code></li> <li>Duration before re-acceptance required (days): <code>N/A</code></li> <li>Languages</li> <li>English: Agency supplied</li> <li>Other languages as required</li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#conditional-access-policies_1","title":"Conditional Access - Policies","text":"<p>The following Conditional Access policies can be found in the Azure Portal at <code>Azure AD Conditional Access | Policies</code>. The polices here are a baseline and should be customised to the Agencies requirements for both hybrid and cloud-only implementations types.</p> <p>Agencies should avoid the use of trusted locations for cloud app access and use device state/require enrolment on conditions where possible.</p>"},{"location":"as-built-as-configured/conditional-access-policies/#block-countries-not-allowed","title":"BLOCK - Countries Not Allowed","text":"<p>The global policy blocks all connections from countries not in the allowed countries allow list.</p> <ul> <li>Name: <code>BLOCK \u2013 Countries Not Allowed</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>No</code></li> <li>Locations:</li> <li>Configure: <code>Yes</code></li> <li>Include: <code>Any location</code></li> <li>Exclude:<ul> <li>Select the locations to exempt from the policy: <code>Selected locations</code></li> <li>Select: <code>Allowed Countries</code></li> </ul> </li> <li>Client apps</li> <li>Configure: <code>No</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>Yes</code></li> <li>Grant access: <code>No</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>No</code></li> <li>Require one of the selected controls: <code>Yes</code></li> </ul> </li> <li>Session<ul> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> </ul> </li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#block-guest-access","title":"BLOCK - Guest Access","text":"<ul> <li>Name: <code>BLOCK \u2013 Guest Access</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All guest and external users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>False</code></li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude</li> <li><code>Office 365</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>No</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>True</code></li> <li>Other clients: <code>True</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>Yes</code></li> <li>Grant access: <code>No</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>No</code></li> <li>Require one of the selected controls: <code>Yes</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#block-high-risk-sign-ins","title":"BLOCK - High Risk Sign-Ins","text":"<p>This global policy blocks all high-risk authentications (requires Azure AD Premium P2).</p> <ul> <li>Name: <code>BLOCK \u2013 High Risk Sign-Ins</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>Yes</code></li> <li>Select the sign-in risk level this policy will apply to: <code>High</code></li> <li>Device platforms:</li> <li>Configure: <code>No</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps:</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>True</code></li> <li>Other clients: <code>True</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>Yes</code></li> <li>Grant access: <code>No</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>No</code></li> <li>Require one of the selected controls: <code>Yes</code></li> </ul> </li> <li>Session<ul> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> </ul> </li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#block-legacy-authentication","title":"BLOCK - Legacy Authentication","text":"<p>This global policy blocks all connections from unsecure legacy protocols like ActiveSync, IMAP, POP3, etc.</p> <ul> <li>Name: <code>BLOCK - Legacy Authentication</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include</li> <li>Select users and groups: <code>All users</code></li> <li>Exclude</li> <li>Excluded users and groups: <code>None</code></li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All Cloud Apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms</li> <li>Configure: <code>No</code></li> <li>Locations</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>False</code></li> <li>Mobile apps and desktop clients: <code>False</code></li> <li>Exchange ActiveSync clients: <code>True</code></li> <li>Other clients: <code>True</code></li> <li>Device state</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>Yes</code></li> <li>Grant access: <code>No</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>No</code></li> <li>Require one of the selected controls: <code>Yes</code></li> </ul> </li> <li>Session<ul> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> </ul> </li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#block-unapproved-devices","title":"BLOCK - Unapproved Devices","text":"<p>This global policy blocks all connections from device types that are not included in the blueprint.</p> <ul> <li>Name: <code>BLOCK - Unapproved Devices</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include</li> <li>Select users and groups: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All Cloud Apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms</li> <li>Configure: <code>Yes</code></li> <li>Android: <code>True</code></li> <li>iOS: <code>False</code></li> <li>Windows Phone: <code>True</code></li> <li>Windows: <code>False</code></li> <li>macOS: <code>True</code></li> <li>Locations</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>No</code></li> <li>Device state</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>Yes</code></li> <li>Grant access: <code>No</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>No</code></li> <li>Require one of the selected controls: <code>Yes</code></li> </ul> </li> <li>Session<ul> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> </ul> </li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#grant-guest-access","title":"GRANT - Guest Access","text":"<p>Approved apps that guest users can access (requires MFA).</p> <ul> <li>Name: <code>GRANT \u2013 Guest Access</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All guest and external users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>False</code></li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>Select apps</code></li> <li><code>Office 365</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>Yes</code></li> <li>Android: <code>False</code></li> <li>iOS: <code>False</code></li> <li>Windows Phone: <code>False</code></li> <li>Windows: <code>True</code></li> <li>macOS: <code>False</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Other clients: <code>False</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#grant-intune-enrolment","title":"GRANT - Intune Enrolment","text":"<p>Devices are allowed to authenticate to Microsoft Endpoint Manager - Intune (Intune) for enrolment.</p> <ul> <li>Name: <code>GRANT \u2013 Intune Enrolment</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>Select apps</code></li> <li><code>Microsoft Intune</code></li> <li><code>Microsoft Intune Enrolment</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>Yes</code></li> <li>Android: <code>False</code></li> <li>iOS: <code>True</code></li> <li>Windows Phone: <code>False</code></li> <li>Windows: <code>True</code></li> <li>macOS: <code>False</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>No</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#grant-ios-device-access","title":"GRANT - iOS Device Access","text":"<p>Grants access to managed iOS devices that are enrolled and compliant in Intune. An approved Microsoft app is required.</p> <ul> <li>Name: <code>GRANT \u2013 iOS Device Access</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>Select apps</code></li> <li><code>Office 365</code></li> <li>Exclude:  <code>Select apps</code></li> <li><code>Microsoft Intune</code></li> <li><code>Microsoft Intune Enrolment</code> </li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>Yes</code></li> <li>Include: <code>Select device platforms</code><ul> <li><code>iOS</code></li> </ul> </li> <li>Exclude: <code>None</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Other clients: <code>False</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>True</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>True</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#grant-terms-of-use","title":"GRANT - Terms of use","text":"<p>This global policy forces Terms of Use on all authentications.</p> <ul> <li>Name: <code>GRANT \u2013 Terms of Use</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>No</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Other clients: <code>False</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>True</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#grant-windows-device-access","title":"GRANT - Windows Device Access","text":"<p>Grants access to managed Windows devices that are enrolled and compliant.</p> <ul> <li>Name: <code>GRANT \u2013 Windows Device Access</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>True</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: </li> <li><code>Microsoft Intune</code></li> <li><code>Microsoft Intune Enrollment</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>Yes</code></li> <li>Include: <code>Select device platforms</code><ul> <li><code>Windows</code></li> </ul> </li> <li>Exclude: <code>None</code></li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Other clients: <code>False</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>True</code></li> <li>Require Hybrid Azure AD joined device: <code>True (hybrid implementations only)</code> </li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#session-admin-sign-in-frequency","title":"SESSION - Admin Sign-in Frequency","text":"<p>Enforces a sign-in frequency to ensure administrators sessions do not remain active for longer than 4 hours. </p> <ul> <li>Name: <code>SESSION - Admin Sign-in Frequency</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>Select users and groups</code></li> <li>Directory roles: <code>Select all directory roles</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> </ul> </li> <li>Users and groups: <code>True</code><ul> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms</li> <li>Configure: <code>No</code></li> <li>Locations</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Apply policy only to supported platforms: <code>False</code></li> <li>Other clients: <code>True</code></li> <li>Device state</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session<ul> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>4 hours</code></li> <li>Persistent browser session: <code>False</code></li> </ul> </li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/conditional-access-policies/#session-user-sign-in-frequency","title":"SESSION - User Sign-in Frequency","text":"<p>Enforces a sign-in frequency to ensure non-privileged users are required to complete an MFA prompt daily.</p> <ul> <li>Name: <code>SESSION - User Sign-in Frequency</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>All users</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>False</code></li> </ul> </li> <li>Users and groups: <code>True</code><ul> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: <code>None</code></li> </ul> </li> <li>Conditions<ul> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms</li> <li>Configure: <code>No</code></li> <li>Locations</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>True</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Apply policy only to supported platforms: <code>False</code></li> <li>Other clients: <code>True</code></li> <li>Device state</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session<ul> <li>Use app enforced restrictions: <code>N/A</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>12 hours</code></li> <li>Persistent browser session: <code>False</code></li> </ul> </li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/hybrid-network-configuration/","title":"Hybrid network configuration","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#hybrid-network-configuration","title":"Hybrid - network configuration","text":"<p>12 minutes to read - 30 March 2023</p>"},{"location":"as-built-as-configured/hybrid-network-configuration/#reference-table","title":"Reference table","text":"<p>The following table lists the reference table for products requiring whitelisting and firewall configuration.</p> Reference Number Reference URL R01 https://docs.microsoft.com/en-us/windows/security/threat-protection/microsoft-defender-atp/configure-proxy-internet R02 https://docs.microsoft.com/en-us/windows/security/threat-protection/microsoft-defender-atp/production-deployment R03 https://docs.microsoft.com/en-us/windows/security/threat-protection/microsoft-defender-atp/configure-splunk R04 https://docs.microsoft.com/en-us/windows/security/threat-protection/microsoft-defender-atp/enable-siem-integration R05 https://docs.microsoft.com/en-us/cloud-app-security/network-requirements R06 https://docs.microsoft.com/en-au/office365/enterprise/urls-and-ip-address-ranges?redirectSourcePath=%252farticle%252fOffice-365-URLs-and-IP-address-ranges-8548a211-3fe7-47cb-abb1-355ea5aa88a2 R07 https://docs.microsoft.com/en-au/office365/enterprise/additional-office365-ip-addresses-and-urls R08 https://docs.microsoft.com/en-us/defender-for-identity/prerequisites#-network-name-resolution-nnr-requirements R09 https://docs.microsoft.com/en-us/azure/active-directory/hybrid/reference-connect-ports"},{"location":"as-built-as-configured/hybrid-network-configuration/#microsoft-advanced-threat-protection-atp","title":"Microsoft Advanced Threat Protection (ATP)","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#proxy-whitelist","title":"Proxy whitelist","text":"<p>The following describes the Microsoft Advanced Threat Protection Proxy Whitelist settings.</p> Reference Purpose Source Destination Port R01, R02 ATP Common URLs for all locations All ATP Clients crl.microsoft.comctldl.windowsupdate.comevents.data.microsoft.comnotify.windows.comsettings-win.data.microsoft.com TCP 443 R01, R02 ATP URLs for US Region All ATP Clients us.vortex-win.data.microsoft.comussus1eastprod.blob.core.windows.netussus1westprod.blob.core.windows.netussus2eastprod.blob.core.windows.netussus2westprod.blob.core.windows.netussus3eastprod.blob.core.windows.netussus3westprod.blob.core.windows.netussus4eastprod.blob.core.windows.netussus4westprod.blob.core.windows.netus-v20.events.data.microsoft.comwinatp-gw-cus.microsoft.comwinatp-gw-eus.microsoft.comwsus1eastprod.blob.core.windows.netwsus1westprod.blob.core.windows.netwsus2eastprod.blob.core.windows.netwsus2westprod.blob.core.windows.net TCP 443 R01, R02 ATP US machine proxy and Internet connectivity settings All ATP Clients automatedirstrprdcus.blob.core.windows.net R03, R04 ATP Splunk Integration Splunk Servers wdatp-alertexporter-us.securitycenter.windows.comgraph.windows.net TCP 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#direct-firewall-exclusion","title":"Direct firewall exclusion","text":"<p>No firewall exclusions required.</p>"},{"location":"as-built-as-configured/hybrid-network-configuration/#microsoft-cloud-app-security-mcas","title":"Microsoft Cloud App Security (MCAS)","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#proxy-whitelist_1","title":"Proxy whitelist","text":"<p>The following table describes the Microsoft Cloud App Security Proxy Whitelist settings.</p> Reference Purpose Source Destination Port R05 MCAS Portal Access .us3.portal.cloudappsecurity.comportal.cloudappsecurity.com.portal.cloudappsecurity.comcdn.cloudappsecurity.comadaproddiscovery.azureedge.net.s-microsoft.com.msecnd.netdev.virtualearth.net.cloudappsecurity.comflow.microsoft.comstatic2.sharepointonline.comdc.services.visualstudio.com.blob.core.windows.net.us3.cas.ms.us3.access-control.cas.ms*.us3.saml.cas.ms TCP 443 R05 MCAS SIEM Agent Connection Splunk Servers ocsp.digicert.comocsp.msocsp.com TCP 80"},{"location":"as-built-as-configured/hybrid-network-configuration/#direct-firewall-exclusion_1","title":"Direct firewall exclusion","text":"<p>The following table describes the Microsoft Cloud App Security direct firewall exclusion settings.</p> Reference Purpose Source Destination Port R05 MCAS Portal Access 13.80.125.2240.74.1.23540.74.6.20440.90.218.19640.90.218.19851.143.58.20752.137.89.14752.183.75.62 TCP 443 R05 MCAS SIEM Agent Connection Agency SIEM Servers 13.80.125.2240.74.1.23540.74.6.20440.90.218.19640.90.218.19851.143.58.20752.137.89.14752.183.75.62 TCP 443 R05 MCAS Access and Session Controls 40.81.62.22440.81.62.22040.82.186.16840.82.186.16952.155.180.21052.155.179.8440.66.59.19640.66.60.22440.65.170.8040.65.170.8340.81.127.22940.81.121.66104.45.170.191104.45.170.18340.91.114.4040.91.114.4240.81.62.17940.81.62.22320.40.162.8620.40.162.20040.82.186.18240.82.186.17752.139.21.7052.139.16.10552.155.177.1352.155.180.20852.155.164.13152.155.167.23140.66.60.22640.66.59.19340.66.61.19340.66.61.15840.65.170.11340.65.170.8252.139.245.152.139.245.2140.81.120.19240.81.127.23951.137.136.3451.137.137.69104.45.170.70104.45.170.18052.224.190.22552.224.191.6240.91.114.4140.91.78.10552.148.161.4552.148.161.5340.81.62.19340.81.62.16240.82.186.16640.82.186.17652.155.180.20952.155.178.24740.66.59.24640.66.59.19540.65.170.8140.65.170.11240.81.120.19140.81.123.157104.45.170.186104.45.170.17840.91.114.4340.91.74.3720.40.161.16020.40.161.16152.139.2.052.139.1.15652.155.180.21152.155.182.13840.66.62.740.66.62.920.184.63.15820.184.61.25320.40.106.5120.40.107.8452.224.202.8652.224.202.9151.143.122.5951.143.122.6040.82.186.16840.82.186.16952.139.2.052.139.1.15640.82.186.18240.82.186.17752.139.21.7052.139.16.10552.139.9.17652.139.9.198 TCP 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#mail-server","title":"Mail server","text":"<p>Table 6 describes the Microsoft Cloud App Security Mail Server settings.</p> Reference Purpose Source Destination Port R05 Mail Relay SPAM Exception Agency Mail Relays 65.55.234.192/26207.46.200.0/2765.55.52.224/2794.245.112.0/27111.221.26.0/27207.46.50.192/26 N/A"},{"location":"as-built-as-configured/hybrid-network-configuration/#office-365-common-and-office-online","title":"Office 365 \u2013 Common and Office Online","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#proxy-whitelist_2","title":"Proxy whitelist","text":"<p>The following table describes the Office 365 Common and Office Online Proxy Whitelist settings.</p> Reference Purpose Source Destination Port R06 Microsoft 365 Common and Office Online *.cdn.office.net contentstorage.osi.office.net*.onenote.com*cdn.onenote.netajax.aspnetcdn.comapis.live.netcdn.optimizely.comofficeapps.live.comwww.onedrive.comapc.delve.office.comaus.delve.office.comcan.delve.office.comdelve.office.comdelve-gcc.office.comeur.delve.office.comgbr.delve.office.comind.delve.office.comjpn.delve.office.comkor.delve.office.comlam.delve.office.comnam.delve.office.comsuite.office.netwebshell.suite.office.com*.aria.microsoft.com*.events.data.microsoft.com*.o365weve.comamp.azure.netappsforoffice.microsoft.comassets.onestore.msauth.gfx.msaz826701.vo.msecnd.netc1.microsoft.comclient.hip.live.comcontentstorage.osi.office.netdgps.support.microsoft.comdocs.microsoft.commsdn.microsoft.complatform.linkedin.comprod.msocdn.comproducts.office.comr1.res.office365.comr4.res.office365.comres.delve.office.comshellprod.msocdn.comsupport.content.office.netsupport.microsoft.comsupport.office.comtechnet.microsoft.comtemplates.office.comvideocontent.osi.office.netvideoplayercdn.osi.office.net*.office365.com*.aadrm.com*.azurerms.com*.informationprotection.azure.comecn.dev.virtualearth.netinformationprotection.hosting.portal.azure.neto15.officeredir.microsoft.comocsredir.officeapps.live.comofficepreviewredir.microsoft.comofficeredir.microsoft.comr.office.microsoft.comocws.officeapps.live.comodc.officeapps.live.comroaming.officeapps.live.comactivation.sls.microsoft.comcrl.microsoft.comols.officeapps.live.comoffice15client.microsoft.comofficeclient.microsoft.comocsa.officeapps.live.cominsertmedia.bing.office.netgo.microsoft.comsupport.office.commrodevicemgr.officeapps.live.comajax.aspnetcdn.comcdn.odc.officeapps.live.comofficecdn.microsoft.comofficecdn.microsoft.com.edgesuite.net*.entrust.net*.geotrust.com*.omniroot.com*.public-trust.com*.symcb.com*.symcd.com*.verisign.com*.verisign.netaia.entrust.netapps.identrust.comcacert.a.omniroot.comcacert.omniroot.comcacerts.digicert.comcdp1.public-trust.comcert.int-x3.letsencrypt.orgcrl.entrust.netcrl.globalsign.comcrl.globalsign.netcrl.identrust.comcrl.microsoft.comcrl3.digicert.comcrl4.digicert.comevintl-aia.verisign.comevintl-crl.verisign.comevintl-ocsp.verisign.comevsecure-aia.verisign.comevsecure-crl.verisign.comevsecure-ocsp.verisign.comisrg.trustid.ocsp.identrust.commscrl.microsoft.comocsp.digicert.comocsp.entrust.netocsp.globalsign.comocsp.int-x3.letsencrypt.orgocsp.msocsp.comocsp.omniroot.comocsp2.globalsign.comocspx.digicert.coms1.symcb.coms2.symcb.comsa.symcb.comsd.symcb.comsecure.globalsign.comsr.symcb.comsr.symcd.comsu.symcb.comsu.symcd.comvassg142.crl.omniroot.comvassg142.ocsp.omniroot.comwww.digicert.comwww.microsoft.com*.loki.delve.office.comloki.delve.office.comloki.delve-gcc.office.comlpcres.delve.office.com TCP 443 R06 Microsoft 365 Common and Office Online ccs.login.microsoftonline.com*.microsoftonline.com*.microsoftonline-p.com*.msauth.net*.msauthimages.net*.msecnd.net*.msftauth.net*.msftauthimages.net*.phonefactor.netenterpriseregistration.windows.netmanagement.azure.compolicykeyservice.dc.ad.msft.netsecure.aadcdn.microsoftonline-p.como15.officeredir.microsoft.comocsredir.officeapps.live.comofficepreviewredir.microsoft.comofficeredir.microsoft.comr.office.microsoft.comocws.officeapps.live.comodc.officeapps.live.comroaming.officeapps.live.comactivation.sls.microsoft.comcrl.microsoft.comols.officeapps.live.comoffice15client.microsoft.comofficeclient.microsoft.comocsa.officeapps.live.cominsertmedia.bing.office.netgo.microsoft.comsupport.office.comajax.aspnetcdn.comcdn.odc.officeapps.live.comofficecdn.microsoft.comofficecdn.microsoft.com.edgesuite.net*.entrust.net*.geotrust.com*.omniroot.com*.public-trust.com*.symcb.com*.symcd.com*.verisign.com*.verisign.netaia.entrust.netapps.identrust.comcacert.a.omniroot.comcacert.omniroot.comcacerts.digicert.comcdp1.public-trust.comcert.int-x3.letsencrypt.orgcrl.entrust.netcrl.globalsign.comcrl.globalsign.netcrl.identrust.comcrl.microsoft.comcrl3.digicert.comcrl4.digicert.comevintl-aia.verisign.comevintl-crl.verisign.comevintl-ocsp.verisign.comevsecure-aia.verisign.comevsecure-crl.verisign.comevsecure-ocsp.verisign.comisrg.trustid.ocsp.identrust.commscrl.microsoft.comocsp.digicert.comocsp.entrust.netocsp.globalsign.comocsp.int-x3.letsencrypt.orgocsp.msocsp.comocsp.omniroot.comocsp2.globalsign.comocspx.digicert.coms1.symcb.coms2.symcb.comsa.symcb.comsd.symcb.comsecure.globalsign.comsr.symcb.comsr.symcd.comsu.symcb.comsu.symcd.comvassg142.crl.omniroot.comvassg142.ocsp.omniroot.comwww.digicert.comwww.microsoft.com*.loki.delve.office.comloki.delve.office.comloki.delve-gcc.office.comlpcres.delve.office.com*.office.comcdnprod.myanalytics.microsoft.commyanalytics.microsoft.commyanalytics-gcc.microsoft.comworkplaceanalytics.cdn.office.networkplaceanalytics.office.com TCP 80, 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#direct-firewall-exclusion_2","title":"Direct firewall exclusion","text":"<p>The following table describes the Office 365 Common and Office Online Direct Firewall Exclusion settings.</p> Reference Purpose Source Destination Port R06 Microsoft 365 Common and Office Online 20.190.128.0/1840.126.0.0/1813.80.125.22/3213.91.91.243/3213.107.6.156/3113.107.7.190/3113.107.9.156/3140.81.156.154/3240.90.218.198/3252.108.0.0/1452.174.56.180/3252.183.75.62/3252.184.165.82/32104.42.230.91/32157.55.145.0/25157.55.155.0/25157.55.227.192/2613.80.125.22/3213.91.91.243/3213.107.6.156/3113.107.7.190/3113.107.9.156/3140.81.156.154/3240.90.218.198/3252.108.0.0/1452.174.56.180/3252.183.75.62/3252.184.165.82/32104.42.230.91/32157.55.145.0/25157.55.155.0/25157.55.227.192/26 TCP 80, 443 R06 Microsoft 365 Common and Office Online 13.107.6.171/3213.107.140.6/3252.108.0.0/1452.238.106.116/3252.244.37.168/3252.244.203.72/3252.244.207.172/3252.244.223.198/3252.247.150.191/3220.190.128.0/1840.126.0.0/1813.80.125.22/3213.91.91.243/3213.107.6.156/3113.107.7.190/3113.107.9.156/3140.81.156.154/3240.90.218.198/3252.108.0.0/1452.174.56.180/3252.183.75.62/3252.184.165.82/32104.42.230.91/32157.55.145.0/25157.55.155.0/25157.55.227.192/2613.80.125.22/3213.91.91.243/3213.107.6.156/3113.107.7.190/3113.107.9.156/3140.81.156.154/3240.90.218.198/3252.108.0.0/1452.174.56.180/3252.183.75.62/3252.184.165.82/32104.42.230.91/32157.55.145.0/25157.55.155.0/25157.55.227.192/2613.107.6.171/3213.107.140.6/3252.108.0.0/1452.238.106.116/3252.244.37.168/3252.244.203.72/3252.244.207.172/3252.244.223.198/3252.247.150.191/32 TCP 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#office-365-exchange-online","title":"Office 365 \u2013 Exchange Online","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#proxy-whitelist_3","title":"Proxy whitelist","text":"<p>The following table describes the Office 365 Exchange Online Proxy Whitelist settings.</p> Reference Purpose Source Destination Port R07 Exchange Online Exchange Servers *.store.core.windows.netasl.configure.office.commshrcstorageprod.blob.core.windows.nettds.configure.office.commshybridservice.trafficmanager.netdomains.live.com TCP 443 Exchange Online Exchange Servers r1.res.office365.comr3.res.office365.comr4.res.office365.com.outlook.com.outlook.office.comattachments.office.net TCP 80, 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#direct-firewall-exclusion_3","title":"Direct firewall exclusion","text":"<p>The following table describes the Office 365 Exchange Online Direct Firewall Exclusion settings.</p> Reference Purpose Source Destination Port R06 Exchange Online Exchange Servers 13.107.6.152/3113.107.18.10/3113.107.128.0/2223.103.160.0/2040.96.0.0/1340.104.0.0/1552.96.0.0/14131.253.33.215/32132.245.0.0/16150.171.32.0/22191.234.140.0/22204.79.197.215/32 TCP 587 R06 Exchange Online Exchange Servers 40.92.0.0/1540.107.0.0/1652.100.0.0/1452.238.78.88/32104.47.0.0/17 TCP 443 R06 Exchange Online Exchange Servers 40.92.0.0/1540.107.0.0/1652.100.0.0/14104.47.0.0/17 TCP 25 R06 Exchange Online Exchange Servers 13.107.6.152/3113.107.18.10/3113.107.128.0/2223.103.160.0/2040.96.0.0/1340.104.0.0/1552.96.0.0/14131.253.33.215/32132.245.0.0/16150.171.32.0/22191.234.140.0/22204.79.197.215/32 TCP 80, 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#office-365-skype-for-business-and-microsoft-teams","title":"Office 365 \u2013 Skype for Business and Microsoft Teams","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#proxy-whitelist_4","title":"Proxy whitelist","text":"<p>The following table describes the Office 365 Skype for Business and Microsoft Teams Proxy Whitelist settings.</p> Reference Purpose Source Destination Port R06 Skype for Business Online and Microsoft Teams .sfbassets.com.urlp.sfbassets.comskypemaprdsitus.trafficmanager.net.keydelivery.mediaservices.windows.net.msecnd.net.streaming.mediaservices.windows.netajax.aspnetcdn.commlccdn.blob.core.windows.netaka.msamp.azure.net.msedge.netcompass-ssl.microsoft.com.mstea.ms.secure.skypeassets.commlccdnprod.azureedge.netvideoplayercdn.osi.office.net*.skype.com TCP 80, 443 R06 Skype for Business Online and Microsoft Teams quicktips.skypeforbusiness.com.sfbassets.com.urlp.sfbassets.comskypemaprdsitus.trafficmanager.net.keydelivery.mediaservices.windows.net.msecnd.net.streaming.mediaservices.windows.netajax.aspnetcdn.commlccdn.blob.core.windows.netaka.msamp.azure.net.msedge.netcompass-ssl.microsoft.com.mstea.ms.secure.skypeassets.commlccdnprod.azureedge.netvideoplayercdn.osi.office.net*.skype.comstatics.teams.microsoft.com TCP 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#direct-firewall-exclusion_4","title":"Direct firewall exclusion","text":"<p>The following table describes the Office 365 Skype for Business and Teams Direct Firewall Exclusion settings.</p> Reference Purpose Source Destination Port R06 Skype for Business Online and Microsoft Teams 13.70.151.216/3213.71.127.197/3213.72.245.115/3213.73.1.120/3213.75.126.169/3213.89.240.113/3213.107.3.0/2413.107.64.0/1851.140.155.234/3251.140.203.190/3251.141.51.76/3252.112.0.0/1452.120.0.0/1452.163.126.215/3252.170.21.67/3252.172.185.18/3252.178.94.2/3252.178.161.139/3252.228.25.96/3252.238.119.141/3252.242.23.189/3252.244.160.207/32104.215.11.144/32104.215.62.195/32138.91.237.237/32 TCP 80, 443 R06 Skype for Business Online and Microsoft Teams 13.70.151.216/3213.71.127.197/3213.72.245.115/3213.73.1.120/3213.75.126.169/3213.89.240.113/3213.107.3.0/2413.107.64.0/1851.140.155.234/3251.140.203.190/3251.141.51.76/3252.112.0.0/1452.120.0.0/1452.163.126.215/3252.170.21.67/3252.172.185.18/3252.178.94.2/3252.178.161.139/3252.228.25.96/3252.238.119.141/3252.242.23.189/3252.244.160.207/32104.215.11.144/32104.215.62.195/32138.91.237.237/32 TCP 443 R06 Skype for Business Online and Microsoft Teams 13.107.64.0/1852.112.0.0/1452.120.0.0/14 UDP 3478, 3479, 3480, 3481"},{"location":"as-built-as-configured/hybrid-network-configuration/#office-365-sharepoint-online-and-onedrive-for-business","title":"Office 365 \u2013 SharePoint Online and OneDrive for Business","text":""},{"location":"as-built-as-configured/hybrid-network-configuration/#proxy-whitelist_5","title":"Proxy whitelist","text":"<p>The following table describes the Office 365 SharePoint Online and OneDrive for Business Proxy Whitelist settings.</p> Reference Purpose Source Destination Port R06 SharePoint Online and OneDrive for Business .wns.windows.comadmin.onedrive.comofficeclient.microsoft.comg.live.comoneclient.sfx.ms.sharepointonline.comcdn.sharepointonline.comprivatecdn.sharepointonline.compubliccdn.sharepointonline.comspoprod-a.akamaihd.netstatic.sharepointonline.com*.svc.msDev-files.sharepoint.comDev-myfiles.sharepoint.com TCP 80, 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#direct-firewall-exclusion_5","title":"Direct firewall exclusion","text":"<p>The following table describes the Office 365 SharePoint Online and OneDrive for Business Direct Firewall Exclusion settings.</p> Reference Purpose Source Destination Port R06 SharePoint Online and OneDrive for Business 13.107.136.0/2240.108.128.0/1752.104.0.0/14104.146.128.0/17150.171.40.0/22 TCP 80, 443"},{"location":"as-built-as-configured/hybrid-network-configuration/#office-365-email-protective-markings-with-mip-technology","title":"Office 365 \u2013 email protective markings with MIP technology","text":"<p>For organisations that send PROTECTED emails through a GovLink mail gateway, the labelling product, as well as the gateway itself, must support the inspection of the email headers. At the time of writing, Microsoft Information Protection labelling does not natively offer a method to format email headers in a manner consistent with the requirements of the PSPF and as such, additional configuration is needed. This section provides a method of modifying the email headers in a mail gateway to ensure compliance with the PSPF.</p>"},{"location":"as-built-as-configured/hybrid-network-configuration/#outbound-protective-marking","title":"Outbound protective marking","text":"<p>Below describes the Office 365 Cisco ESA Rules for Office 365 Outbound Protective Marking settings.</p> <pre><code>office365_outboundprotectivemarkings:\nif ((mail-from == '@&lt;Agency Acronym&gt;\\\\.gov\\\\.au$') and (sendergroup == \"RELAYLIST\")) {\n    if header(\"Subject\") == \"SEC=PROTECTED\" {\n        edit-header-text(\"Subject\", \"\\\\[SEC=PROTECTED\\\\]*\", \"\");\n    }\n    if header(\"Subject\") == \"SEC=OFFICIAL:Sensitive\" {\n        edit-header-text(\"Subject\", \"\\\\[SEC=OFFICIAL:Sensitive\\\\]*\", \"\");\n    }\n    if header(\"Subject\") == \"SEC=UNOFFICIAL\" {\n        edit-header-text(\"Subject\", \"\\\\[SEC=UNOFFICIAL\\\\]*\", \"\");\n    }\n    if header(\"Subject\") == \"SEC=OFFICIAL\" {\n        edit-header-text(\"Subject\", \"\\\\[SEC=OFFICIAL\\\\]*\", \"\");\n    }\n    if (header(\"msip_labels\") == \"PROTECTED\") AND (sendergroup == \"RELAYLIST\") {\n        insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=PROTECTED, ORIGIN=$EnvelopeFrom\");\n        edit-header-text(\"Subject\", \"(.*)\", \"\\\\1 [SEC=PROTECTED]\");\n    } else {\n        if (header(\"msip_labels\") == \"Sensitive\") AND (sendergroup == \"RELAYLIST\") {\n            insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=OFFICIAL:Sensitive, ORIGIN=$EnvelopeFrom\");\n            edit-header-text(\"Subject\", \"(.*)\", \"\\\\1 [SEC=OFFICIAL:Sensitive]\");\n        } else {\n            if (header(\"msip_labels\") == \"UNOFFICIAL\") AND (sendergroup == \"RELAYLIST\") {\n                insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=UNOFFICIAL, ORIGIN=$EnvelopeFrom\");\n                edit-header-text(\"Subject\", \"(.*)\", \"\\\\1 [SEC=UNOFFICIAL]\");\n            } else {\n                if (header(\"msip_labels\") == \"OFFICIAL\") AND (sendergroup == \"RELAYLIST\") {\n                    insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=OFFICIAL, ORIGIN=$EnvelopeFrom\");\n                    edit-header-text(\"Subject\", \"(.*)\", \"\\\\1 [SEC=OFFICIAL]\");\n                } else {\n                    quarantine(\"Policy\");\n                }\n            }\n        }\n    }\n} else {                                       \n    no-op();\n}\n</code></pre>"},{"location":"as-built-as-configured/hybrid-network-configuration/#inbound-protective-marking","title":"Inbound protective marking","text":"<p>Note: Please do not copy the below rule directly into the Agency environment for Inbound Protective Marking as it will not produce the desired results. This is an example rule which requires modification prior to implementation. The rule contains Globally Unique Identifiers (GUIDs) related to instances of sensitivity labels in a specific tenant.</p> <pre><code>office365_inboundprotectivemarkings: \nif (rcpt-to == '@&lt;Agency Acronym&gt;\\\\.gov\\\\.au$') {\n    if (header(\"Subject\") == \"SEC=PROTECTED\") AND (header(\"Subject\") == \"SEC\") {\n        insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=PROTECTED, ORIGIN=$EnvelopeFrom\");\n        insert-header(\"msip_labels\", \"MSIP_Label_12dcf2ca-f80e-4ac2-861b-4b6557faeea3_Enabled=True;MSIP_Label_12dcf2ca-f80e-4ac2-861b-4b6557faeea3_SiteId=158b7f91-36cd-420e-8730-3dbec75e20a9;MSIP_Label_12dcf2ca-f80e-4ac2-861b-4b6557faeea3_Name=PROTECTED;MSIP_Label_12dcf2ca-f80e-4ac2-861b-4b6557faeea3_ContentBits=0;MSIP_Label_12dcf2ca-f80e-4ac2-861b-4b6557faeea3_Method=Privileged;\");\n    } else {\n        if (header(\"Subject\") == \"SEC=OFFICIAL:Sensitive\") AND (header(\"Subject\") == \"SEC\") {\n            insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au,SEC=OFFICIAL:Sensitive, ORIGIN=$EnvelopeFrom\");\n            insert-header(\"msip_labels\", \"MSIP_Label_42227f60-6734-42bf-b4e6-da15ab730981_Enabled=True;MSIP_Label_42227f60-6734-42bf-b4e6-da15ab730981_SiteId=158b7f91-36cd-420e-8730-3dbec75e20a9;MSIP_Label_42227f60-6734-42bf-b4e6-da15ab730981_Name=OFFICIAL Sensitive;MSIP_Label_42227f60-6734-42bf-b4e6-da15ab730981_ContentBits=0;MSIP_Label_42227f60-6734-42bf-b4e6-da15ab730981_Method=Privileged;\");\n        } else {\n            if (header(\"Subject\") == \"SEC=UNOFFICIAL\") AND (header(\"Subject\") == \"SEC\") {\n                insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=UNOFFICIAL,ORIGIN=$EnvelopeFrom\");\n                insert-header(\"msip_labels\", \"MSIP_Label_217258b3-6022-44f0-adb4-d6eca052ad20_Enabled=True;MSIP_Label_217258b3-6022-44f0-adb4-d6eca052ad20_SiteId=158b7f91-36cd-420e-8730-3dbec75e20a9;MSIP_Label_217258b3-6022-44f0-adb4-d6eca052ad20_Name=UNOFFICIAL;MSIP_Label_217258b3-6022-44f0-adb4-d6eca052ad20_ContentBits=0;MSIP_Label_217258b3-6022-44f0-adb4-d6eca052ad20_Method=Privileged;\");\n            } else {\n                if (header(\"Subject\") == \"SEC=OFFICIAL\") AND (header(\"Subject\") == \"SEC\") {\n                    insert-header(\"X-Protective-marking\", \"VER=2018.1, NS=gov.au, SEC=OFFICIAL,ORIGIN=$EnvelopeFrom\");\n                    insert-header(\"msip_labels\", \"MSIP_Label_8260affa-0595-45d6-a83e-a3b79a9c02c4_Enabled=True;MSIP_Label_8260affa-0595-45d6-a83e-a3b79a9c02c4_SiteId=158b7f91-36cd-420e-8730-3dbec75e20a9;MSIP_Label_8260affa-0595-45d6-a83e-a3b79a9c02c4_Name=OFFICIAL;MSIP_Label_8260affa-0595-45d6-a83e-a3b79a9c02c4_ContentBits=0;MSIP_Label_8260affa-0595-45d6-a83e-a3b79a9c02c4_Method=Privileged;\");\n                } else {\n                    no-op();\n                }\n            }\n        }\n    }\n} else  {\n    no-op();\n}\n</code></pre>"},{"location":"as-built-as-configured/hybrid-network-configuration/#azure-advanced-threat-protection-azure-atp","title":"Azure Advanced Threat Protection (Azure ATP)","text":"<p>The following tables below describe the Azure Advanced Threat Protection service URLs Whitelist settings.</p> <p>Direct and correct service location access to the agency Azure ATP instance name (Option 1)</p> Reference Purpose Source Destination Port R08 Azure ATP portal <code>agency-instance-name</code>.atp.azure.com TCP 443 R08 Azure ATP senor <code>agency-instance-name</code>.sensorapi.atp.azure.com TCP 443 <p>Granular control to service location access for Azure ATP (Option 2)</p> Reference Purpose Source Destination Port R08 Service location: US triprd1wcusw1sensorapi.atp.azure.comtriprd1wcuswb1sensorapi.atp.azure.comtriprd1wcuse1sensorapi.atp.azure.com TCP 443 R08 Service location: Europe triprd1wceun1sensorapi.atp.azure.comtriprd1wceuw1sensorapi.atp.azure.com TCP 443 R08 Service location: Asia triprd1wcasse1sensorapi.atp.azure.com TCP 443 <p>Azure Advanced Threat Protection Sensor (Domain Controller) Proxy Whitelist settings</p> Reference Purpose Source Destination Port R08 Internet ports Domain Controllers SSL (*.atp.azure.com) TCP 443 / Outbound direction R08 Internet ports Localhost SSL (localhost) TCP 444 / Both direction R08 Internal ports Domain Controllers All devices on network TCP/UDP 445 / Outbound R08 Internal ports (Optional) Domain Controllers SIEM Server TCP/UDP 514, depending on configuration / Inbound R08 Internal ports Domain Controllers RADIUS UDP 1813 / Inbound direction R08 Internal ports Domain Controllers DNS servers TCP &amp; UDP 53 / outbound direction R08 Internal ports Domain Controllers All devices on network TCP 135 / Inbound direction R08 Internal ports Domain Controllers All devices on network UDP 137 / Inbound direction R08 Internal ports Domain Controllers All devices on network TCP 3389 / Inbound direction <p>Azure Advanced Threat Protection Sensor (Standalone Server) Proxy Whitelist settings</p> Reference Purpose Source Destination Port R08 Internet ports Standalone Server SSL (*.atp.azure.com) TCP 443 / Outbound direction R08 Internal ports Standalone Server Domain Controllers TCP &amp; UDP 389 / Outbound direction R08 Internal ports Standalone Server Domain Controllers TCP 636 / Outbound direction R08 Internal ports Standalone Server Domain Controllers TCP 3268 / Outbound direction R08 Internal ports Standalone Server Domain Controllers TCP 3269 / Outbound direction R08 Internal ports Standalone Server Domain Controllers TCP &amp; UDP 88 / Outbound direction R08 Internal ports Standalone Server All devices on network TCP/UDP 445 / Outbound R08 Internal ports Standalone Server Domain Controllers UDP 123 / Outbound direction R08 Internal ports Standalone Server DNS servers TCP &amp; UDP 53 / Outbound direction R08 Internal ports (Optional) Standalone Server SIEM Server TCP/UDP 514, depending on configuration / Inbound direction R08 Internal ports Domain Controllers RADIUS UDP 1813 / Inbound direction"},{"location":"as-built-as-configured/hybrid-network-configuration/#azure-active-directory-connect","title":"Azure Active Directory Connect","text":"<p>The following table describes the AAD Connect ports and protocols required for communication between the AAD Connect server and on-premises Active Directory.</p> Reference Purpose Source Destination Port R09 DNS (DNS lookups on the destination forest) AAD Connect server DNS server 53 (TCP/UDP) / Both direction R09 Kerberos (Authentication to the AD forest) AAD Connect server Domain Controllers 88 (TCP/UDP) / Both direction R09 MS-RPC (Used during the initial configuration of the Azure AD Connect wizard when it binds to the AD forest, and also during password synchronisation) AAD Connect server Domain Controllers 135 (TCP/UDP) / Both direction R09 LDAP (Used for data import from AD. Data is encrypted with Kerberos Sign &amp; Seal) AAD Connect server Domain Controllers 389 (TCP/UDP) / Both direction R09 SMB (used by Seamless SSO to create computer account in AD forest) AAD Connect server Domain Controllers 445 (TCP/UDP) / Both direction R08 LDAP/SSL (used for data import from AD. The data transfer is signed and encrypted. Only used if you are using TLS) AAD Connect server Domain Controllers 636 (TCP/UDP) R08 RPC (Used during the initial configuration of the Azure AD Connect wizard when it binds to the AD forest, and also during password synchronisation) AAD Connect server Domain Controllers 49152 \u2013 65535 (Random high RPC port) (TCP) <p>The following table describes the AAD Connect ports and protocols required for communication between the AAD Connect server and Azure AD.</p> Reference Purpose Source Destination Port R09 HTTP (used to download Certificate Revocation Lists to verify SSL certificates) AAD Connect server Agency Azure AD Tenant 80 (TCP) / outbound direction R09 HTTPS (used to synchronise with Azure AD, including communication with the AAD Connect Health agents) AAD Connect server Agency Azure AD Tenant 443 (TCP) / outbound direction"},{"location":"as-built-as-configured/hybrid-task-sequence/","title":"Hybrid task sequence","text":""},{"location":"as-built-as-configured/hybrid-task-sequence/#hybrid-task-sequence-deploy","title":"Hybrid - task sequence deploy","text":"<p>5 minutes to read - 30 March 2023</p> <p>The following provides guidance on settings required to develop a Windows 10 task sequence that can be used as the basis for the Agency specific Operating System image used prior to Autopilot taking over the image in Hybrid deployments.</p>"},{"location":"as-built-as-configured/hybrid-task-sequence/#base-configuration","title":"Base configuration","text":"<p>The following table describes the base configuration for the Operating System.</p> Item Value Windows Edition Windows 10 Enterprise System Type 64-bit Operating System Windows Servicing Channel General Availability Windows Version 22H2"},{"location":"as-built-as-configured/hybrid-task-sequence/#task-sequence-prerequisites","title":"Task sequence prerequisites","text":"<p>The following table describes the prerequisites in use in the task sequence.</p> Item Description AutopilotConfigurationFile.json The AutopilotConfigurationFile.json is required to be available within an Microsoft Endpoint Configuration Manager (MECM) package. As a requirement the Intune enrolment ABAC would need to be implemented before this ABAC. MECM Package Windows 10 Customisations package to be created within MECM and contain the AutopilotConfigurationFile.json and the Unattend.xml files. MECM Package Configuration Manager Client packaged needs to exist, this typically exists by default with the MECM installation. MECM Boot Image A WinPE boot image is required to boot to Windows PE, this typically exists by default with the MECM installation. MECM Operating System Image An Operating System image is required within MECM. This should consist of the Windows 10 WIM file as per the Base Configuration. Additional Agency specific customisations can be injected into the WIM as required, however this is out of scope of this ABAC."},{"location":"as-built-as-configured/hybrid-task-sequence/#windows-10-task-sequence","title":"Windows 10 task sequence","text":"<ul> <li>Install operating system</li> <li>Item: Restart in Windows PE<ul> <li>Type: Restart Computer</li> <li>Configuration: The boot image assigned to this task sequence</li> <li>Options/Scripts: Task Sequence Variable <code>_SMSTSInWinPE equals \u201cfalse\u201d</code></li> </ul> </li> <li>Item: Partition Disk 0 - BIOS<ul> <li>Type: Format and Partition Disk</li> <li>Configuration</li> <li>System Reserved (Primary) 350 MB fixed size. NTFS file system</li> <li>Windows (Primary) 99% of remaining space on disk. NTFS file system</li> <li>Recovery (Recovery) 100% of remaining space on disk. NTFS file system.</li> <li>Options/Scripts: Task Sequence Variable <pre><code>_SMSTSClientCache not exists\n_SMSTSMediaType not equals \u201cOEMMedia\u201d\n_OSDMigrateUseHardlinks not equals \u201ctrue\u201d\n_SMSTSBootUEFI not equals \u201ctrue\u201d\n</code></pre></li> </ul> </li> <li>Item: Partition Disk 0 \u2013 UEFI<ul> <li>Type: Format and Partition Disk</li> <li>Configuration</li> <li>(EFI) 500 MB fixed size. FAT32 file system.</li> <li>(MBR) 128 MB fixed size.</li> <li>Windows (Primary) 99% of remaining space on disk. NTFS file system.</li> <li>Recovery (Recovery) 100% of remaining space on disk. NTFS file system.</li> </ul> </li> <li>Item: Pre-provision BitLocker<ul> <li>Type: Pre-provision BitLocker</li> <li>Configuration</li> <li>Apply BitLocker to the specified drive: Next available formatted partition</li> <li>Skip this step for computers that do not have a TPM or when TPM is not enabled</li> </ul> </li> <li>Item: Apply Operating System<ul> <li>Type: Apply Operating System Image</li> <li>Configuration</li> <li>Apply operating system from a captured image<ul> <li>Install package: Windows 10 x64 1909</li> <li>Image index: Windows 10 Enterprise</li> </ul> </li> <li>Use an unattended or sysprep answer file for a custom installation<ul> <li>Packaged: Windows 10 Customisations</li> <li>File name: Unattend.xml</li> </ul> </li> </ul> </li> <li>Item: Apply Windows Settings<ul> <li>Type: Apply Windows Settings</li> <li>Configuration</li> <li>Organization name: Agency Name</li> <li>Product key: KMS or leave blank</li> <li>Randomly generate the local administrator password and disable the account on all supported platforms (recommended)</li> <li>Time zone: (UTC +10:00) Canberra, Melbourne, Sydney</li> </ul> </li> <li>Item: Apply Windows Autopilot configuration<ul> <li>Type: Run Command Line</li> <li>Configuration</li> <li>Command line: <code>Cmd.exe /c xcopy AutopilotConfigurationFile.json %OSDTargetSystemDrive%\\Windows\\ Provisioning\\Autopilot\\ /c</code> Note: for Autopilot Configuration File refer to Annex 2.</li> <li>Package: Windows 10 Customisations</li> </ul> </li> <li>Item: Apply Device Drivers<ul> <li>Type: Auto Apply Drivers</li> <li>Configuration</li> <li>Install only the best matched compatible drivers</li> <li>Consider drivers from all categories. Note: Agency specific Device Drivers will need to be added to MECM.</li> </ul> </li> <li>Setup Operating System</li> <li>Item: Setup Windows and Configuration Manager<ul> <li>Type: Setup Windows and ConfigMgr</li> <li>Configuration</li> <li>Client Package: Configuration Manager Client Package</li> </ul> </li> <li>Item: Enable BitLocker<ul> <li>Type: Enable BitLocker</li> <li>Configuration</li> <li>Current operating system drive</li> <li>TPM only</li> <li>Choose where to create the recovery key: In Active Directory Domain Services</li> <li>Note: This task may cause issues if there is no supported TPM module located.</li> </ul> </li> <li>Item: Install Updates<ul> <li>Type: Install Software Updates</li> <li>Configuration</li> <li>Available for installation \u2013 All software updates</li> <li>Evaluate software updates form cached scan results: Enabled</li> <li>Options/Scripts</li> <li>Continue on error</li> <li>Task Sequence Variable: <code>_SMSTSMediaType not equals \"FullMedia\"</code></li> </ul> </li> <li>Item: Install Applications<ul> <li>Type: Install Applications</li> <li>Configuration</li> <li>Install the following applications: Agency specific applications</li> <li>Note: This step should be considered optional and only used if the applications are unable to be migrated to Microsoft Endpoint Manager - Intune (Intune)</li> </ul> </li> <li>Prepare device for Windows Autopilot</li> <li>Item: Prepare Configuration Manager Client<ul> <li>Type: Prepare ConfigMgr Client for Capture</li> </ul> </li> <li>Item: Prepare Windows for Capture<ul> <li>Type: Run Command Line</li> <li>Configuration</li> <li>Command Line: <code>c:\\windows\\system32\\sysprep\\sysprep.exe /oobe /reboot</code></li> </ul> </li> </ul> <p>Figure 1 has been included to show order of the task sequence.</p> <p></p>"},{"location":"as-built-as-configured/hybrid-task-sequence/#autopilot","title":"Autopilot","text":"<p>Once the Task Sequence has been completed the Windows OOBE (Out Of the Box Experience) will start at next power cycle of the workstation. Autopilot will start its process to apply the additional Agency customisations.</p> Item Configuration Region Australia Keyboard Layout US Email Address Agency specific user <p>The following figure shows the OOBE Agency specific welcome page.</p> <p></p>"},{"location":"as-built-as-configured/hybrid-task-sequence/#annex-1-unattendxml","title":"Annex 1: Unattend.xml","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;unattend xmlns=\"urn:schemas-microsoft-com:unattend\"&gt;\n     &lt;settings pass=\"oobeSystem\"&gt;\n          &lt;component name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n               &lt;InputLocale&gt;0c09:00000409&lt;/InputLocale&gt;\n               &lt;SystemLocale&gt;en-AU&lt;/SystemLocale&gt;\n               &lt;UILanguage&gt;en-AU&lt;/UILanguage&gt;\n               &lt;UserLocale&gt;en-AU&lt;/UserLocale&gt;\n               &lt;UILanguageFallback&gt;en-US&lt;/UILanguageFallback&gt;\n          &lt;/component&gt;\n          &lt;component name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\"&gt;\n               &lt;OOBE&gt;\n                    &lt;HideWirelessSetupInOOBE&gt;true&lt;/HideWirelessSetupInOOBE&gt;\n                    &lt;NetworkLocation&gt;Work&lt;/NetworkLocation&gt;\n                    &lt;SkipMachineOOBE&gt;true&lt;/SkipMachineOOBE&gt;\n                    &lt;SkipUserOOBE&gt;true&lt;/SkipUserOOBE&gt;\n               &lt;/OOBE&gt;\n          &lt;/component&gt;\n     &lt;/settings&gt;\n&lt;/unattend&gt;\n</code></pre>"},{"location":"as-built-as-configured/hybrid-task-sequence/#annex-2-autopilotconfigurationfilejson","title":"Annex 2: AutopilotConfigurationFile.json","text":"<p>This is an example AutopilotConfigurationFile.json only. This file will be agency specific and should be generated from the Intune tenant. Ensure that the <code>TenantId</code> and <code>ZtdCorrelationID</code> are correct before using.</p> <pre><code>{\n  \"CloudAssignedDomainJoinMethod\": 0,\n  \"CloudAssignedDeviceName\": \"TEST%RAND: 2%\",\n  \"CloudAssignedAutopilotUpdateTimeout\": 1800000,\n  \"CloudAssignedForcedEnrollment\": 1,\n  \"Version\": 2049,\n  \"CloudAssignedTenantId\": \"xxxxxxxx-xxx-xxxx-xxxx-xxxxxxxxxxxx\",\n  \"CloudAssignedAutopilotUpdateDisabled\": 1,\n  \"ZtdCorrelationId\": \"xxxxxxxx-xxx-xxxx-xxxx-xxxxxxxxxxxx\",\n  \"Comment_File\": \"Profile Autopilot\",\n  \"CloudAssignedAadServerData\": \"{\\\"ZeroTouchConfig\\\":{\\\"CloudAssignedTenantUpn\\\":\\\"\\\",\\\"ForcedEnrollment\\\":1,\\\"CloudAssignedTenantDomain\\\":\\\"testagency.gov.au\\\"}}\",\n  \"CloudAssignedOobeConfig\": 1310,\n  \"CloudAssignedTenantDomain\": \"testagency.gov.au\",\n  \"CloudAssignedLanguage\": \"os-default\"\n}\n</code></pre>"},{"location":"as-built-as-configured/intune-applications/","title":"Intune applications","text":""},{"location":"as-built-as-configured/intune-applications/#microsoft-endpoint-manager-intune-applications","title":"Microsoft Endpoint Manager - Intune applications","text":"<p>9 minutes to read - 30 March 2023</p> <p>The following Microsoft Endpoint Manager - Intune (Intune) applications can be found in the Azure Portal at <code>Microsoft Endpoint Manager &gt; Apps</code></p>"},{"location":"as-built-as-configured/intune-applications/#company-portal","title":"Company portal","text":"<ul> <li>Name: <code>Company Portal</code></li> <li>Description: -</li> <li>Type: <code>Web link</code></li> <li>App information</li> <li>Publisher: <code>Microsoft</code></li> <li>App URL: <code>https://portal.manage.microsoft.com/</code></li> <li>Require a managed browser to open this link: <code>No</code></li> <li>Category: <code>Business</code></li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: -</li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>rol-Agency-Users</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-authenticator","title":"Microsoft Authenticator","text":"<ul> <li>Name: <code>Microsoft Authenticator</code></li> <li>Description: <code>Sign in is easy, convenient, and secure when you use Microsoft Authenticator. Use your phone, not your password, to log into your Microsoft account. You simply have to enter your username, then approve the notification sent to your phone. Your fingerprint, face ID, or PIN will provide a second layer of security in this two step verification process. After, you'll have access to all your Microsoft products</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-authenticator/id983156458?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-edge","title":"Microsoft Edge","text":"<ul> <li>Name: <code>Microsoft Edge</code></li> <li>Description: <code>Introducing the new Microsoft Edge. It\u2019s time to expect more. More privacy. More control. More productivity. More value. Browse anywhere with one continuous experience from your phone to your computer and other signed-in devices. Microsoft Edge gives you the tools to protect your privacy online with features like tracking prevention, AdBlock Plus and InPrivate mode. Organise the web in a way that cuts through the clutter, making it easier to find, view and manage your content on-the-go. With world class compatibility, performance and new features, the new Microsoft Edge is the only browser you\u2019ll ever need.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-edge/id1288723196?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-edge-for-windows-10","title":"Microsoft Edge for Windows 10","text":"<ul> <li>Name: <code>Microsoft Edge for Windows 10</code></li> <li>Description: <code>Microsoft Edge is the browser for business with modern and legacy web compatibility, new privacy features such as Tracking prevention, and built-in productivity tools such as enterprise-grade PDF support and access to Office and corporate search right from a new tab.</code></li> <li>Type: <code>Microsoft Edge (Windows 10)</code></li> <li>App information</li> <li>Publisher: <code>Microsoft</code></li> <li>Category: <code>Productivity</code></li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: <code>https://www.microsoft.com/en-us/windows/microsoft-edge</code></li> <li>Privacy URL: <code>https://privacy.microsoft.com/en-US/privacystatement</code></li> <li>Developer: <code>Microsoft</code></li> <li>Owner: <code>Microsoft</code></li> <li>Notes: -</li> <li>Channel: <code>Stable</code></li> <li>Language: <code>Operating system default</code></li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>grp-agency-windows10-dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-excel","title":"Microsoft Excel","text":"<ul> <li>Name: <code>Microsoft Excel</code></li> <li>Description: <code>Microsoft Excel, the spreadsheet app, lets you create, view, edit, and share your files quickly and easily. Manage spreadsheets, tables and workbooks attached to email messages from your phone with this powerful productivity app from Microsoft.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-excel/id586683407?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-onedrive","title":"Microsoft OneDrive","text":"<ul> <li>Name: <code>Microsoft OneDrive</code></li> <li>Description: <code>Do more wherever you go with Microsoft OneDrive. Get to and share your documents, photos, and other files from your iOS device, computer (PC or Mac), and any other devices you use. Use the Office mobile apps to stay productive and work together, no matter where you are. The OneDrive app for iOS lets you easily work with your personal and work files when you're on the go.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-onedrive/id477537958?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-outlook","title":"Microsoft Outlook","text":"<ul> <li>Name: <code>Microsoft Outlook</code></li> <li>Description: <code>Outlook lets you bring all your email accounts and calendars in one convenient spot. Whether it's staying on top of your inbox or scheduling the next big thing, we make it easy to be your most productive, organized, and connected self.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-outlook/id951937596?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: <code>Productivity</code></li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-teams","title":"Microsoft Teams","text":"<ul> <li>Name: <code>Microsoft Teams</code></li> <li>Description: <code>Microsoft Teams is your hub for teamwork in Office 365. All your team conversations, files, meetings, and apps live together in a single shared workspace, and you can take it with you on your favourite mobile device. Whether you\u2019re sprinting towards a deadline or sharing your next big idea, Teams can help you achieve more.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-teams/id1113153706?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-word","title":"Microsoft Word","text":"<ul> <li>Name: <code>Microsoft Word</code></li> <li>Description: <code>The trusted Word app lets you create, edit, view, and share your files with others quickly and easily. Send, view and edit Office docs attached to emails from your phone with this powerful word processing app from Microsoft.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/us/app/microsoft-word/id586447913?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#power-apps","title":"Power Apps","text":"<ul> <li>Name: <code>Power Apps</code></li> <li>Description: <code>Get Power Apps to use business apps made for your team and organization. Install Power Apps for iPhone and iPad to: Use custom Power Apps that were shared with you; Get work done from anywhere and on any device; Automate tasks and accomplish more \u2022 Access, capture, and share business data.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/au/app/power-apps/id1047318566?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-whiteboard","title":"Microsoft Whiteboard","text":"<ul> <li>Name: <code>Microsoft Whiteboard</code></li> <li>Description: <code>Microsoft Whiteboard provides a freeform intelligent canvas where teams can ideate, create and collaborate visually via the cloud. Designed for pen and touch, it lets you write or draw as smoothly as you would with ink, while automatically recognising and transforming shapes and tables as you draw. It enhances teamwork by allowing all team members to edit and comment directly on the canvas in real time, no matter where they are. And all your work stays safe in the cloud, ready to be picked back up from another location or device.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/au/app/microsoft-whiteboard/id1352499399?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-planner","title":"Microsoft Planner","text":"<ul> <li>Name: <code>Microsoft Planner</code></li> <li>Description: <code>Planner provides a simple, visual way to organize teamwork. Planner makes it easy for your team to create new plans, organize and assign tasks, share files, chat about what you\u2019re working on, and get updates on progress.</code></li> <li>Type: <code>iOS Volume-Purchases Program</code></li> <li>App information</li> <li>Publisher: <code>Microsoft Corporation</code></li> <li>Appstore URL: <code>https://apps.apple.com/au/app/microsoft-planner/id1219301037?uo=4</code></li> <li>Minimum operating system: <code>iOS 14.0</code></li> <li>Applicable device type: <code>iPad</code>, <code>iPhone and iPod</code></li> <li>Category: -</li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: -</li> <li>Privacy URL: -</li> <li>Developer: -</li> <li>Owner: -</li> <li>Notes: -</li> <li>Logo: </li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>gpr-iOS-Dynamic</code></li> <li>Available for enrolled devices: -</li> <li>Available with or without enrollment: -</li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-applications/#microsoft-365-apps-for-windows-10","title":"Microsoft 365 Apps for Windows 10","text":"<ul> <li>Name: <code>Microsoft 365 Apps for Windows 10</code></li> <li>Type: <code>Microsoft 365 Apps for Windows 10</code></li> <li>App information</li> <li>Publisher: <code>Microsoft</code></li> <li>Category: <code>Productivity</code></li> <li>Show this as a featured app in the Company Portal: <code>Yes</code></li> <li>Information URL: <code>https://products.office.com/en-us/explore-office-for-home</code></li> <li>Privacy URL: <code>https://privacy.microsoft.com/en-US/privacystatement</code></li> <li>Developer: <code>Microsoft</code></li> <li>Owner: <code>Microsoft</code></li> <li>Notes: -</li> <li>Logo: </li> <li>App suite configuration</li> <li>Apps to be installed as part of the suite: <code>Excel, Outlook, PowerPoint, Publisher, Teams, Word</code></li> <li>Architecture: <code>64-bit</code></li> <li>Update channel: <code>Monthly Enterprise Channel</code></li> <li>Remove other versions: <code>Yes</code></li> <li>Version to install: <code>Latest</code></li> <li>Use shared computer activation: <code>Yes</code></li> <li>Accept the Microsoft Software License Terms on behalf of users: <code>Yes</code></li> <li>Install background service for Microsoft Search in Bing: <code>No</code></li> <li>Languages: <code>No languages selected</code></li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Required: <code>grp-agency-windows10-dynamic</code></li> <li>Uninstall: -</li> </ul>"},{"location":"as-built-as-configured/intune-compliance/","title":"Intune compliance","text":""},{"location":"as-built-as-configured/intune-compliance/#microsoft-endpoint-manager-intune-compliance","title":"Microsoft Endpoint Manager - Intune compliance","text":"<p>3 minutes to read - 30 March 2023</p> <p>The following Microsoft Endpoint Manager - Intune (Intune) compliance settings can be found in the Microsoft Endpoint Manager Portal at <code>Microsoft Endpoint Manager &gt; Devices &gt; Compliance policies &gt; Policies</code></p>"},{"location":"as-built-as-configured/intune-compliance/#windows-10-compliance","title":"Windows 10 compliance","text":"<ul> <li>Name: <code>Windows 10 Compliance Policy</code></li> <li>Platform: <code>Windows 10 and later</code></li> <li>Profile type: <code>Windows 10/11 compliance policy</code></li> <li>Compliance settings</li> <li>Device Health<ul> <li>Require BitLocker: <code>Require</code></li> <li>Require Secure Boot to be enabled on the device: <code>Require</code></li> <li>Require code integrity: <code>Require</code></li> </ul> </li> <li>Device Properties<ul> <li>Minimum OS version: <code>10.0.19043.10000</code></li> <li>Minimum OS version for mobile devices: <code>10.0.19043.10000</code></li> </ul> </li> <li>System Security<ul> <li>Require a password to unlock mobile devices: <code>Require</code></li> <li>Simple passwords: <code>Block</code></li> <li>Password type: <code>Alphanumeric</code></li> <li>Password Complexity: <code>Require digits, lowercase and uppercase letters</code></li> <li>Minimum password length: <code>14</code></li> <li>Maximum minutes of inactivity before password is required: <code>15 Minutes</code></li> <li>Password expiration (days): <code>365</code></li> <li>Number of previous passwords to prevent reuse: <code>5</code></li> <li>Require password when device returns from idle state (Mobile and Holographic): <code>Require</code></li> <li>Require encryption of data storage on device: <code>Require</code></li> <li>Firewall: <code>Require</code></li> <li>Trusted Platform Module (TPM): <code>Require</code></li> <li>Antivirus: <code>Require</code></li> <li>Antispyware: <code>Require</code></li> <li>Microsoft Defender Antimalware: <code>Require</code></li> <li>Microsoft Defender Antimalware minimum version: <code>4.18.0.0</code></li> <li>Microsoft Defender Antimalware security intelligence up-to-date: <code>Require</code></li> <li>Real-time protection: <code>Require</code></li> </ul> </li> <li> <p>Microsoft Defender for Endpoint</p> <ul> <li>Require the device to be at or under the machine risk score: <code>Medium</code></li> </ul> </li> <li> <p>Actions for noncompliance</p> </li> <li>Action: <code>Mark device noncompliant</code></li> <li>Schedule: <code>1 Day</code></li> <li>Scope tags: <code>Default</code></li> <li>Assignments: </li> <li>Included groups: <code>rol-Agency-Administrators, rol-Agency-Users</code></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/intune-compliance/#ios-compliance","title":"iOS compliance","text":"<ul> <li>Name: <code>iOS Compliance Policy</code></li> <li>Description: -</li> <li>Platform: <code>iOS/iPadOS</code></li> <li>Profile type: <code>iOS compliance policy</code></li> <li>Compliance settings</li> <li>Device Health<ul> <li>Jailbroken devices: <code>Block</code></li> <li>Require the device to be at or under the Device Threat Level: <code>Medium</code></li> </ul> </li> <li>Device Properties<ul> <li>Minimum OS version: <code>14.8.1</code></li> <li>Minimum OS build version: <code>18H107</code></li> </ul> </li> <li>Microsoft Defender for Endpoint<ul> <li>Require the device to be at or under the machine risk score: <code>Medium</code></li> </ul> </li> <li>System Security:<ul> <li>Require a password to unlock mobile devices.: <code>Required</code></li> <li>Simple passwords: <code>Block</code></li> <li>Minimum password length: <code>14</code></li> <li>Required password type: <code>Alphanumeric</code></li> <li>Number of non-alphanumeric characters in password: <code>1</code></li> <li>Maximum minutes after screen lock before password is required: <code>Immediately</code></li> <li>Maximum minutes of inactivity until screen locks: <code>15 Minutes</code></li> <li>Password expiration (days): <code>365</code></li> <li>Number of previous passwords to prevent reuse: <code>5</code></li> </ul> </li> <li>Actions for noncompliance</li> <li>Action: <code>Mark device noncompliant</code></li> <li>Schedule: <code>1 Days</code></li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Included groups: <code>rol-Agency-Administrators</code>, <code>rol-Agency-Users</code></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/intune-compliance/#compliance-policy-settings","title":"Compliance policy settings","text":"<p>The following settings configure the way the compliance service treats devices. Each device evaluates these as a \"Built-in Device Compliance Policy\", which is reflected in device monitoring.</p> <p>The configuration can be found at <code>Microsoft Endpoint Manager &gt; Devices &gt; Compliance policies | Compliance policy settings</code></p> <ul> <li>Mark devices with no compliance policy assigned as: <code>Not Compliant</code></li> <li>Enhanced jailbreak detection: <code>Enabled</code></li> <li>Compliance status validity period (days): <code>30</code></li> </ul>"},{"location":"as-built-as-configured/intune-configuration/","title":"Intune configuration","text":""},{"location":"as-built-as-configured/intune-configuration/#microsoft-endpoint-manager-intune-configuration","title":"Microsoft Endpoint Manager - Intune configuration","text":"<p>59 minutes to read - 30 March 2023</p>"},{"location":"as-built-as-configured/intune-configuration/#configuration-profiles","title":"Configuration Profiles","text":"<p>The ABAC settings for the Agency Microsoft Endpoint Manager - Intune (Intune) Profiles can be found below. This includes macro security, Windows 10 Hardening (ACSC), Windows Hello, block admins, delivery optimisation, disable Adobe Flash, Microsoft Store, Defender, network boundary, OneDrive, timezone, Bitlocker, and Windows 10 Enterprise settings.</p> <p>Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/intune-configuration/#windows-client-devices","title":"Windows Client Devices","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Configuration profiles &gt; Create Profile &gt; Windows 10 and Later</code></p>"},{"location":"as-built-as-configured/intune-configuration/#acsc-applocker-lockdown-csp","title":"ACSC - AppLocker Lockdown CSP","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name ACSC \u2013 AppLocker Lockdown CSP Profile type Custom Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the OMA-URI settings within the profile.</p> Name Description OMA-URI Value Block - Apps Local Admins Defines restrictions for launching  executable applications. ./Vendor/MSFT/AppLocker/ApplicationLaunchRestrictions/BlockedExe01/EXE/Policy Custom XML: block-apps-local-admins.txt Block - Users PowerShell Defines restrictions for launching  executable applications. ./Vendor/MSFT/AppLocker/ApplicationLaunchRestrictions/BlockedExe02/EXE/Policy Custom XML: block-users-powershell.txt"},{"location":"as-built-as-configured/intune-configuration/#acsc-device-restrictions","title":"ACSC - Device Restrictions","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name ACSC \u2013 Device Restrictions Profile type Device Restrictions Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the configuration settings within the profile.</p> Item Configuration App store Use private store only Allow Game  DVR (desktop only) Block User  control over installations Block Install  apps with elevated privileges Block Cloud and Storage Non-Microsoft account Block Control Panel and Settings Power  and sleep settings modification (desktop only) Block General Cortana Block Autopilot  Reset Allow Direct  Memory Access Block Locked Screen Experience Cortana  on locked screen (Desktop only) Block Toast  notifications on locked screen Block Voice  activate apps from locked screen Disabled Password Password Require Required  password type Alphanumeric Password  complexity Numbers,  lowercase and uppercase letters required Minimum  password length 14 Number  of sign-in failures before wiping device 10 Maximum  minutes of inactivity until screen locks 15  Minutes Password  expiration (days) 60 Prevent  reuse of previous passwords 24 Require  password when device returns from idle state (Mobile and Holographic) Require Simple  passwords Block Preferred  Azure AD tenant domain ORGANISATION.com.au Reporting and Telemetry Share  usage data Diagnostic  data off Search Display  web results in search Block Microsoft Defender SmartScreen SmartScreen  for Microsoft Edge Legacy Require Malicious  site access Block Unverified  file download Block Windows Spotlight Windows  Spotlight Block Microsoft Defender Antivirus Scan  incoming mail messages Enable Scan  removable drives during a full scan Enable Scan  files opened from network folders Enable Power Settings Hybrid  sleep Disable"},{"location":"as-built-as-configured/intune-configuration/#acsc-edge-browser","title":"ACSC - Edge Browser","text":"<p>The following table outlines the profile is created for all implementation types. The configuration includes the recommended ACSC Windows 10 hardening guide settings as well as additional settings for the blueprint.</p> Item Configuration Profile Name ACSC \u2013 Edge Browser Profile type Administrative templates Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the profile.</p> Item Type ADMX Path Value Allow user-level native messaging hosts (installed   without admin permissions) Device \\Microsoft Edge\\Native Messaging Disabled Allow users to proceed from  the HTTPS warning page Device \\Microsoft Edge Disabled Enable saving passwords to  the password manager Device \\Microsoft Edge\\Password manager and protection Disabled Intranet Sites: Include all  network paths (UNCs) Device \\Windows Components\\Internet  Explorer\\Internet Control Panel\\Security Page Disabled Ads setting for sites with  intrusive ads Device \\Microsoft Edge Enabled \u2013 Block ads on sites  with intrusive ads. (Default value) Block access to a list of  URLs Device \\Microsoft Edge Enabled AGENCY to configure Block all ads on Bing search  results Device \\Microsoft Edge Enabled Configure Do Not Track Device \\Microsoft Edge Enabled Configure Microsoft Defender  SmartScreen Device \\Microsoft Edge\\SmartScreen settings Enabled Configure Microsoft Defender  SmartScreen to block potentially unwanted apps Device \\Microsoft Edge\\SmartScreen settings Enabled Control where developer  tools can be used Device \\Microsoft Edge Enabled \u2013 Don\u2019t allow using  the developer tools Control which extensions are  installed silently Device \\Microsoft Edge\\Extensions Enabled \u2013 AGENCY to configure Control which extensions  cannot be installed Device \\Microsoft Edge\\Extensions Enabled Default Adobe Flash setting  (obsolete) Device \\Microsoft Edge\\Content  settings Enabled \u2013 Block the Adobe  Flash plugin Enable site isolation for  every site Device \\Microsoft Edge Enabled Force Microsoft Defender  SmartScreen checks on downloads from trusted sources Device \\Microsoft Edge\\SmartScreen settings Enabled Minimum TLS version enabled  (deprecated) Device \\Microsoft Edge Enabled \u2013 TLS 1.2 Prevent bypassing Microsoft  Defender SmartScreen prompts for sites Device \\Microsoft Edge\\SmartScreen settings Enabled Prevent bypassing of  Microsoft Defender SmartScreen warnings about downloads Device \\Microsoft Edge\\SmartScreen settings Enabled Prevent downloading of  enclosures Device \\Windows Components\\RSS  Feeds Enabled Supported authentication  schemes Device \\Microsoft Edge\\HTTP  authentication Enabled - ntlm,negotiate Default pop-up window  setting Device \\Microsoft Edge\\Content  settings Enabled: Do not allow any  site to show popups DNS interception checks  enabled Device \\Microsoft Edge Disabled Control the mode of  DNS-over-HTTPS Device \\Microsoft Edge Enabled: Disable DNS-over-HTTPS Allow download restrictions Device \\Microsoft Edge Enabled:  Block  potentially dangerous or unwanted downloads"},{"location":"as-built-as-configured/intune-configuration/#acsc-endpoint-protection","title":"ACSC - Endpoint Protection","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name ACSC \u2013 Endpoint Protection Profile type Endpoint Protection Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the configuration settings within the profile.</p> Item Configuration Microsoft  Defender SmartScreen SmartScreen for apps and files Enable Unverified files execution Block Local  device security options Add new Microsoft accounts Block Remote log on without password Block Local admin account Block Rename admin account Blueprint_admin Guest account Block Rename guest account Blueprint_guest Minutes to lock screen inactivity until screen saver activates 15 User information on lock screen User display name only Anonymous access to Named Pipes and Shares Block Anonymous enumeration of SAM accounts Block Anonymous enumeration of SAM accounts and shares Block LAN Manager hash value stored on password change Block PKU2U authentication requests Block Restrict remote RPC connections to SAM Allow Security Descriptor O:BAG:BAD:(A;;RC;;;BA) Minimum Session Security For NTLM SSP Based  Clients NTLMv2 and 128-bit encryption Minimum Session Security For NTLM SSP Based Server NTLMv2 and 128-bit encryption LAN Manager Authentication Level NTLMv2 Insecure Guest Logons Block UIA integrity without secure location Block Virtualize file and registry write failures to  per-user locations Enabled Elevated prompt for app installations Enabled Admin Approval Mode For Built-in Administrator Enabled Run all admins in Admin Approval Mode Enabled Send unencrypted password to third-party SMB  servers Block Digitally sign communications (always) Server Enable Digitally sign communications (always) Client Enable Xbox services Xbox  Accessory Management Service Disabled Xbox  Live Auth Manager Service Disabled Xbox  Live Game Save Service Disabled Xbox  Live Networking Service Disabled"},{"location":"as-built-as-configured/intune-configuration/#acsc-microsoft-office-hardening","title":"ACSC - Microsoft Office Hardening","text":"<p>The following table outlines the profile is created for all implementation types. The configuration includes the recommended ACSC Windows 10 hardening guide settings as well as additional settings for the blueprint.</p> Item Configuration Profile Name ACSC \u2013 Microsoft Office Hardening Profile type Administrative templates Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned <code>rol-Agency-users, rol-Agency-administrators</code> <p>The following table outlines the settings within the profile.</p> Item Type ADMX Path Value Allow including screenshot with Office Feedback User \\Microsoft Office 2016\\Privacy\\Trust Center Disabled Allow mix of policy and   user locations User \\Microsoft Office   2016\\Security Settings\\Trust Center Disabled Allow Trusted Locations on the network User \\Microsoft PowerPoint 2016\\PowerPoint  Options\\Security\\Trust Center\\Trusted Locations Disabled Allow Trusted Locations on the network User \\Microsoft Access 2016\\Application  Settings\\Security\\Trust Center\\Trusted Locations Disabled Allow Trusted Locations on the network User \\Microsoft Project 2016\\Project Options\\Security\\Trust  Center Disabled Allow Trusted Locations on the network User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust  Center Disabled Allow Trusted Locations on the network User \\Microsoft Word 2016\\Word Options\\Security\\Trust  Center\\Trusted Locations Disabled Allow Trusted Locations on the network User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center\\Trusted Locations Disabled Automatically receive small updates to improve reliability User \\Microsoft Office 2016\\Privacy\\Trust Center Disabled Disable VBA for Office applications User \\Microsoft Office 2016\\Security Settings Disabled Do not open files from the Internet zone in Protected View User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\Protected View Disabled Do not open files from the Internet zone in Protected View user \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\Protected View Disabled Do not open files from the Internet zone in Protected View User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center\\Protected View Disabled Do not open files in unsafe locations in Protected View User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\Protected View Disabled Do not open files in unsafe locations in Protected View User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\Protected View Disabled Do not open files in unsafe locations in Protected View User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center\\Protected View Disabled Enable Customer Experience Improvement Program User \\Microsoft Office 2016\\Privacy\\Trust Center Disabled Enable Microsoft Visual Basic for Applications project creation User \\Microsoft Visio 2016\\Visio Options\\Security\\Macro  Security Disabled Load Microsoft Visual Basic for Applications projects from text User \\Microsoft Visio 2016\\Visio Options\\Security\\Macro  Security Disabled Send Office Feedback User \\Microsoft Office 2016\\Privacy\\Trust Center Disabled Send personal information User \\Microsoft Office 2016\\Privacy\\Trust Center Disabled Trust access to Visual Basic Project User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Disabled Trust access to Visual Basic Project User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust  Center Disabled Trust access to Visual Basic Project User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center Disabled Turn off file validation User \\Microsoft Word 2016\\Word Options\\Security Disabled Turn off file validation User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security Disabled Turn off file validation User \\Microsoft Excel 2016\\Excel Options\\Security Disabled Turn off Protected View for attachments opened from Outlook User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\Protected View Disabled Turn off Protected View for attachments opened from Outlook User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\Protected View Disabled Turn off Protected View for attachments opened from Outlook User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center\\Protected View Disabled Update automatic links at Open User \\Microsoft Word 2016\\Word Options\\Advanced Disabled Always open untrusted database files in Protected View User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\Protected View Enabled Always prevent untrusted Microsoft Query files from opening User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\External Content Enabled Apply macro security settings to macros, add-ins and  additional actions User \\Microsoft Outlook 2016\\Security\\Trust Center Enabled Automation Security User \\Microsoft Office 2016\\Security Settings Enabled \u2013 Use application macro security level Block additional file extensions for OLE embedding User \\Microsoft Office 2016\\Security Settings Enabled Block all unmanaged add-ins User \\Microsoft Outlook 2016\\Miscellaneous Enabled Block macros from running in Office files from the  Internet User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled Block macros from running in Office files from the  Internet User \\Microsoft PowerPoint 2016\\PowerPoint  Options\\Security\\Trust Center Enabled Block macros from running in Office files from the  Internet User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center Enabled Block macros from running in Office files from the  Internet User \\Microsoft Access 2016\\Application  Settings\\Security\\Trust Center Enabled Block macros from running in Office files from the  Internet User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust  Center Enabled Configure trusted add-ins User \\Microsoft Outlook 2016\\Security\\Security Form  Settings\\Programmatic Security\\Trusted Add-ins Enabled \u2013 Agency defined list dBase III / IV files User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Dif and Sylk files User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Disable All ActiveX User \\Microsoft Office 2016\\Security Settings Enabled Disable all Trust Bar notifications for security issues User \\Microsoft Office 2016\\Security Settings Enabled Disable all trusted locations User \\Microsoft PowerPoint 2016\\PowerPoint  Options\\Security\\Trust Center\\Trusted Locations Enabled Disable all trusted locations User \\Microsoft Word 2016\\Word Options\\Security\\Trust  Center\\Trusted Locations Enabled Disable all trusted locations User \\Microsoft Access 2016\\Application  Settings\\Security\\Trust Center\\Trusted Locations Enabled Disable all trusted locations User \\Microsoft Project 2016\\Project Options\\Security\\Trust  Center Enabled Disable all trusted locations User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust  Center Enabled Disable all trusted locations User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center\\Trusted Locations Enabled Disable commands User \\Microsoft PowerPoint 2016\\Disable Items in User  Interface\\Predefined Enabled \u2013 Developer tab | Code | Macros  Developer tab | Code | Macro Security  Developer tab | Code | Visual Basic Disable commands User \\Microsoft Excel 2016\\Disable Items in User  Interface\\Predefined Enabled -  Developer tab | Code | Macros Developer tab | Code | Record MacrosDeveloper tab | Code | Macro SecurityDeveloper tab | Code | Visual Basic Disable commands User \\Microsoft Visio 2016\\Disable Items in User  Interface\\Predefined Enabled \u2013 Developer tab | Macros Developer tab | Visual Basic Disable commands User \\Microsoft Access 2016\\Disable Items in User  Interface\\Predefined Enabled - Database tools | Macro | Visual BasicDatabase tools | Macro | Run Macro Database tools | Macro | Convert Macros to Visual Basic Database tools | Macro | Create Shortcut Menu from Macro Disable commands User \\Microsoft Word 2016\\Disable Items in User  Interface\\Predefined Enabled -  Developer tab | Code | Macros Developer tab | Code | Record Macros Developer tab | Code | Macro Security Developer tab | Code | Visual Basic Disable commands User \\Microsoft Publisher 2016\\Disable Items in User  Interface\\Predefined Enabled - Developer tab Developer tab | Code | Macros Developer tab | Code | Macro Security Developer tab | Code | Visual Basic  Developer tab | Add-Ins | COM Add-Ins Disable Opt-in Wizard on first run User \\Microsoft Office 2016\\Privacy\\Trust Center Enabled Disable Trust Bar Notification for unsigned application add-ins and block them User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled Disable Trust Bar Notification for unsigned application add-ins and block them User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center Enabled Disable Trust Bar Notification for unsigned application add-ins and block them User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center Enabled Disable Trust Bar Notification for unsigned application add-ins and block them User \\Microsoft Project 2016\\Project Options\\Security\\Trust Center Enabled Disable Trust Bar Notification for unsigned application add-ins and block them User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust Center Enabled Don\u2019t allow Dynamic Data Exchange (DDE) server launch in Excel User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\External Content Enabled Don\u2019t allow Dynamic Data Exchange (DDE) server lookup in Excel User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\External Content Enabled Excel 2 macrosheets and add-in files User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 2 worksheets User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 3 macrosheets and add-in files User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 3 worksheets User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 4 macrosheets and add-in files User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 4 workbooks User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 4 worksheets User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 95 workbooks User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 95-97 workbooks and templates User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Excel 97-2003 workbooks and templates User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Force file extension to match file type User \\Microsoft Excel 2016\\Excel Options\\Security Enabled (Always match file type) List of managed add-ins User \\Microsoft Outlook 2016\\Miscellaneous Agency defined Macro Runtime Scan Scope User \\Microsoft Office 2016\\Security Settings Enabled (Enable for all documents) Make hidden markup visible User \\Microsoft Word 2016\\Word Options\\Security Enabled Make hidden markup visible User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security Enabled PowerPoint 97-2003 presentations, shows, templates and add-in files User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center\\File Block Settings Enabled (Always match file type) Publisher Automation Security Level User \\Microsoft Publisher 2016\\Security Enabled \u2013 High (disabled) Require that application add-ins are signed by Trusted Publisher User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled Require that application add-ins are signed by Trusted Publisher User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center Enabled Require that application add-ins are signed by Trusted Publisher User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center Enabled Require that application add-ins are signed by Trusted Publisher User \\Microsoft Project 2016\\Project Options\\Security\\Trust Center Enabled Require that application add-ins are signed by Trusted Publisher User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust Center Enabled Run Programs User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security Enabled (disable (don't run any programs)) Scan encrypted macros in Excel Open XML workbooks User \\Microsoft Excel 2016\\Excel Options\\Security Enabled \u2013 Scan encrypted macros (default) Scan encrypted macros in PowerPoint Open XML  presentations User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security Enabled \u2013 Scan encrypted macros (default) Scan encrypted macros in Word Open XML documents User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled \u2013 Scan encrypted macros (default) Security setting for macros User \\Microsoft Outlook 2016\\Security\\Trust Center Enabled \u2013 Warn for signed, disable unsigned Set default file block behavior User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center\\File Block Settings Enabled (Blocked files are not opened) Set default file block behavior User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Blocked files are not opened) Set default file block behavior User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Blocked files are not opened) Set document behavior if file validation fails User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\Protected View Enabled (Block files) Set document behavior if file validation fails User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\Protected View Enabled (Block files) Set document behavior if file validation fails User \\Microsoft PowerPoint 2016\\PowerPoint Options\\Security\\Trust Center\\Protected View Enabled (Block files) Turn off trusted documents User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled Turn off trusted documents User \\Microsoft PowerPoint 2016\\PowerPoint  Options\\Security\\Trust Center Enabled Turn off trusted documents User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center Enabled Turn off trusted documents User \\Microsoft Access 2016\\Application  Settings\\Security\\Trust Center Enabled Turn off trusted documents User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust  Center Enabled Turn off Trusted Documents on the network User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled Turn off Trusted Documents on the network User \\Microsoft PowerPoint 2016\\PowerPoint  Options\\Security\\Trust Center Enabled Turn off Trusted Documents on the network User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center Enabled Turn off Trusted Documents on the network User \\Microsoft Access 2016\\Application  Settings\\Security\\Trust Center Enabled Turn off Trusted Documents on the network User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust  Center Enabled VBA Macro Notification Settings User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center Enabled -Disable all except digitally signed macros VBA Macro Notification Settings User \\Microsoft PowerPoint 2016\\PowerPoint  Options\\Security\\Trust Center Enabled -Disable all except digitally signed macros VBA Macro Notification Settings User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust  Center Enabled -Disable all except digitally signed macros VBA Macro Notification Settings User \\Microsoft Access 2016\\Application  Settings\\Security\\Trust Center Enabled -Disable all except digitally signed macros VBA Macro Notification Settings User \\Microsoft Project 2016\\Project Options\\Security\\Trust  Center Enabled -Disable all except digitally signed macros VBA Macro Notification Settings User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust  Center Enabled -Disable all except digitally signed macros VBA Macro Notification Settings User \\Microsoft Publisher 2016\\Security\\Trust Center Enabled -Disable all except digitally signed macros Visio 2000-2002 Binary Drawings, Templates and Stencils User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked) Visio 2003-2010 Binary Drawings, Templates and Stencils User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked) Visio 5.0 or earlier Binary Drawings, Templates and Stencils User \\Microsoft Visio 2016\\Visio Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked) Web pages and Excel 2003 XML spreadsheets User \\Microsoft Excel 2016\\Excel Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 2 and earlier binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 2000 binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 2003 binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 2007 and later binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 6.0 binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 95 binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word 97 binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy) Word XP binary documents and templates User \\Microsoft Word 2016\\Word Options\\Security\\Trust Center\\File Block Settings Enabled (Open/Save blocked, use open policy)"},{"location":"as-built-as-configured/intune-configuration/#acsc-windows-10-hardening","title":"ACSC - Windows 10 Hardening","text":"<p>The following table outlines the profile is created for all implementation types. The configuration includes the recommended ACSC Windows 10 hardening guide settings as well as additional settings for the blueprint.</p> Item Configuration Profile Name ACSC \u2013 Windows 10 Hardening Profile type Administrative templates Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned <code>All Devices, rol-Agency-Administrators, rol-Agency-users</code> <p>The following table outlines the settings within the profile.</p> Item Type ADMX Path Value Allow Basic authentication Device \\Windows Components\\Windows   Remote Management (WinRM)\\WinRM Service Disabled Allow Basic authentication Device \\Windows Components\\Windows Remote Management  (WinRM)\\WinRM Client Disabled Allow standby states (S1-S3) when sleeping (on battery) Device \\System\\Power Management\\Sleep Settings Disabled Allow standby states (S1-S3) when sleeping (plugged in) Device \\System\\Power Management\\Sleep Settings Disabled Allow unencrypted traffic Device \\Windows Components\\Windows Remote Management  (WinRM)\\WinRM Service Disabled Allow unencrypted traffic Device \\Windows Components\\Windows Remote Management  (WinRM)\\WinRM Client Disabled Configure Offer Remote Assistance Device \\System\\Remote Assistance Disabled Configure SMB v1 server Device \\MS Security Guide Disabled Do not preserve zone information in file attachments User \\Windows Components\\Attachment Manager Disabled Enumerate administrator accounts on elevation Device \\Windows Components\\Credential User Interface Disabled Enumerate local users on domain-joined computers Device \\System\\Logon Disabled MSS: (EnableICMPRedirect) Allow ICMP redirects to  override OSPF generated routes Device \\MSS (Legacy) Disabled MSS: (NoNameReleaseOnDemand) Allow the computer to  ignore NetBIOS name release requests except from WINS servers Device \\MSS (Legacy) Disabled Turn on convenience PIN sign-in Device \\System\\Logon Disabled WDigest Authentication (disabling may require  KB2871997) Device \\MS Security Guide Disabled Allow Microsoft accounts to be optional Device \\Windows Components\\App runtime Enabled Allow users to connect remotely by using Remote Desktop  Services Device \\Windows Components\\Remote Desktop Services\\Remote  Desktop Session Host\\Connections Enabled Always prompt for password upon connection Device \\Windows Components\\Remote Desktop Services\\Remote  Desktop Session Host\\Security Enabled Apply UAC restrictions to local accounts on network  logons Device \\MS Security Guide Enabled Boot-Start Driver Initialization Policy Device \\System\\Early Launch Antimalware Enabled \u2013 Good and unknown Configure SMB v1 client driver Device \\MS Security Guide Enabled \u2013 Disable driver (recommended) Configure Solicited Remote Assistance Device \\System\\Remote Assistance Enabled \u2013 Allow helpers to remotely control the  computer, 1, Hours, Mailto Disallow Autoplay for non-volume devices Device \\Windows Components\\AutoPlay Policies Enabled Disallow Digest authentication Device \\Windows Components\\Windows Remote Management  (WinRM)\\WinRM Client Enabled Disallow WinRM from storing RunAs credentials Device \\Windows Components\\Windows Remote Management  (WinRM)\\WinRM Service Enabled Do not allow drive redirection Device \\Windows Components\\Remote Desktop Services\\Remote  Desktop Session Host\\Device and Resource Redirection Enabled Do not allow passwords to be saved Device \\Windows Components\\Remote Desktop Services\\Remote  Desktop Connection Client Enabled Do not display the password reveal button Device \\Windows Components\\Credential User Interface Enabled Enable Structured Exception Handling Overwrite  Protection (SEHOP) Device \\MS Security Guide Enabled Hardened UNC Paths Device \\Network\\Network Provider Enabled -    Name: <code>\\\\*\\SYSVOL</code>, Value: <code>RequireMutualAuthentication=1,RequireIntegrity=1</code>   Name: <code>\\\\*\\NETLOGON</code>, Value: <code>RequireMutualAuthentication=1,RequireIntegrity=1</code> Hide mechanisms to remove zone information User \\Windows Components\\Attachment Manager Enabled MSS: (DisableIPSourceRouting IPv6) IP source routing  protection level (protects against packet spoofing) Device \\MSS (Legacy) Enabled \u2013 Highest protection, source routing is  completely disabled MSS: (DisableIPSourceRouting) IP source routing  protection level (protects against packet spoofing) Device \\MSS (Legacy) Enabled \u2013 Highest protection, source routing is  completely disabled Prevent enabling lock screen camera Device \\Control Panel\\Personalization Enabled Prevent enabling lock screen slide show Device \\Control Panel\\Personalization Enabled Prevent installation of devices that match any of these device IDs Device \\System\\Device Installation\\Device Installation Restrictions Enabled - Device IDs: <code>PCI\\CC_0C0010, PCI\\CC_0C0A</code> (Also apply to matching devices that are already installed.) Prevent installation of devices using drivers that  match these device setup classes Device \\System\\Device Installation\\Device Installation  Restrictions Enabled - Setup classes: <code>{d48179be-ec20-11d1-b6b8-00c04fa372a7}</code> (Also apply to matching devices that are already installed.) Prohibit connection to non-domain networks when  connected to domain authenticated network Device \\Network\\Windows Connection Manager Enabled Prohibit installation and configuration of Network  Bridge on your DNS domain network Device \\Network\\Network Connections Enabled Remote host allows delegation of non-exportable  credentials Device \\System\\Credentials Delegation Enabled Require a password when a computer wakes (on battery) Device \\System\\Power Management\\Sleep Settings Enabled Require a password when a computer wakes (plugged in) Device \\System\\Power Management\\Sleep Settings Enabled Require secure RPC communication Device \\Windows Components\\Remote Desktop Services\\Remote  Desktop Session Host\\Security Enabled Restrict Unauthenticated RPC clients Device \\System\\Remote Procedure Call Enabled - Authenticated Set the default behavior for AutoRun Device \\Windows Components\\AutoPlay Policies Enabled \u2013 Do not execute any autorun commands Specify the maximum log file size (KB) Device \\Windows Components\\Event Log Service\\Application Enabled - 65536 Specify the maximum log file size (KB) Device \\Windows Components\\Event Log Service\\System Enabled - 65536 Specify the maximum log file size (KB) Device \\Windows Components\\Event Log Service\\Security Enabled - 2097152 Specify the system hibernate timeout (on battery) Device \\System\\Power Management\\Sleep Settings Enabled - 0 Specify the system hibernate timeout (plugged in) Device \\System\\Power Management\\Sleep Settings Enabled - 0 Specify the system sleep timeout (on battery) Device \\System\\Power Management\\Sleep Settings Enabled - 300 Specify the system sleep timeout (plugged in) Device \\System\\Power Management\\Sleep Settings Enabled - 0 Turn off Autoplay Device \\Windows Components\\AutoPlay Policies Enabled - All drives Turn off Data Execution Prevention for Explorer Device \\Windows Components\\File Explorer Enabled Turn off heap termination on corruption Device \\Windows Components\\File Explorer Enabled Turn off picture password sign-in Device \\System\\Logon Enabled Turn on PowerShell Script Block Logging Device \\Windows Components\\Windows PowerShell Enabled Turn on session logging Device \\System\\Remote Assistance Enabled Turn on Windows Defender protection against Potentially  Unwanted Applications (DEPRECATED) Device \\MS Security Guide Enabled"},{"location":"as-built-as-configured/intune-configuration/#acsc-windows-10-hardening-csp","title":"ACSC - Windows 10 Hardening CSP","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name ACSC \u2013 Windows 10 Hardening CSP Profile type Custom Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the OMA-URI settings within the profile.</p> Name Description OMA-URI Value Network security: Allow   Local System to use computer identity for NTLM When services connect to   devices that are running versions of the Windows operating system earlier   than Windows Vista or Windows Server 2008, services that run as Local System   and use SPNEGO (Negotiate) that revert to NTLM will authenticate   anonymously. In Windows Server 2008 R2 and Windows 7 and later, if a service   connects to a computer running Windows Server 2008 or Windows Vista, the   system service uses the computer identity. When a service connects with the   device identity, signing and encryption are supported to provide data   protection. (When a service connects anonymously, a system-generated session   key is created, which provides no protection, but it allows applications to   sign and encrypt data without errors. Anonymous authentication uses a NULL   session, which is a session with a server in which no user authentication is   performed; and therefore, anonymous access is allowed.) <code>./Vendor/MSFT/Policy/Config/LocalPoliciesSecurityOptions/NetworkSecurity_AllowLocalSystemToUseComputerIdentityForNTLM</code> Integer: 0 Configure System Guard This policy allows the IT admin to configure  the launch of System Guard. <code>./Vendor/MSFT/Policy/Config/DeviceGuard/ConfigureSystemGuardLaunch</code> Integer: 1 Turn On Virtualization Based Security Added in Windows 10, version 1709. Turns on  virtualization based security(VBS) at the next reboot. virtualization based  security uses the Windows Hypervisor to provide support for security  services. Value type is integer. <code>./Vendor/MSFT/Policy/Config/DeviceGuard/EnableVirtualizationBasedSecurity</code> Integer: 1 Required Platform Security Features Added in Windows 10, version 1709. Specifies  the platform security level at the next reboot. Value type is integer. <code>./Vendor/MSFT/Policy/Config/DeviceGuard/RequirePlatformSecurityFeatures</code> Integer: 1 Allow Windows to automatically connect to  suggested open hotspots, to networks shared by contacts, and to hotspots  offering paid services Allow or disallow the device to  automatically connect to Wi-Fi hotspots. <code>./Vendor/MSFT/Policy/Config/Wifi/AllowAutoConnectToWiFiSenseHotspots</code> Integer: 0 Audit Credential Validation Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by validation tests on  user account logon credentials. Events  in this subcategory occur only on the computer that is authoritative for  those credentials. For domain accounts, the domain controller is  authoritative. For local accounts, the local computer is authoritative. Volume: High on domain controllers. <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogon_AuditCredentialValidation</code> Integer: 3 Audit Account Lockout Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by a failed attempt to  log on to an account that is locked out.   If you configure this policy setting, an audit event is generated when  an account cannot log on to a computer because the account is locked out.  Success audits record successful attempts and Failure audits record  unsuccessful attempts. Logon events  are essential for understanding user activity and to detect potential  attacks. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogonLogoff_AuditAccountLockout</code> Integer: 2 Audit Group Membership Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy allows you to audit the group membership information in the user's  logon token. Events in this subcategory are generated on the computer on  which a logon session is created. For an interactive logon, the security  audit event is generated on the computer that the user logged on to. For a  network logon, such as accessing a shared folder on the network, the security  audit event is generated on the computer hosting the resource. When this setting is configured, one or  more security audit events are generated for each successful logon. You must  also enable the Audit Logon setting under Advanced Audit Policy  Configuration\\System Audit Policies\\Logon/Logoff. Multiple events are  generated if the group membership information cannot fit in a single security  audit event. Volume: Low on a client  computer. Medium on a domain controller or a network server. <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogonLogoff_AuditGroupMembership</code> Integer: 1 Audit Logoff Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by the closing of a logon  session. These events occur on the computer that was accessed. For an  interactive logoff the security audit event is generated on the computer that  the user account logged on to. If you  configure this policy setting, an audit event is generated when a logon session  is closed. Success audits record successful attempts to close sessions and  Failure audits record unsuccessful attempts to close sessions. If you do not  configure this policy setting, no audit event is generated when a logon  session is closed. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogonLogoff_AuditLogoff</code> Integer: 3 Audit Logon Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by user account logon  attempts on the computer. Events in this subcategory are related to the  creation of logon sessions and occur on the computer which was accessed. For  an interactive logon, the security audit event is generated on the computer that  the user account logged on to. For a network logon, such as accessing a  shared folder on the network, the security audit event is generated on the  computer hosting the resource <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogonLogoff_AuditLogon</code> Integer: 3 Audit Other Logon Logoff Events Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit other logon/logoff-related events that are  not covered in the \u201cLogon/Logoff\u201d policy setting, such as the following: Terminal Services session disconnections.  New Terminal Services sessions. Locking and unlocking a workstation. Invoking  a screen saver. Dismissal of a screen saver. Detection of a Kerberos replay  attack, in which a Kerberos request was received twice with identical  information. This condition could be caused by network misconfiguration.  Access to a wireless network granted to a user or computer account. Access to  a wired 802.1x network granted to a user or computer account. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogonLogoff_AuditOtherLogonLogoffEvents</code> Integer: 3 Audit Special Logon Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by special logons, such  as the following: The use of a special  logon, which is a logon that has administrator-equivalent privileges and can  be used to elevate a process to a higher level. A logon by a member of a  Special Group. Special Groups enable you to audit events generated when a  member of a certain group has logged on to your network. You can configure a  list of group security identifiers (SIDs) in the registry. If any of those  SIDs are added to a token during logon and the subcategory is enabled, an  event is logged. For more information about this feature, see Audit Special  Logon. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/AccountLogonLogoff_AuditSpecialLogon</code> Integer: 3 Audit Security Group Management Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by changes to security  groups, such as the following:   Security group is created, changed, or deleted. Member is added or  removed from a security group. Group type is changed. If you configure this  policy setting, an audit event is generated when an attempt to change a  security group is made. Success audits record successful attempts and Failure  audits record unsuccessful attempts. If you do not configure this policy  setting, no audit event is generated when a security group changes. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/AccountManagement_AuditSecurityGroupManagement</code> Integer: 3 Audit User Account Management Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This policy  setting allows you to audit changes to user accounts. Events include the  following: A user account is created,  changed, deleted; renamed, disabled, enabled, locked out, or unlocked. A user  account\u2019s password is set or changed. A security identifier (SID) is added to  the SID History of a user account. The Directory Services Restore Mode  password is configured. Permissions on administrative user accounts are  changed. Credential Manager credentials are backed up or restored. If you  configure this policy setting, an audit event is generated when an attempt to  change a user account is made. Success audits record successful attempts and  Failure audits record unsuccessful attempts. If you do not configure this  policy setting, no audit event is generated when a user account changes. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/AccountManagement_AuditUserAccountManagement</code> Integer: 3 Audit PNP Activity Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit when plug and play detects an external  device. If you configure this policy  setting, an audit event is generated whenever plug and play detects an  external device. Only Success audits are recorded for this category. If you  do not configure this policy setting, no audit event is generated when an  external device is detected by plug and play.   Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/DetailedTracking_AuditPNPActivity</code> Integer: 1 Audit Process Creation Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated when a process is created  or starts. The name of the application or user that created the process is  also audited. If you configure this  policy setting, an audit event is generated when a process is created.  Success audits record successful attempts and Failure audits record  unsuccessful attempts. If you do not configure this policy setting, no audit  event is generated when a process is created.   Volume: Depends on how the computer is used. <code>./Vendor/MSFT/Policy/Config/Audit/DetailedTracking_AuditProcessCreation</code> Integer: 1 Audit Detailed File Share Added in Windows 10, version 1903. Also available  in Windows 10, versions 1809 and 1803 through servicing. This policy setting  allows you to audit attempts to access files and folders on a shared folder.  The Detailed File Share setting logs an event every time a file or folder is  accessed, whereas the File Share setting only records one event for any  connection established between a client and file share. Detailed File Share  audit events include detailed information about the permissions or other  criteria used to grant or deny access.   If you configure this policy setting, an audit event is generated when  an attempt is made to access a file or folder on a share. The administrator  can specify whether to audit only successes, only failures, or both successes  and failures. <code>./Vendor/MSFT/Policy/Config/Audit/ObjectAccess_AuditDetailedFileShare</code> Integer: 2 Audit File Share Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit attempts to access a shared folder. If you configure this policy setting, an  audit event is generated when an attempt is made to access a shared folder.  If this policy setting is defined, the administrator can specify whether to  audit only successes, only failures, or both successes and failures. <code>./Vendor/MSFT/Policy/Config/Audit/ObjectAccess_AuditFileShare</code> Integer: 3 Audit Other Object Access Events Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by the management of task  scheduler jobs or COM+ objects. For scheduler jobs, the following are  audited: Job created. Job deleted. Job  enabled. Job disabled. Job updated. For COM+ objects, the following are  audited: Catalog object added. Catalog  object updated. Catalog object deleted. <code>./Vendor/MSFT/Policy/Config/Audit/ObjectAccess_AuditOtherObjectAccessEvents</code> Integer: 3 Audit Removable Storage Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit user attempts to access file system  objects on a removable storage device. A security audit event is generated  only for all objects for all types of access requested. If you configure this policy setting, an  audit event is generated each time an account accesses a file system object  on a removable storage. Success audits record successful attempts and Failure  audits record unsuccessful attempts.   If you do not configure this policy setting, no audit event is  generated when an account accesses a file system object on a removable  storage. <code>./Vendor/MSFT/Policy/Config/Audit/ObjectAccess_AuditRemovableStorage</code> Integer: 3 Audit Authentication Policy Change Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by changes to the  authentication policy. If you configure this policy setting, an audit event  is generated when an attempt to change the authentication policy is made.  Success audits record successful attempts and Failure audits record  unsuccessful attempts. If you do not configure this policy setting, no audit  event is generated when the authentication policy is changed. <code>./Vendor/MSFT/Policy/Config/Audit/PolicyChange_AuditAuthenticationPolicyChange</code> Integer: 1 Audit MPSSVC Rule Level Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This policy  setting allows you to audit events generated by changes in policy rules used  by the Microsoft Protection Service (MPSSVC). This service is used by Windows  Firewall. If you configure this policy setting, an audit event is generated  by attempts to change policy rules used by the MPSSVC. Success audits record  successful attempts and Failure audits record unsuccessful attempts. If you  do not configure this policy setting, no audit event is generated by changes  in policy rules used by the MPSSVC. <code>./Vendor/MSFT/Policy/Config/Audit/PolicyChange_AuditMPSSVCRuleLevelPolicyChange</code> Integer: 3 Audit Other Policy Change Events Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by other security policy  changes that are not audited in the policy change category, such as the  following: Trusted Platform Module  (TPM) configuration changes. Kernel-mode cryptographic self tests.  Cryptographic provider operations. Cryptographic context operations or  modifications. Applied Central Access Policies (CAPs) changes. Boot  Configuration Data (BCD) modifications. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/PolicyChange_AuditOtherPolicyChangeEvents</code> Integer: 3 Audit Policy Change Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit changes in the security audit policy  settings, such as the following:   Settings permissions and audit settings on the Audit Policy object.  Changes to the system audit policy. Registration of security event sources.  De-registration of security event sources. Changes to the per-user audit  settings. Changes to the value of CrashOnAuditFail. Changes to the system  access control list on a file system or registry object. Changes to the  Special Groups list. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/PolicyChange_AuditPolicyChange</code> Integer: 3 Audit Sensitive Privilege Use Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated when sensitive privileges  (user rights) are used, such as the following: A privileged service is called. One of the  following privileges are called: Act as part of the operating system. Back up  files and directories. Create a token object. Debug programs. Enable computer  and user accounts to be trusted for delegation. Generate security audits. Impersonate  a client after authentication. Load and unload device drivers. Manage  auditing and security log. Modify firmware environment values. Replace a  process-level token. Restore files and directories. Take ownership of files  or other objects. <code>./Vendor/MSFT/Policy/Config/Audit/PrivilegeUse_AuditSensitivePrivilegeUse</code> Integer: 3 Audit Other System Events Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit any of the following events: Startup and shutdown of the Windows  Firewall service and driver. Security policy processing by the Windows  Firewall Service. Cryptography key file and migration operations. Volume:  Low. <code>./Vendor/MSFT/Policy/Config/Audit/System_AuditOtherSystemEvents</code> Integer: 3 Audit Security State Change Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events generated by changes in the  security state of the computer, such as the following events: Startup and shutdown of the computer.  Change of system time. Recovering the system from CrashOnAuditFail, which is  logged after a system restarts when the security event log is full and the  CrashOnAuditFail registry entry is configured. Volume: Low. <code>./Vendor/MSFT/Policy/Config/Audit/System_AuditSecurityStateChange</code> Integer: 1 Audit Security System Extension Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events related to security system  extensions or services. If you configure this policy setting, an audit event  is generated when an attempt is made to load a security system extension.  Success audits record successful attempts and Failure audits record  unsuccessful attempts. If you do not configure this policy setting, no audit  event is generated when an attempt is made to load a security system  extension. Volume: Low. Security  system extension events are generated more often on a domain controller than  on client computers or member servers. <code>./Vendor/MSFT/Policy/Config/Audit/System_AuditSecuritySystemExtension</code> Integer: 1 Audit System Integrity Added in Windows 10, version 1903. Also  available in Windows 10, versions 1809 and 1803 through servicing. This  policy setting allows you to audit events that violate the integrity of the  security subsystem, such as the following:   Events that could not be written to the event log because of a problem  with the auditing system. A process that uses a local procedure call (LPC)  port that is not valid in an attempt to impersonate a client by replying,  reading, or writing to or from a client address space. The detection of a  Remote Procedure Call (RPC) that compromises system integrity. The detection  of a hash value of an executable file that is not valid as determined by Code  Integrity. Cryptographic operations that compromise system integrity. Volume:  Low. <code>./Vendor/MSFT/Policy/Config/Audit/System_AuditSystemIntegrity</code> Integer: 3 Allow Windows Ink Workspace Added in Windows 10, version 1607. Specifies  whether to allow the user to access the ink workspace. ADMX Info:   GP English name: Allow Windows Ink Workspace GP name: AllowWindowsInkWorkspace  GP element: AllowWindowsInkWorkspaceDropdown GP path: Windows Components/Windows  Ink Workspace GP ADMX file name: WindowsInkWorkspace.admx Value type is int.  The following list shows the supported values: 0 - access to ink workspace is disabled.  The feature is turned off. 1 - ink workspace is enabled (feature is turned  on), but the user cannot access it above the lock screen. 2 (default) - ink  workspace is enabled (feature is turned on), and the user is allowed to use  it above the lock screen. <code>./Vendor/MSFT/Policy/Config/WindowsInkWorkspace/AllowWindowsInkWorkspace</code> Integer: 1 Allow Find My Files Controls if the user can configure search to  Find My Files mode, which searches files in secondary hard drives and also  outside of the user profile. Find My Files does not allow users to search  files or locations to which they do not have access. ADMX Info:   GP English name: Allow Find My Files GP name: AllowFindMyFiles GP  path: Computer Configuration/Administrative Templates/Windows  Components/Search GP ADMX file name: Search.admx The following list shows the  supported values: 1 (Default) - Find  My Files feature can be toggled (still off by default), and the settings UI  is present. 0 - Find My Files feature is turned off completely, and the  settings UI is disabled. <code>./Device/Vendor/MSFT/Policy/Config/Search/AllowIndexingEncryptedStoresOrItems</code> Integer: 0 Allow indexing of encrypted files Allows or disallows the indexing of items.  This switch is for the Windows Search Indexer, which controls whether it will  index items that are encrypted, such as the Windows Information Protection  (WIP) protected files. When the policy  is enabled, WIP protected items are indexed and the metadata about them are  stored in an unencrypted location. The metadata includes things like file  path and date modified. When the  policy is disabled, the WIP protected items are not indexed and do not show  up in the results in Cortana or file explorer. There may also be a  performance impact on photos and Groove apps if there are a lot of WIP  protected media files on the device.   Most restricted value is 0. Note: In July 2022 Microsoft announced deprecation of certain capabilities within Windows Information Protection (WIP). Please see the news article here <code>./Vendor/MSFT/Policy/Config/Search/AllowIndexingEncryptedStoresOrItems</code> Integer: 0 Allow Telemetry Allows the device to send diagnostic and  usage telemetry data, such as Watson. The following list shows the supported  values for Windows 8.1: 0 - Not  allowed. 1 \u2013 Allowed, except for Secondary Data Requests. 2 (default) \u2013  Allowed. In Windows 10, you can configure this policy setting to decide what  level of diagnostic data to send to Microsoft. The following list shows the  supported values for Windows 10: 0 \u2013  (Security) Sends information that is required to help keep Windows more  secure, including data about the Connected User Experience and Telemetry  component settings, the Malicious Software Removal Tool, and Microsoft  Defender. Note: This value is only applicable to Windows 10 Enterprise,  Windows 10 Education, Windows 10 Mobile Enterprise, Windows 10 IoT Core (IoT  Core), Hololens 2, and Windows Server 2016. Using this setting on other  devices is equivalent to setting the value of 1. <code>./Device/Vendor/MSFT/Policy/Config/System/AllowTelemetry</code> Integer: 0 Prevent access to the about:flags page By default, users can access the about:flags  page in Microsoft Edge, which is used to change developer settings and enable  experimental features. Enabling this policy prevents users from accessing the  about:flags page. <code>./Vendor/MSFT/Policy/Config/Browser/PreventAccessToAboutFlagsInMicrosoftEdge</code> Integer: 1 Windows Hello for Business Boolean value that sets Windows Hello for  Business as a method for signing into Windows. <code>./Vendor/MSFT/PassportforWork/f87adb37-069d-44ab-b352-f6d61ecc6db2/Policies/UsePassportForWork</code> Boolean: False Store for Business Private only Block the Windows 10 public store but allow access to the business store. <code>./Vendor/MSFT/Policy/Config/ApplicationManagement/RequirePrivateStoreOnly</code> Integer: 1"},{"location":"as-built-as-configured/intune-configuration/#blueprint-delivery-optimisation","title":"Blueprint - Delivery Optimisation","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Blueprint - Delivery Optimisation Profile type Delivery Optimisation Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the configuration settings within the profile.</p> Item Configuration Download mode HTTP blended with peering behind same NAT (1) Bandwidth  optimization type Percentage Maximum  foreground download bandwidth (in %) 70 Maximum  background download bandwidth (in %) 25 Delay  background HTTP download (in seconds) 60 Delay  foreground HTTP download (in seconds) 60 Minimum  RAM required for peer caching (in GB) 4 Minimum  disk size required for peer caching (in GB) 32 Minimum  content file size for peer caching (in MB) 5 Minimum  battery level required to upload (in %) 40 Maximum  cache age (in days) 7 Maximum  cache size type Percentage Maximum  cache size (in %) 20"},{"location":"as-built-as-configured/intune-configuration/#blueprint-network-boundary","title":"Blueprint - Network Boundary","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Blueprint - Network Boundary Profile type Network Boundary Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the configuration settings within the profile.</p> Item Configuration Cloud resources sharepoint.comwww.yammer.comyammer.compersona.yammer.com outlook.office.com  outlook.office365.com  attachments.office.net  crm.dynamics.com  visualstudio.com  powerbi.com  teams.microsoft.com  tasks.office.com  protection.office.com  meet.lync.com  project.microsoft.com"},{"location":"as-built-as-configured/intune-configuration/#blueprint-onedrive-device","title":"Blueprint - OneDrive Device","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Blueprint - OneDrive Device Profile type Administrative templates Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the profile.</p> Item Type ADMX Path Value Silently move Windows known folders to OneDrive Device \\OneDrive Enabled: Agency tenant IDShow notification: No Prevent users from syncing libraries and folders shared from other organizations Device \\OneDrive Enabled Require users to confirm large delete operations Device \\OneDrive Enabled Set the sync app update ring Device \\OneDrive Enabled: Production Prevent users from redirecting their Windows known folders to their PC Device \\OneDrive Enabled Use OneDrive Files On-Demand Device \\OneDrive Enabled"},{"location":"as-built-as-configured/intune-configuration/#blueprint-onedrive-user","title":"Blueprint - OneDrive User","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Blueprint - OneDrive User Profile type Administrative templates Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned <code>rol-Agency-users, rol-Agency-Administrators</code> <p>The following table outlines the settings within the profile.</p> Item Type ADMX Path Value Coauthor and share in Office desktop apps User \\OneDrive Enabled Prevent users from syncing personal OneDrive accounts User \\OneDrive Enabled"},{"location":"as-built-as-configured/intune-configuration/#custom-desktop-configuration-csp","title":"Custom - Desktop Configuration CSP","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - Desktop Configuration CSP Profile type Custom Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the OMA-URI settings within the profile.</p> Name Description OMA-URI Value DefaultAssociationsConfiguration Not configured <code>./Vendor/MSFT/Policy/Config/ApplicationDefaults/DefaultAssociationsConfiguration</code> Agency to generate base64 file on reference computer. See ApplicationDefaults policy csp. TimeZone Not configured <code>./Device/Vendor/MSFT/Policy/Config/TimeLanguageSettings/ConfigureTimeZone</code> String: AUS Eastern Standard Time"},{"location":"as-built-as-configured/intune-configuration/#custom-device-restrictions","title":"Custom - Device Restrictions","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - Device Restrictions Profile type Device Restrictions Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the configuration settings within the profile.</p> Item Configuration Locked Screen Experience Locked screen picture URL (Desktop only) Agency to define Personalization Desktop background picture URL Agency to define Start Start Menu Layout File: Start_menu_layout.xml"},{"location":"as-built-as-configured/intune-configuration/#custom-edge-browser","title":"Custom - Edge Browser","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - Edge Browser Profile type Administrative templates Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned <code>All Devices, rol-Agency-Administrators, rol-Agency-users</code> <p>The following table outlines the settings within the profile.</p> Item Type ADMX Path Value Action to take on startup Device \\Microsoft Edge\\Startup, home page and new tab page Open a list of URLs Browser  sign-in settings Device \\Microsoft  Edge Force users to sign-in to use the browser Configure  the new tab page URL Device \\Microsoft  Edge\\Startup, home page and new tab page Agency to define Configure  whether a user always has a default profile automatically signed in with  their work or school account Device \\Microsoft  Edge Enabled Default  search provider name Device \\Microsoft  Edge\\Default search provider Agency to define Default  search provider search URL Device \\Microsoft  Edge\\Default search provider Agency to define Default  search provider URL for suggestions Device \\Microsoft  Edge\\Default search provider Agency to define Enable  the default search provider Device \\Microsoft  Edge\\Default search provider Enabled Force  synchronization of browser data and do not show the sync consent prompt Device \\Microsoft  Edge Enabled Hide  the First-run experience and splash screen Device \\Microsoft  Edge Enabled Site  to Zone Assignment List Device \\Windows  Components\\Internet Explorer\\Internet Control Panel\\Security Page https://autologon.microsoftazuread-sso.com  - 1 Sites  to open when the browser starts Device \\Microsoft  Edge\\Startup, home page and new tab page Agency to define"},{"location":"as-built-as-configured/intune-configuration/#custom-interactive-logon-banner-csp","title":"Custom - Interactive Logon Banner CSP","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - Interactive Logon Banner CSP Profile type Custom Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the OMA-URI settings within the profile.</p> Name Description OMA-URI Value Interactive Login Banner -   Title Not configured <code>./Vendor/MSFT/Policy/Config/LocalPoliciesSecurityOptions/InteractiveLogon_MessageTitleForUsersAttemptingToLogOn</code> String: Agency to define warning title Interactive Login Banner - Text Not Configured <code>./Vendor/MSFT/Policy/Config/LocalPoliciesSecurityOptions/InteractiveLogon_MessageTextForUsersAttemptingToLogOn</code> String: Agency to define logon banner text"},{"location":"as-built-as-configured/intune-configuration/#custom-windows-defender-application-control-csp","title":"Custom - Windows Defender Application Control CSP","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - Windows Defender Application Control CSP Profile type Custom Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the OMA-URI settings within the profile.</p> Name Description OMA-URI Value WDACBasePolicy The ApplicationControl CSP enforces that the \"ID\" segment of a given policy URI is the same GUID as the policy ID in the policy blob. Each Policy GUID node contains a Policy node and a corresponding PolicyInfo node. <code>./Vendor/MSFT/ApplicationControl/Policies/(policy GUID)/Policy</code> Base64 (file) (see Client devices technical instruction WDACSuppPolicy1 Additional supplemental policy from generated from a base WDAC policy. <code>./Vendor/MSFT/ApplicationControl/Policies/(policy GUID)/Policy</code> Base64 (file) (see Client devices technical instruction"},{"location":"as-built-as-configured/intune-configuration/#ios-devices","title":"iOS Devices","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Configuration profiles &gt; Create Profile &gt; iOS/iPadOS</code></p>"},{"location":"as-built-as-configured/intune-configuration/#blueprint-ios-device-restrictions","title":"Blueprint - iOS device restrictions","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Blueprint - iOS device restrictions Profile type Device Restrictions Platform supported iOS/iPadOS Groups excluded 0 Assigned Yes Groups assigned <code>rol-Agency-users, rol-Agency-Administrators</code> <p>Configuration settings:</p> <ul> <li>App Store, Doc Viewing, Gaming</li> <li>Block viewing corporate documents in unmanaged apps: <code>Yes</code></li> <li>Treat AirDrop as an unmanaged destination: <code>Yes</code></li> <li>Viewing non-corporate documents in corporate apps: <code>Yes</code></li> <li>Block in-app purchases: <code>Yes</code></li> <li>Block download of explicit sexual content in Apple Books: <code>Yes</code></li> <li>Block App store: <code>Yes</code></li> <li>Block playback of explicit iTunes music, podcast, or news content: <code>Yes</code></li> <li>Block adding Game Center friends: <code>Yes</code></li> <li>Block Game Center: <code>Yes</code></li> <li>Block multiplayer gaming in the Game Center: <code>Yes</code></li> <li>Block Access to network drive in Files app: <code>Yes</code></li> <li>Built-in Apps</li> <li>Block Siri: <code>Yes</code></li> <li>Require Safari fraud warnings: <code>Yes</code></li> <li>Block internet search results from Spotlight: <code>Yes</code></li> <li>Safari cookies: <code>Block all cookies, and block cross site tracking</code></li> <li>Block Safari JavaScript: <code>Yes</code></li> <li>Block Safari pop-ups: <code>Yes</code></li> <li>Block Siri for dictation: <code>Yes</code></li> <li>Block camera: <code>Yes</code></li> <li>Block Apple Book: <code>Yes</code></li> <li>Block iTunes Store: <code>Yes</code></li> <li>Block Find My iPhone: <code>Yes</code></li> <li>Block Find My Friends: <code>Yes</code></li> <li>Block user modification to the Find My Friends settings: <code>Yes</code></li> <li>Block removal of system apps from device: <code>Yes</code></li> <li>Block Safari Autofill: <code>Yes</code></li> <li>Cloud and Storage</li> <li>Force Encrypted backup: <code>Yes</code></li> <li>Block managed apps from storing data in iCloud: <code>Yes</code></li> <li>Block backup of enterprise books: <code>Yes</code></li> <li>Block notes and highlights sync for enterprise books: <code>Yes</code></li> <li>Block iCloud Photos sync: <code>Yes</code></li> <li>Block iCloud Photo Library: <code>Yes</code></li> <li>Block My photo stream: <code>Yes</code></li> <li>Block Handoff: <code>Yes</code></li> <li>Block iCloud backup: <code>Yes</code></li> <li>Block iCloud document and data sync: <code>Yes</code></li> <li>Block iCloud Keychain sync: <code>Yes</code></li> <li>Connected Devices</li> <li>Force wrist detection for paired Apple Watch: <code>Yes</code></li> <li>Require AirPlay outgoing requests pairing password: <code>Yes</code></li> <li>Block Apple Watch auto unlock: <code>Yes</code></li> <li>Block AirDrop: <code>Yes</code></li> <li>Block pairing with Apple Watch: <code>Yes</code></li> <li>Block pairing with non-Configurator hosts: <code>Yes</code></li> <li>Block AirPrint: <code>Block</code></li> <li>Block setting up new nearby devices: <code>Yes</code></li> <li>Block access to USB drive in Files app: <code>Yes</code></li> <li>Disable near-field communication (NFC): <code>Yes</code></li> <li>General</li> <li>Block sending diagnostic and usage data to Apple: <code>Yes</code></li> <li>Block screenshots and screen recording: <code>Yes</code></li> <li>Block untrusted TLS certificates: <code>Yes</code></li> <li>Block over-the-air PKI updates: <code>Yes</code></li> <li>Force limited ad tracking: <code>Yes</code></li> <li>Block trusting new enterprise app authors: <code>Yes</code></li> <li>Limit Apple personalized advertising: <code>Yes</code></li> <li>Block modification of account settings: <code>Block</code></li> <li>Block Screen Time: <code>Yes</code></li> <li>Block use of erase all content and settings: <code>Yes</code></li> <li>Block modification of device name: <code>Yes</code></li> <li>Block modification of notifications settings: <code>Yes</code></li> <li>Block modification of Wallpaper: <code>Yes</code></li> <li>Block configuration profile changes: <code>Yes</code></li> <li>Allow activation lock: <code>Yes</code></li> <li>Block removing apps: <code>Yes</code></li> <li>Block app clips: <code>Yes</code></li> <li>Force automatic date and time: <code>Yes</code></li> <li>Block VPN creation: <code>Yes</code></li> <li>Block modification of eSIM settings: <code>Yes</code></li> <li>Lock Screen Experience</li> <li>Block Control Center access in lock screen: <code>Yes</code></li> <li>Block Notification Center access in lock screen: <code>Yes</code></li> <li>Block Today view in lock screen: <code>Yes</code></li> <li>Block Wallet notifications in lock screen: <code>Yes</code></li> <li>Password</li> <li>Require Password: <code>Yes</code></li> <li>Block Simple passwords: <code>Yes</code></li> <li>Required password type: <code>Alphanumeric</code></li> <li>Number of non-alphanumerics characters in password: <code>1</code></li> <li>Minimum password length: <code>14</code></li> <li>Number of sign-in failures before wiping the device: <code>11</code></li> <li>Maximum minutes after screen lock before password is required: <code>Immediately</code></li> <li>Maximum minutes of inactivity until screen locks: <code>2 Minutes</code></li> <li>Password expiration (days): <code>365</code></li> <li>Prevent reuse of previous passwords: <code>5</code></li> <li>Block Touch ID and Face ID unlock: <code>Yes</code></li> <li>Block password AutoFill: <code>Yes</code></li> <li>Block password proximity requests: <code>Yes</code></li> <li>Block password sharing: <code>Yes</code></li> <li>Restricted Apps</li> <li>Type of restricted app list: <code>Approved apps</code> </li> </ul> App store URL App bundle ID App Name Publisher https://apps.apple.com/au/app/adobe-acrobat-reader-for-pdf/id469337564 com.adobe.Adobe-Reader Adobe Acrobat Reader for PDF Adobe Inc https://apps.apple.com/us/app/microsoft-authenticator/id983156458 com.microsoft.azureauthenticator Microsoft Authenticator Microsoft Corporation https://apps.apple.com/us/app/microsoft-edge/id1288723196 com.microsoft.msedge Microsoft Edge Microsoft Corporation https://apps.apple.com/us/app/microsoft-excel/id586683407 com.microsoft.Office.Excel Microsoft Excel Microsoft Corporation https://apps.apple.com/us/app/microsoft-onedrive/id477537958 com.microsoft.skydrive Microsoft OneDrive Microsoft Corporation https://apps.apple.com/au/app/microsoft-onenote/id410395246 com.microsoft.onenote Microsoft OneNote Microsoft Corporation https://apps.apple.com/au/app/microsoft-powerpoint/id586449534 com.microsoft.Office.Powerpoint Microsoft PowerPoint Microsoft Corporation https://apps.apple.com/us/app/microsoft-outlook/id951937596 com.microsoft.Office.Outlook Microsoft Outlook Microsoft Corporation https://apps.apple.com/au/app/microsoft-sharepoint/id1091505266 com.microsoft.sharepoint Microsoft SharePoint Microsoft Corporation https://apps.apple.com/us/app/microsoft-teams/id1113153706 com.microsoft.skype.teams Microsoft Teams Microsoft Corporation https://apps.apple.com/us/app/microsoft-word/id586447913 com.microsoft.Office.Word Microsoft Word Microsoft Corporation https://apps.apple.com/au/app/power-apps/id1047318566 com.microsoft.msapps PowerApps Microsoft Corporation <ul> <li>Shared iPad</li> <li>Block Shared iPad temporary sessions: <code>Yes</code></li> <li>Wireless</li> <li>Block voice dialing while device is locked: <code>Yes</code></li> <li>Require joining Wi-Fi networks only using configuration profiles: <code>Yes</code></li> </ul>"},{"location":"as-built-as-configured/intune-configuration/#custom-ios-device-feature-policy","title":"Custom - iOS device feature policy","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - iOS device feature policy Profile type Device Features Platform supported iOS/iPadOS Groups excluded 0 Assigned Yes Groups assigned <code>rol-Agency-users, rol-Agency-Administrators</code> <p>Configuration settings:</p> <ul> <li>Lock Screen Message   </li> <li>\"If Lost, Return to...\" Message: <code>If lost return to the &lt;Agency Name&gt;</code></li> <li>Wallpaper</li> <li>Wallpaper Display Location: <code>Lock Screen and Home Screen</code></li> <li>Wallpaper Image: <code>Agency wallpaper</code></li> </ul>"},{"location":"as-built-as-configured/intune-configuration/#custom-per-app-vpn","title":"Custom - Per App VPN","text":"<p>The following table outlines the profile is created for all implementation types.</p> Item Configuration Profile Name Custom - Per App VPN Profile type VPN Platform supported iOS/iPadOS Groups excluded 0 Assigned Yes Groups assigned <code>rol-Agency-users, rol-Agency-Administrators</code> <p>Configuration settings:</p> <ul> <li>Connection Type: <code>VPN Provider</code></li> <li>Connection name: <code>PerApp VPN</code></li> <li>VPN Address: <code>XXX.XXX.XXX.XXX</code></li> <li>Authentication method: <code>username and password</code></li> <li>Split tunnelling: <code>Disabled</code></li> <li>Type of automatic VPN: <code>Per-app VPN</code></li> <li>Block users from disabling automatic VPN: <code>Yes</code></li> </ul>"},{"location":"as-built-as-configured/intune-configuration/#endpoint-security","title":"Endpoint Security","text":"<p>The ABAC settings for the Agency Microsoft Endpoint Manager - Intune (Intune) Endpoint Security settings can be found below. This includes configuration specific to Windows devices for Antivirus, Disk Encryption, Firewall, Endpoint Detection and Response, Attack Surface Reduction, Account Protection and Microsoft Defender for Endpoint. </p> <p>Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/intune-configuration/#windows-client-devices_1","title":"Windows Client Devices","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security</code></p>"},{"location":"as-built-as-configured/intune-configuration/#antivirus","title":"Antivirus","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Antivirus</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Defender Antivirus Profile Microsoft Defender Antivirus Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Cloud protection Turn on cloud-delivered protection Yes Cloud-delivered protection level High Defender Cloud Extended Timeout In Seconds 50 Microsoft Defender Antivirus Exclusions Disable local admin merge Yes Defender Processes To Exclude Agency to define (if required) File extensions to exclude from scans and  real-time protection 0 items Defender Files and Folders to Exclude Agency to define (if required) Real-time protection Turn on real-time protection Yes Enable on access protection Yes Monitoring for incoming and outgoing files Monitor all files Turn on behavior monitoring Yes Turn on intrusion protection Yes Enable network protection Enabled Scan all downloaded files and attachments Yes Scan scripts that are used in Microsoft browsers Yes Scan network files Yes Scan emails Yes Remediation Number of days (0-90) to keep quarantined  malware 0 Submit samples consent Send all samples automatically Action to take on potentially unwanted apps Enable Scan Scan archive files Yes Use low CPU priority for scheduled scans Yes Disable catch-up full scan No Disable Catchup Quick Scan No CPU usage limit per scan 50 Scan mapped network drives during full scan Yes Run daily quick scan at 2 AM Scan type Quick scan Check for signature updates before running  scan Yes Updates Enter how often (0-24 hours) to check for  security intelligence updates 1 Define file shares for downloading  definition updates 0 items Define the order of sources for downloading  definition updates 0 items User experience Allow user access to Microsoft Defender app Yes"},{"location":"as-built-as-configured/intune-configuration/#windows-security","title":"Windows Security","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Antivirus</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Windows Security Profile Windows Security experience Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Windows Security Enable tamper protection to prevent Microsoft Defender being disabled Enable Windows Security app notifications Block non-critical notifications Disable the Clear TPM option in the Windows Security app Yes"},{"location":"as-built-as-configured/intune-configuration/#disk-encryption","title":"Disk Encryption","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Disk Encryption</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - BitLocker Profile BitLocker Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration BitLocker - Base Settings Enable full disk encryption for OS and fixed  data drives Yes Hide prompt about third-party encryption Yes Allow standard users to enable encryption during Autopilot Yes Configure client-driven recovery password  rotation Enable rotation on Azure AD-joined devices BitLocker - Fixed Drive Settings BitLocker fixed drive policy Configure Fixed drive recovery Configure Recovery key file creation Allowed Configure BitLocker recovery package Password and key Require device to back up recovery information to Azure AD Yes Recovery password creation Allowed Hide recovery options during BitLocker setup Yes Enable BitLocker after recovery information to store Yes Block write access to fixed data-drives not protected by BitLocker Yes Configure encryption method for fixed  data-drives AES 256bit XTS BitLocker - OS Drive Settings BitLocker system drive policy Configure Startup authentication required Yes Compatible TPM startup Allowed Compatible TPM startup PIN Allowed Compatible TPM startup key Allowed Compatible TPM startup key and PIN Allowed System drive recovery Configure Recovery key file creation Allowed Configure BitLocker recovery package Password and key Require device to back up recovery  information to Azure AD Yes Recovery password creation Allowed Hide recovery options during BitLocker setup Yes Enable BitLocker after recovery information  to store Yes Minimum PIN length 14 Configure encryption method for fixed  data-drives AES 256bit XTS BitLocker - Removable Drive Settings BitLocker removable drive policy Configure Configure encryption method for removable  data-drives AES 256bit XTS Block write access to removable data-drives not protected by BitLocker Yes Block write access to devices configured in  another organization Yes"},{"location":"as-built-as-configured/intune-configuration/#firewall","title":"Firewall","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Firewall</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Defender Firewall Profile Microsoft Defender Firewall Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Microsoft Defender Firewall Stateful File Transfer Protocol (FTP) Allow Number of seconds a security association can  be idle before it's deleted 300 Preshared key encoding UTF8 Certificate revocation list (CRL)  verification Attempt Turn on Microsoft Defender Firewall for  domain networks Yes Block stealth mode No Block unicast responses to multicast  broadcasts No Disable inbound notifications Yes Block outbound connections Yes Block inbound connections Yes Ignore authorized application firewall rules No Ignore global port firewall rules No Ignore all local firewall rules No Ignore connection security rules No Turn on Microsoft Defender Firewall for  private networks Yes Block stealth mode No Block unicast responses to multicast  broadcasts No Disable inbound notifications Yes Block outbound connections Yes Block inbound connections Yes Ignore authorized application firewall rules No Ignore global port firewall rules No Ignore all local firewall rules No Ignore connection security rules No Turn on Microsoft Defender Firewall for  public network Yes Block stealth mode No Block unicast responses to multicast  broadcasts No Disable inbound notifications Yes Block outbound connections Yes Block inbound connections Yes Ignore authorized application firewall rules No Ignore global port firewall rules No Ignore all local firewall rules No Ignore connection security rules No <p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Firewall</code></p> <p>The following table outlines the policy is created for all implementation types. </p> <p>Each firewall rule policy can contain up to 150 individual rules. Guidance on creating this policy can be found within Windows Firewall rules import technical guide.</p> Item Configuration Policy Name ACSC - Defender Firewall Rules  #(number) Profile Microsoft Defender Firewall Rules Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The exact firewall rules imported are specific to the agency reference computer and will vary depending on Windows version and build.</p>"},{"location":"as-built-as-configured/intune-configuration/#endpoint-detection-and-response","title":"Endpoint Detection and Response","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Endpoint Detection and Response</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Endpoint Detection and Response Profile Endpoint Detection and Response Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Endpoint Detection and Response Microsoft Defender for Endpoint client  configuration package type Onboarding blob Microsoft Defender for Endpoint onboarding  blob Value has been set Microsoft Defender for Endpoint onboarding  filename WindowsDefenderATP.onboarding Sample sharing for all files Yes Expedite telemetry reporting frequency Yes"},{"location":"as-built-as-configured/intune-configuration/#attack-surface-reduction","title":"Attack Surface Reduction","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Attack Surface Reduction</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Attack Surface Reduction Profile Attack surface reduction rules Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Block persistence through WMI event subscription Block Block credential stealing from the Windows local security authority subsystem (lsass.exe) Enable Block Adobe Reader from creating child processes Enable Block Office applications from injecting code into other processes Block Block Office applications from creating executable content Block Block all Office applications from creating child processes Block Block Win32 API calls from Office macro Block Block Office communication apps from creating child processes Enable Block execution of potentially obfuscated scripts (js/vbs/ps) Block Block JavaScript or VBScript from launching downloaded executable content Block Block process creations originating from PSExec and WMI commands Block Block untrusted and unsigned processes that run from USB Block Block executable files from running unless they meet a prevalence, age, or trusted list criteria Block Block executable content download from email and webmail clients Block Use advanced protection against ransomware Enable Enable folder protection Enable List of additional folders that need to be  protected 0 items List of apps that have access to protected  folders 0 items Exclude files and paths from attack surface reduction rules Agency to define (if required) <p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Attack Surface Reduction</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Device Control Profile Device Control Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Allow hardware device installation by device identifiers Yes Allow list Agency to define Allow hardware device installation by setup class Yes Allow list Agency to define Allow hardware device installation by device instance identifiers Yes Allow list Agency to define Scan removable drives during full scan Yes Block direct memory access Enabled Enumeration of external devices incompatible with Kernel DMA Protection Block All Block bluetooth pre-pairing Yes Block bluetooth advertising Yes Block bluetooth proximal connections Yes Bluetooth allowed services <code>00000000-deca-fade-deca-deafdecacaff 00001108-0000-1000-8000-00805F9B34FB 00001109-0000-1000-8000-00805F9B34FB 0000110A-0000-1000-8000-00805F9B34FB 0000110B-0000-1000-8000-00805F9B34FB 0000110C-0000-1000-8000-00805F9B34FB 0000110D-0000-1000-8000-00805F9B34FB 0000110E-0000-1000-8000-00805F9B34FB 0000110F-0000-1000-8000-00805F9B34FB 00001110-0000-1000-8000-00805F9B34FB 00001112-0000-1000-8000-00805F9B34FB 0000111E-0000-1000-8000-00805F9B34FB 0000111F-0000-1000-8000-00805F9B34FB 00001124-0000-1000-8000-00805F9B34FB 00001131-0000-1000-8000-00805F9B34FB 00001200-0000-1000-8000-00805F9B34FB 00001203-0000-1000-8000-00805F9B34FB 00001204-0000-1000-8000-00805F9B34FB 00001800-0000-1000-8000-00805F9B34FB 00001801-0000-1000-8000-00805F9B34FB 0000180A-0000-1000-8000-00805F9B34FB 00001812-0000-1000-8000-00805F9B34FB 00001813-0000-1000-8000-00805F9B34FB 82972387-294e-4d62-97b5-2668aa35f618</code> <p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Attack Surface Reduction</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Application Guard Profile App and browser isolation Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Turn on Application Guard Enabled for Edge Collect logs for events that occur within an Application Guard session Yes <p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Attack Surface Reduction</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Exploit Protection Profile Exploit protection Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Upload XML Agency to generate XML from from a reference computer. See create exploit guard policy Block users from editing the Exploit Guard protection interface Yes"},{"location":"as-built-as-configured/intune-configuration/#account-protection","title":"Account Protection","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Account Protection</code></p> <p>The following table outlines the policy is created for all implementation types.</p> Item Configuration Policy Name ACSC - Account Protection Profile Account protection (preview) Platform supported Windows 10 and later Groups excluded 0 Assigned Yes Groups assigned All Devices <p>The following table outlines the settings within the policy.</p> Item Configuration Block Windows Hello for Business Enabled Turn on Credential Guard Enable with UEFI lock"},{"location":"as-built-as-configured/intune-configuration/#defender-for-endpoint","title":"Defender for Endpoint","text":"<p><code>Microsoft Endpoint Manager &gt; Endpoint Security &gt; Setup &gt; Microsoft Defender for Endpoint</code></p> <p>The following table outlines the policy is created for all implementation types. </p> <p>Note, configuration is completed after Defender for Endpoint has been enabled to connect within Intune, see connecting Microsoft Defender for Endpoint to Intune.</p> <p>The following table outlines the settings within the Microsoft Defender for Endpoint setup node.</p> Item Configuration MDM Compliance   Policy Settings Connect Android devices of version 6.0.0 and  above to Microsoft Defender ATP Off Connect iOS devices version 8.0 and above to  Microsoft Defender ATP On Connect Windows devices version 10.0.15063  and above to Microsoft Defender ATP On Block unsupported OS versions Off App Protection Policy Settings Connect Android devices to Microsoft  Defender for Endpoint for app protection policy evaluation Off Connect iOS devices to Microsoft Defender  for Endpoint for app protection policy evaluation Off Common Shared Settings Number of days until partner is unresponsive 0"},{"location":"as-built-as-configured/intune-configuration/#scripts","title":"Scripts","text":"<p>In additional to configuration profiles, native Intune scripts are used to deploy configuration where there is not a supported configuration item natively to configure a setting on a Windows Device.</p> <p>Scripts can be found within the following console node  <code>Microsoft Endpoint Manager&gt; Devices &gt; Scripts</code></p>"},{"location":"as-built-as-configured/intune-configuration/#remove-built-in-apps","title":"Remove built-in apps","text":"<ul> <li>Profile name: <code>RemoveBuiltInApps</code></li> <li>Script settings</li> <li>PowerShell script: RemoveBuiltInApps.ps1</li> <li>Run this script using the logged-on credentials: <code>No</code></li> <li>Enforce script signature check: <code>No</code></li> <li>Run script in 64 bit PowerShell Host: <code>No</code></li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Included groups: <code>All Devices</code></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/intune-enrolment/","title":"Intune enrolment","text":""},{"location":"as-built-as-configured/intune-enrolment/#microsoft-endpoint-manager-intune-enrolment","title":"Microsoft Endpoint Manager - Intune enrolment","text":"<p>4 minutes to read - 30 March 2023</p>"},{"location":"as-built-as-configured/intune-enrolment/#automatic-enrolment","title":"Automatic enrolment","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Enroll devices &gt; Automatic Enrollment</code></p> Item Configuration MDM user scope Some - rol-Agency-users Groups 1 Group selected MDM terms of use URL <code>https://portal.manage.microsoft.com/TermsofUse.aspx</code> MDM discovery URL <code>https://enrolment.manage.microsoft.com/enrolmentserver/discovery.svc</code> MDM Compliance URL <code>https://portal.manage.microsoft.com/?portalAction=Compliance</code> MAM user scope Some Groups rol-Agency-users MAM terms of use URL Not configured MAM discovery URL <code>https://wip.mam.manage.microsoft.com/Enroll</code> MAM compliance URL Not configured"},{"location":"as-built-as-configured/intune-enrolment/#enrolment-status-page","title":"Enrolment status page","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Enroll devices &gt; Enrollment Status Page</code></p> <ul> <li>Name: <code>All users and all devices</code></li> <li>Description: <code>This is the default enrolment status screen configuration applied with the lowest priority to all users and all devices regardless of group membership</code></li> <li>Settings</li> <li>Show app and profile configuration progress: <code>Yes</code></li> <li>Show an error when installation takes longer than specified number of minutes: <code>60</code></li> <li>Show custom message when time limit error occurs: <code>Yes</code></li> <li>Error message: <code>Installation exceeded the time limit set by your organisation. Please try again or contact IT support for help.</code></li> <li>Turn on log collection and diagnostics page for end users: <code>No</code> </li> <li>Only show page to devices provisioned by out-of-box experience (OOBE): <code>Yes</code></li> <li>Block device use until all apps and profiles are installed: <code>Yes</code></li> <li>Allow users to reset device if installation error occurs: <code>Yes</code></li> <li>Allow users to use device if installation error occurs: <code>No</code></li> <li>Block device use until these required apps are installed if they are assigned to the user/device: <code>All</code></li> <li>Assignments</li> <li>Included groups: <code>All devices</code></li> </ul>"},{"location":"as-built-as-configured/intune-enrolment/#deployment-profiles","title":"Deployment profiles","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Enroll devices &gt; Deployment Profiles</code></p> <ul> <li>Name: <code>Autopilot Deployment Profile</code></li> <li>Description: <code>Devices enrolled via Autopilot</code></li> <li>Convert all targeted devices to Autopilot: <code>No</code></li> <li>Device type: <code>Windows PC</code></li> <li>Out-of-box experience (OOBE)</li> <li>Deployment mode: <code>User-Driven</code></li> <li>Join to Azure AD as: <code>Azure AD Joined</code></li> <li>Language (Region): <code>English (Australia)</code></li> <li>Automatically configure keyboard: <code>Yes</code></li> <li>Microsoft Software License Terms: <code>Hide</code></li> <li>Privacy settings: <code>Hide</code></li> <li>Hide change account options: <code>Hide</code></li> <li>User account type: <code>Standard</code></li> <li>Allow White Glove OOBE: <code>Yes</code></li> <li>Language (Region): <code>English (Australia)</code></li> <li>Automatically configure the keyboard: <code>Yes</code></li> <li>Apply device name template: <code>Yes</code></li> <li>Enter a name: <code>&lt;Agency 3 characters&gt;-%SERIAL%</code></li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Included groups: <code>All devices</code></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/intune-enrolment/#windows-hello-for-business","title":"Windows Hello for Business","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Enroll devices &gt; Windows Hello for Business</code></p> Item Configuration Assigned to All users Name All users and all devices Description This is the default Windows Hello for Business configuration applied with the lowest priority to all users regardless of group membership. Configure Windows Hello for Business Not configured Use security keys for sign-in Not configured"},{"location":"as-built-as-configured/intune-enrolment/#apple-device-enrolment-program","title":"Apple Device Enrolment Program","text":"<p><code>Intune &gt; Devices &gt; Enroll devices &gt; Apple enrollment &gt; Enrollment program tokens</code></p> <ul> <li>Name: <code>Apple Business Manager Enrollment</code></li> <li>Description: <code>Automatic Configuration and Enrollment for corporately owned iOS devices</code></li> <li>Platform: <code>iOS/iPadOS</code></li> <li>User Affinity &amp; Authentication Method</li> <li>User affinity: <code>Yes</code></li> <li>Select where users must authenticate: <code>Company Portal</code></li> <li>Install Company Portal with VPP: <code>Use Token</code> </li> <li>Run Company Portal in Single App Mode until authentication: <code>No</code> </li> <li>Management Options</li> <li>Supervised: <code>Yes</code></li> <li>Locked enrollment: <code>Yes</code></li> <li>Shared iPad: <code>No</code></li> <li>Sync with computers: <code>Deny All</code></li> <li>Device Name</li> <li>Apply device name template (supervised only): <code>Yes</code></li> <li>Device Name Template: <code>{SERIAL}-{DEVICETYPE}</code></li> <li>Setup Assistant</li> <li>Department: <code>&lt;Agency Name&gt;</code></li> <li>Department Phone: <code>&lt;Agency Support Telephone Number&gt;</code></li> <li>Setup Assistant Screens</li> <li>Passcode: <code>Hide</code></li> <li>Location Services: <code>Hide</code></li> <li>Restore: <code>Hide</code></li> <li>Android Migration: <code>Hide</code></li> <li>Apple ID: <code>Hide</code></li> <li>Terms and Conditions: <code>Hide</code></li> <li>Touch ID: <code>Hide</code></li> <li>Apple Pay: <code>Hide</code></li> <li>Zoom: <code>Hide</code></li> <li>Siri: <code>Hide</code></li> <li>Diagnostics Data: <code>Hide</code></li> <li>Display Tone: <code>Hide</code></li> <li>Home Button: <code>Hide</code></li> <li>Privacy: <code>Hide</code></li> <li>iMessage &amp; FaceTime: <code>Hide</code></li> <li>Onboarding: <code>Hide</code></li> <li>Screen Time: <code>Hide</code></li> <li>SIM Setup: <code>Hide</code></li> <li>Software Update: <code>Hide</code></li> <li>Watch Migration: <code>Hide</code></li> <li>Appearance: <code>Hide</code></li> <li>Device to Device Migration: <code>Hide</code></li> <li>Restore Completed: <code>Hide</code></li> <li>Software Update Completed: <code>Hide</code></li> </ul>"},{"location":"as-built-as-configured/intune-enrolment/#enrolment-types-preview","title":"Enrolment types (preview)","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Enroll devices &gt; Apple enrollment &gt; Enrollment types (preview)</code></p> <ul> <li>Name: <code>iOS DEP Enrolment</code></li> <li>Description: -</li> <li>Settings</li> <li>Enrolment types: <code>Device enrollment</code></li> <li>Assignments</li> <li>Included groups:   <pre><code>rol-Agency-Users\nrol-Agency-Administrators\n</code></pre></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/intune-enrolment/#enrolment-restrictions","title":"Enrolment restrictions","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Enroll devices &gt; Enrollment restrictions</code></p> <ul> <li>Device type restrictions</li> <li>Name: <code>Organisation Restrictions</code><ul> <li>Priority: <code>3</code></li> <li>Assigned: <code>Yes</code></li> <li>Platform settings</li> <li>Type: <code>Windows (MDM)</code><ul> <li>Platform: <code>Allow</code></li> <li>Minimum Version: <code>10.0.19043</code></li> <li>Maximum Version: -</li> <li>Personally owned: <code>Block</code></li> <li>Block manufacturers: <code>N/A</code></li> </ul> </li> <li>Type: <code>iOS/iPadOS</code><ul> <li>Platform: <code>Allow</code></li> <li>Minimum Version: <code>14.7</code></li> <li>Maximum Version: -</li> <li>Personally owned: <code>Block</code></li> <li>Block manufacturers: <code>N/A</code></li> </ul> </li> <li>Type: <code>Android Enterprise (Work Profiles)</code><ul> <li>Platform: <code>Block</code></li> <li>Minimum Version: <code>N/A</code></li> <li>Maximum Version: <code>N/A</code></li> <li>Personally owned: <code>Block</code></li> <li>Block manufacturers: <code>N/A</code></li> </ul> </li> <li>Type: <code>Android device administrator</code><ul> <li>Platform: <code>Block</code></li> <li>Minimum Version: <code>N/A</code></li> <li>Maximum Version: <code>N/A</code></li> <li>Personally owned: <code>Block</code></li> <li>Block manufacturers: <code>N/A</code></li> </ul> </li> <li>Type: <code>macOS</code><ul> <li>Platform: <code>Block</code></li> <li>Minimum Version: <code>N/A</code></li> <li>Maximum Version: <code>N/A</code></li> <li>Personally owned: <code>Block</code></li> <li>Block manufacturers: <code>N/A</code></li> </ul> </li> <li>Scope tags</li> <li>tags: <code>Default</code></li> <li>Assignments</li> <li>Included groups: <code>All devices</code></li> </ul> </li> <li>Device limit restrictions</li> <li>Name: <code>All users</code></li> <li>Priority: <code>Default</code></li> <li>Device limit: <code>5</code></li> <li>Assignments<ul> <li>Included groups: <code>All devices</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/intune-software-updates/","title":"Intune software updates","text":""},{"location":"as-built-as-configured/intune-software-updates/#microsoft-endpoint-manager-intune-software-updates","title":"Microsoft Endpoint Manager - Intune software updates","text":"<p>2 minutes to read - 30 March 2023</p> <p>The following lists the Windows 10 update ring profiles, and iOS update profiles deployed within the Agency tenant. Windows 10 update rings are utilised to maintain a patch level congruent to the standards determined in the blueprint design documents. </p>"},{"location":"as-built-as-configured/intune-software-updates/#update-rings-windows-10","title":"Update Rings (Windows 10)","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; Updates rings for Windows 10 and later</code></p> <ul> <li>Name: <code>General Availabilty</code></li> <li>Description: -</li> <li>Update ring settings</li> <li>Microsoft product updates: <code>Allow</code></li> <li>Windows drivers: <code>Allow</code></li> <li>Quality update deferral period (days): <code>0</code></li> <li>Feature update deferral period (days): <code>0</code></li> <li>Update Windows 10 devices to Latest Windows 11 release: <code>No</code></li> <li>Set feature update uninstall period (2 - 60 days): <code>10</code></li> <li>Enable pre-release builds: <code>Not Configured</code></li> <li>User experience settings</li> <li>Automatic update behavior: <code>Auto install at maintenance time</code></li> <li>Active hours start: <code>8 AM</code></li> <li>Active hours end: <code>5 PM</code></li> <li>Restart checks: <code>Allow</code></li> <li>Option to pause Windows updates: <code>Disable</code></li> <li>Option to check for Windows updates: <code>Enable</code></li> <li>Require user approval to dismiss restart notification: <code>No</code></li> <li>Remind user prior to required auto-restart with dismissible reminder (hours): <code>--</code></li> <li>Remind user prior to required auto-restart with permanent reminder (minutes): <code>--</code></li> <li>Change notification update level: <code>Use the default Windows Update notifications</code></li> <li>Use deadline settings: <code>Allow</code></li> <li>Deadline for feature updates: <code>2</code></li> <li>Deadline for quality updates: <code>2</code></li> <li>Grace period: <code>0</code></li> <li>Auto reboot before deadline: <code>Yes</code></li> <li>Scope tags: <code>Default</code></li> <li>Assignments</li> <li>Included groups: <code>All Devices</code></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/intune-software-updates/#update-policies-for-iosipados","title":"Update policies for iOS/iPadOS","text":"<p><code>Microsoft Endpoint Manager &gt; Devices &gt; iOS/iPadOS &gt; Update policies for iOS/iPadOS</code></p> <ul> <li>Name: <code>iOS Update Policy</code></li> <li>Description: -</li> <li>Select version to install: <code>Latest update</code></li> <li>Schedule type: <code>Update at next check-in</code></li> <li>Assignments</li> <li>Included groups: <code>All Devices</code></li> <li>Excluded groups: -</li> </ul>"},{"location":"as-built-as-configured/office-365/","title":"Office 365","text":""},{"location":"as-built-as-configured/office-365/#office-365","title":"Office 365","text":"<p>51 minutes to read - 30 March 2023</p>"},{"location":"as-built-as-configured/office-365/#organisation","title":"Organisation","text":"<p>The ABAC settings for the organisation for all implementation types can be found below. This includes Residency, Licensing and Licensing Manual Groups, Theme, Add-ins and Security and Privacy settings.</p> <p>Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting</p> <p><code>Microsoft 365 Admin center &gt; Settings &gt; Org settings &gt; Organization profile &gt; Organization information</code></p> <p>The following table describes the Office 365 Organization profile settings for all implementation types.</p> Item Configuration Name Organisation Street address Organisation defined City Organisation defined State Organisation defined ZIP or postal code Organisation defined Country or region Australia Phone Organisation defined Technical Contact Organisation defined Preferred Language English"},{"location":"as-built-as-configured/office-365/#licensing","title":"Licensing","text":"<p><code>Microsoft 365 Admin center &gt; Billing</code></p> <p>The following table describes the Microsoft 365 Licensing settings for all implementation types.</p> Item Configuration Name Quantity Microsoft 365 E5 100,000 Microsoft Power Automate Free 10,000 Office 365 E5 3 Microsoft Power Apps Plan 2 Trial 10,000"},{"location":"as-built-as-configured/office-365/#licensing-manual-groups","title":"Licensing manual groups","text":"<p><code>Azure Active Directory &gt; Licenses &gt; All products &gt; Microsoft 365 E5 &gt; Licensed groups</code></p> <p>The following table describes the configuration for the manual allocation of Microsoft 365 E5 licenses for all implementation types.</p> Name State rol-Organisation-Administrators Active rol-Organisation-Users Active"},{"location":"as-built-as-configured/office-365/#theme","title":"Theme","text":"<p><code>Microsoft 365 admin center &gt; Settings &gt; Org settings &gt; Organization profile &gt; Custom themes</code></p> <p>The following table describes the Custom Theme settings for all implementation types.</p> Item Configuration Use a custom logo image Organisation supplied Use an image from a URL Organisation supplied Make the logo clickable Organisation supplied Select background image Organisation supplied Navigation bar colour Organisation supplied Text and icon colour Organisation supplied Accent colour Organisation supplied Prevent users from overriding their theme Enabled Show the user\u2019s display name Enabled <p><code>Endpoint Manager admin center &gt; Tenant administration &gt; Customization</code></p> <ul> <li>Branding</li> <li>Organization name: <code>&lt;Organisation Name&gt;</code></li> <li>Theme color: Organisation supplied</li> <li>Show in header: <code>Organization logo only</code></li> <li>Upload logo for theme color background: Organisation supplied</li> <li>Upload logo for theme color light background: Organisation supplied</li> <li>Upload brand image: Organisation supplied</li> <li>Support information</li> <li>Contact name: <code>&lt;Organisation Acronym&gt; IT Service Desk</code></li> <li>Phone number: <code>&lt;Organisation Support Telephone Number&gt;</code></li> <li>Email address: <code>ITServiceDesk@Organisation.com.au</code></li> <li>Website name: -</li> <li>Website URL: -</li> <li>Additional information: -</li> <li>Configuration</li> <li>Device enrollment: <code>Available, with prompts</code></li> <li>Privacy messages in Company Portal for iOS/iPadOS: <code>Default</code></li> <li>Privacy statement URL: - </li> <li>Send a push notification to users when their device ownership type changes from personal to corporate (Android and iOS/iPadOS only): <code>No</code></li> <li>Hide remove button on corporate Windows devices: <code>Yes</code></li> <li>Hide reset button on corporate Windows devices: <code>No</code></li> <li>Hide remove button on corporate iOS/iPadOS devices: <code>No</code></li> <li>Hide reset button on corporate iOS/iPadOS devices: <code>No</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#add-ins","title":"Add-ins","text":"<p><code>Microsoft 365 admin center &gt; Settings &gt; Org settings &gt; Services</code></p> <p>The following table describes the Microsoft 365 Services settings for all implementation types.</p> Item Configuration Azure Speech Services Enabled Bookings Disabled \u200eBriefing\u200e email from \u200eMicrosoft Viva\u200e Enabled Calendar Disabled Cortana Disabled \u200eMicrosoft\u200e communication to users Disabled Microsoft Forms Send a link to the form and collect responses: UncheckedShare to collaborate on the form layout and structure: UncheckedShare the form as a template that can be duplicated: UncheckedShare form results summary: UncheckedRecord names by default: UncheckedInclude Bing search, YouTube videos: UncheckedAdd internal phishing protection: Checked Microsoft Graph Data Connect Disabled Planner \u200eiCalendar\u200e publishing: Unchecked Microsoft Search in Bing homepage Disabled Microsoft Teams Advanced management options: CheckedGuest access: Checked Microsoft To Do Disabled \u200eViva Insights (formerly MyAnalytics)\u200e Insights dashboard: CheckedWeekly digest: CheckedInsights Outlook add-in: CheckedAllow Microsoft to contact me about my feedback: Unchecked Microsoft 365 Groups Enabled Modern Authentication Turn on modern authentication for Outlook 2013 for Windows and later (recommended): CheckedAllow access to basic authentication protocols: Unchecked (All) News Disabled \u200eOffice\u200e installation options Once a month (Monthly Enterprise Channel)Apps for Windows and mobile devices: Office (includes Skype for Business)Apps for Mac: Office Office on the web (third-party storage services) Disabled Office Scripts Disabled Reports Disabled SharePoint Users can share with: New and existing guests - guests must sign in or provide a verification code Sway Disabled User consent to apps Disabled User owned apps and services Disabled Viva Learning Custom Uploads: CheckedLinkedIn Learning: UncheckedMicrosoft Learn: UncheckedMicrosoft 365 Training: UncheckedSharePoint: UncheckedRequired Diagnostic Data: CheckedOptional Diagnostic Data: Unchecked Whiteboard Turn on Whiteboard for everyone in your org: CheckedLevel of diagnostic data to send to Microsoft: NeitherAllow the use of optional connected experiences in Whiteboard: UncheckedEnable easy sharing of Whiteboard from Surface Hub: UncheckedEnable storing new whiteboards in OneDrive: Unchecked"},{"location":"as-built-as-configured/office-365/#security-and-privacy","title":"Security and privacy","text":"<p><code>Microsoft 365 admin center &gt; Org Settings &gt; Security &amp; privacy</code></p> <p>The following table describes the Microsoft 365 Security and Privacy settings for all implementation types.</p> Item Configuration \u200eBing\u200e data collection Disabled Customer lockbox Enabled Password expiration policy EnabledDays before passwords expire: 365Days before a user is notified about expiration: 14 Privacy profile Enabled (Organisation to define) Privileged access Enabled Sharing Disabled"},{"location":"as-built-as-configured/office-365/#exchange-online","title":"Exchange Online","text":"<p>The ABAC settings for the Agencies Exchange Online instance can be found below. This includes connectors, Mail Exchange (MX) records, SPF, DMARC, DKIM, Remote Domains, User mailbox configurations, Authentication Policies, Outlook on the Web policies, Mailbox Archiving, and Address lists</p> <p>Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting. </p>"},{"location":"as-built-as-configured/office-365/#connectors","title":"Connectors","text":""},{"location":"as-built-as-configured/office-365/#cloud-native-implementation-types","title":"Cloud-native implementation types","text":"<p>Cloud-native connector configuration assumes Office 365 is not configured with a 3rd party gateway for mail flow. </p> <p>Agencies that are required to route traffic through a 3rd party mail gateway will require connectors to be configured.</p> <p><code>Exchange Online admin center &gt; Mail flow &gt; Connectors</code></p> <p>The following table describes the Exchange Online inbound mail connectors for a Cloud-native implementation type.</p> Item Configuration Not configured N/A <p>The following table describes the Exchange Online outbound mail connectors for a Cloud-native implementation type.</p> Item Configuration Not configured N/A"},{"location":"as-built-as-configured/office-365/#hybrid-implementation-types","title":"Hybrid implementation types","text":"<p><code>Exchange Online admin center &gt; Mail flow &gt; Connectors</code></p> <p>The following table describes the Exchange Online inbound mail connectors for a Hybrid implementation type.</p> Item Configuration From Your Organization's email server To Office 365 Description None Status On Retain internal Exchange email headers (recommended) Enable How to identify your organization Identify the organization by verifying that messages are coming Inbound from xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx Security restrictions Reject messages if they aren\u2019t encrypted using Transport Layer Security \u200e(TLS)\u200e, or the subject name on the certificate that the organization uses to authenticate with Office 365 doesn\u2019t\u200e match this domain name: <code>*.Organisation.com.au</code> <p>The following table describes the Exchange Online outbound mail connectors for a Hybrid implementation type.</p> Item Configuration From Office 365 To Your Organization\u2019s email server Description None Status On Retain internal Exchange email headers (recommended) Enable How to identify your organization Identify the organization by verifying that messages are going outbound from xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx When to use the connector Only when email messages are sent to these domains: * Routing method Route email messages through these smart hosts: Organisation.com.au Security restrictions Always use Transport Layer Security \u200e(TLS)\u200e and connect only if the recipient\u2019s email server certificate is issued by a trusted certificate authority \u200e(CA)\u200e, and the subject name matches this domain: <code>mail.organisation.com.au</code>"},{"location":"as-built-as-configured/office-365/#mx-records","title":"MX records","text":"<p>MX records are not set within Azure or Exchange and have been configured with the hosting provider.</p> <p>Note, cloud-native MX configuration assumes Office 365 is not configured with a 3rd party gateway for mail flow. </p> <p>Agencies that are required to route traffic through a 3rd party mail gateway will point MX record to the 3rd party gateway.</p> <p>The following table describes the MX records that have been configured per implementation type.</p> Implementation Domain MX Preferences Mail Exchanger Cloud-native Organisation.com.au <code>10</code> <code>Organisation-com-au.mail.protection.outlook.com</code> Hybrid Organisation.com.au <code>10</code> <code>&lt;Organisation mx provider&gt;</code>"},{"location":"as-built-as-configured/office-365/#spf-and-dmarc-records","title":"SPF and DMARC records","text":"<p>Note, SPF and DMARC DNS records are configured through the organisation's DNS provider. DMARC and SPF configuration is unique to the organisation. The following configuration are included as examples.</p> <p>The following table describes the SPF records have been configured per implementation type.</p> Implementation Domain SPF Record DMARC Policy Cloud-native Organisation.com.au <code>\"v=spf1 include:spf.protection.outlook.com -all\"</code> <code>\"v=DMARC1; p=reject; pct=100; rua=mailto:&lt;rua reporting address&gt;; ruf=mailto:&lt;ruf reporting address&gt;; fo=1\"</code> Hybrid Organisation.com.au Specific to gateway provider <code>\"v=DMARC1; p=reject; pct=100; rua=mailto:&lt;rua reporting address&gt;; ruf=mailto:&lt;ruf reporting address&gt;; fo=1\"</code>"},{"location":"as-built-as-configured/office-365/#dkim-records","title":"DKIM records","text":"<p>Note, DKIM DNS selector records are configured through the organisation's DNS provider. Cloud-native configuration assumes DKIM signing is handled by Exchange Online Protection and not a third-party selector.</p> <p>The following table describes the DKIM records configuration settings per implementation type. </p> Implementation Type Domain Host name TTL Points to address or value Cloud-native CNAME Organisation.com.au <code>selector1._domainkey</code> <code>5 Min.</code> <code>selector1-Organisation-com-au._domainkey.&lt;Organisationinitialdomain&gt;.onmicrosoft.com.</code> Cloud-native CNAME Organisation.com.au <code>selector2._domainkey</code> <code>5 Min.</code> <code>selector2-Organisation-com-au._domainkey.&lt;Organisation&gt;.onmicrosoft.com.</code> Hybrid CNAME Organisation.com.au <code>&lt;gateway provided selector&gt;</code> <code>5 Min.</code> <code>&lt;gateway provided selector&gt;</code>"},{"location":"as-built-as-configured/office-365/#dns-records","title":"DNS records","text":"<p>Note, the Autodiscover service external DNS entry is specific to the Hybrid implementation of the organisation. Once all mailboxes have been migrated to Office 365 within a Hybrid configuration this can be pointed as an alias to the Office 365 Autodiscover service using <code>autodiscover.outlook.com</code>.</p> <p>Hybrid implementation types will require additional external DNS records depending on the hybrid implementation (classic or modern). The additional certificate requirements for hybrid can be located at - certificate requirements for hybrid deployments.</p> <p>The following table describes the DNS record settings for Organisation.com.au (default) per implementation type. </p> Implementation Type Priority Host name Points to address or value TTL Cloud-native MX <code>10</code> Organisation Domain <code>Organisation-com-au.mail.protection.outlook.com</code> 1 hour Hybrid MX <code>10</code> Organisation Domain Organisation mx provider address. 1 hour Hybrid CNAME - Organisation Edge Transport address Organisation edge transport gateway address. 1 hour Hybrid CNAME - Organisation CAS/EWS NAT address Organisation CAS/EWS NAT when using hybrid classic full. 1 hour All TXT - Organisation Domain Text string provided by Office 365 domain setup wizard. 1 hour Cloud-native CNAME - Autodiscover.Organisation.gov.au <code>autodiscover.outlook.com</code> 1 hour Hybrid CNAME - Autodiscover.Organisation.gov.au Organisation autodiscover NAT address. 1 hour"},{"location":"as-built-as-configured/office-365/#accepted-domains","title":"Accepted domains","text":"<p><code>Exchange Online admin centre &gt; Mail flow &gt; Accepted domains</code></p> <p>The following table describes the Accepted Domains settings for all implementation types.</p> Name Accepted Domain Domain Type Organisation.com.au (default) Organisation.com.au Authoritative Organisation.onmicrosoft.com Organisation.onmicrosoft.com Authoritative Organisation.mail.onmicrosoft.com Organisation.mail.onmicrosoft.com Authoritative"},{"location":"as-built-as-configured/office-365/#remote-domains","title":"Remote domains","text":"<p><code>Exchange Online admin centre &gt; Mail flow &gt; Remote domains</code></p> <p>Note, existing remote domains configuration for hybrid implementations can be transferred to Exchange Online during the hybrid wizard using the Organization configuration transfer option.</p> <p>The following table describes the Remote Domains have been configured for all implementation types.</p> Item Configuration Name Default Remote Domain * Allowed Out Of Office Type Allow only external out of office replies Allow automatic replies False Allow automatic forwarding False Allow delivery reports False Allow non-delivery reports False Allow meeting forward notifications False Use rich-text format Follow users settings MIME character set None Non-MIME character set None"},{"location":"as-built-as-configured/office-365/#organisational-add-ins","title":"Organisational add-ins","text":"<p><code>Exchange Online admin center &gt; Organization &gt; Add-ins</code></p> <p>No organisational add-ins have been configured.</p>"},{"location":"as-built-as-configured/office-365/#cas-mailbox-plan","title":"CAS mailbox plan","text":"<p>Please note, CAS mailbox plan can be retrieved (or set) through Exchange Online PowerShell. The policy objects are Exchange Online out of box policies, that require minimal edit.</p> <pre><code>Get-CASMailboxPlan | Format-Table -Auto DisplayName,ActiveSyncEnabled,ImapEnabled,PopEnabled,OwaMailboxPolicy\n</code></pre> <p>The following table describes the mailbox plans have been configured for all implementation types.</p> Item Configuration Name ExchangeOnlineEnterprise ActiveSyncMailboxPolicy -- ActiveSyncDebugLogging False ActiveSyncEnabled False ActiveSyncSuppressReadReceipt False DisplayName ExchangeOnlineEnterprise ECPEnabled True ImapEnabled False ImapUseProtocolDefaults True ImapMessagesRetrievalMimeFormat BestBodyFormat ImapEnableExactRFC822Size False ImapProtocolLoggingEnabled False ImapSuppressReadReceipt False ImapForceICalForCalendarRetrievalOption False MAPIEnabled True MapiHttpEnabled -- MAPIBlockOutlookNonCachedMode False MAPIBlockOutlookVersions -- MAPIBlockOutlookRpcHttp False PublicFolderClientAccess False MAPIBlockOutlookExternalConnectivity False OwaMailboxPolicy OwaMailboxPolicy-Default OWAEnabled True OWAforDevicesEnabled True PopEnabled False PopMessageDeleteEnabled True PopUseProtocolDefaults True PopMessagesRetrievalMimeFormat BestBodyFormat PopEnableExactRFC822Size False PopProtocolLoggingEnabled False PopSuppressReadReceipt False PopForceICalForCalendarRetrievalOption True RemotePowerShellEnabled True UniversalOutlookEnabled True OutlookMobileEnabled True MacOutlookEnabled True EwsEnabled True EwsAllowOutlook -- EwsAllowMacOutlook -- EwsAllowEntourage -- EwsApplicationAccessPolicy -- EwsAllowList -- EwsBlockList -- Item Configuration Name ExchangeOnlineDeskless ActiveSyncDebugLogging False ActiveSyncEnabled False ActiveSyncMailboxPolicy -- ActiveSyncSuppressReadReceipt False DisplayName ExchangeOnlineDeskless ECPEnabled True EwsAllowEntourage -- EwsAllowList -- EwsAllowMacOutlook -- EwsAllowOutlook -- EwsApplicationAccessPolicy -- EwsBlockList -- EwsEnabled False ImapEnabled False ImapEnableExactRFC822Size False ImapForceICalForCalendarRetrievalOption False ImapMessagesRetrievalMimeFormat BestBodyFormat ImapProtocolLoggingEnabled False ImapSuppressReadReceipt False ImapUseProtocolDefaults True MacOutlookEnabled True MAPIBlockOutlookExternalConnectivity False MAPIBlockOutlookNonCachedMode False MAPIBlockOutlookRpcHttp False MAPIBlockOutlookVersions -- MAPIEnabled False MapiHttpEnabled -- OutlookMobileEnabled True OWAEnabled True OWAforDevicesEnabled True OwaMailboxPolicy OwaMailboxPolicy-Default PopEnabled False PopEnableExactRFC822Size False PopForceICalForCalendarRetrievalOption True PopMessageDeleteEnabled True PopMessagesRetrievalMimeFormat BestBodyFormat PopProtocolLoggingEnabled False PopSuppressReadReceipt False PopUseProtocolDefaults True PublicFolderClientAccess False RemotePowerShellEnabled True UniversalOutlookEnabled True Item Configuration Name ExchangeOnlineEssentials ActiveSyncMailboxPolicy -- ActiveSyncDebugLogging False ActiveSyncEnabled False ActiveSyncSuppressReadReceipt False ECPEnabled True ImapEnabled False ImapUseProtocolDefaults True ImapMessagesRetrievalMimeFormat BestBodyFormat ImapEnableExactRFC822Size False ImapProtocolLoggingEnabled False ImapSuppressReadReceipt False ImapForceICalForCalendarRetrievalOption False MAPIEnabled True MapiHttpEnabled -- MAPIBlockOutlookNonCachedMode False MAPIBlockOutlookVersions -- MAPIBlockOutlookRpcHttp False PublicFolderClientAccess False MAPIBlockOutlookExternalConnectivity False OwaMailboxPolicy OwaMailboxPolicy-Default OWAEnabled True OWAforDevicesEnabled True PopEnabled False PopMessageDeleteEnabled True PopUseProtocolDefaults True PopMessagesRetrievalMimeFormat BestBodyFormat PopEnableExactRFC822Size False PopProtocolLoggingEnabled False PopSuppressReadReceipt False PopForceICalForCalendarRetrievalOption True RemotePowerShellEnabled True UniversalOutlookEnabled True OutlookMobileEnabled True MacOutlookEnabled True EwsEnabled True EwsAllowOutlook -- EwsAllowMacOutlook -- EwsAllowEntourage -- EwsApplicationAccessPolicy -- EwsAllowList -- EwsBlockList -- Item Configuration Name ExchangeOnline ActiveSyncMailboxPolicy -- ActiveSyncDebugLogging False ActiveSyncEnabled False ActiveSyncSuppressReadReceipt False ECPEnabled True ImapEnabled False ImapUseProtocolDefaults True ImapMessagesRetrievalMimeFormat BestBodyFormat ImapEnableExactRFC822Size False ImapProtocolLoggingEnabled False ImapSuppressReadReceipt False ImapForceICalForCalendarRetrievalOption False MAPIEnabled True MapiHttpEnabled -- MAPIBlockOutlookNonCachedMode False MAPIBlockOutlookVersions -- MAPIBlockOutlookRpcHttp False PublicFolderClientAccess False MAPIBlockOutlookExternalConnectivity False OwaMailboxPolicy OwaMailboxPolicy-Default OWAEnabled True OWAforDevicesEnabled True PopEnabled False PopMessageDeleteEnabled True PopUseProtocolDefaults True PopMessagesRetrievalMimeFormat BestBodyFormat PopEnableExactRFC822Size False PopProtocolLoggingEnabled False PopSuppressReadReceipt False PopForceICalForCalendarRetrievalOption True RemotePowerShellEnabled True UniversalOutlookEnabled True OutlookMobileEnabled True MacOutlookEnabled True EwsEnabled True EwsAllowOutlook -- EwsAllowMacOutlook -- EwsAllowEntourage -- EwsApplicationAccessPolicy -- EwsAllowList -- EwsBlockList --"},{"location":"as-built-as-configured/office-365/#mailbox-attributes","title":"Mailbox attributes","text":"<p>The following describes the Mailbox attribute that have been configured.</p> <p><code>Exchange Admin Center &gt; Recipients &gt; Mailboxes &gt; &lt;username&gt; &gt; mailbox features</code></p> <ul> <li>Litigation hold: <code>False</code> (configured as true only when required)</li> </ul> <p><code>Exchange Admin Center &gt; Recipients &gt; Mailboxes &gt; &lt;username&gt; &gt; mailbox usage</code></p> <ul> <li>Exchange Mailbox Size: <code>100GB per user</code></li> </ul> <p><code>Exchange Admin Center &gt; Recipients &gt; Mailboxes &gt; Set default message size restrictions</code></p> <ul> <li>Maximum size for sent messages (KB): <code>90MB</code></li> <li>Maximum size for received messages (KB): <code>90MB</code></li> </ul> <p><code>Exchange Admin Center &gt; Recipients &gt; Mailboxes &gt; &lt;username&gt; &gt; email address</code></p> <ul> <li>Custom Primary SMTP Addressing: <code>FirstName.LastName@&lt;Organisation&gt;.com.au</code></li> <li>Language: <code>English (en-au)</code></li> <li>Default Time Zone: <code>GMT +10 (AUS Eastern Standard Time)</code></li> <li>Exchange Online PowerShell</li> <li>Disabled for standard users: <code>True</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#authentication-policy","title":"Authentication policy","text":"<p>Please note, authentication policies can be retrieved (or set) through Exchange Online PowerShell. If the setting for block legacy authentication is in the Microsoft Admin portal, a policy named BlockBasic is created but it does not turn off all the basic authentication parameters.</p> <pre><code>Get-AuthenticationPolicy\n</code></pre> <p>To update the default <code>BlockBasic</code> policy, run the following PowerShell command.</p> <pre><code>Set-AuthenticationPolicy -Identity \"BlockBasic&lt;number&gt;\" -AllowBasicAuthOutlookService:$false -AllowBasicAuthReportingWebServices:$false\n</code></pre> <p>If a new custom policy is created that blocks the specific parameters, then it can be set as a default for the whole organisation using the following PowerShell command.</p> <pre><code>Set-OrganizationConfig -DefaultAuthenticationPolicy \"Organisation Authentication Policy\"\n</code></pre> <p>The following table describes the Authentication Policy configuration settings for all implementation types.</p> Item Configuration Name Organisation Authentication Policy Allow Basic Authentication ActiveSync False Allow Basic Authentication Autodiscover False Allow Basic Authentication IMAP False Allow Basic Authentication MAPI False Allow Basic Authentication Offline AddressBook False Allow Basic Authentication Outlook Service False Allow Basic Authentication POP False Allow Basic Authentication Reporting Web Services False Allow Basic Authentication Rest False Allow Basic Authentication RPC False Allow Basic Authentication SMTP False Allow Basic Authentication Web Services False Allow Basic Authentication PowerShell False"},{"location":"as-built-as-configured/office-365/#outlook-web-access-policy","title":"Outlook Web Access policy","text":"<p>Please note, Outlook Web Access policies can be retrieved (or set) through Exchange Online PowerShell. The policy object is Exchange Online out of box policy, that requires minimal edit.</p> <pre><code>Get-OwaMailboxPolicy -identity OwaMailboxPolicy-Default\n</code></pre> <p>The following table describes the Outlook Web Access Policy configuration settings for all implementation types.</p> Item Configuration Name OwaMailboxPolicy-Default Wac Editing Enabled True Print Without Download Enabled True OneDrive Attachments Enabled True Additional Storage Providers Available False Classic Attachments Enabled True Reference Attachments Enabled True Save Attachments to Cloud Enabled True External Image Proxy Enabled False Nps Surveys Enabled False Message Previews Disabled False Personal Account Calendars Enabled False Teamsnap Calendars Enabled False Bookings Mailbox Creation Enabled True Project Moca Enabled False Direct File Access On Public Computers Enabled False Direct File Access On Private Computers Enabled True Wac Viewing On Public Computers Enabled True Wac Viewing On Private Computers Enabled True Force Wac Viewing First On Public Computers False Force Wac Viewing First On Private Computers False Action For Unknown File And MIME Types Allow Feedback Enabled False Phonetic Support Enabled False Default Client Language 0 Use GB18030 False Use ISO885915 False Outbound Charset AutoDetect Global Address List Enabled True Organization Enabled True Explicit Logon Enabled True OWA Light Enabled True Delegate Access Enabled True IRM Enabled True Calendar Enabled True Contacts Enabled True Tasks Enabled True Journal Enabled False Notes Enabled True On Send Addins Enabled True Reminders And Notifications Enabled True Premium Client Enabled True Spell Checker Enabled True Classic Attachments Enabled True Search Folders Enabled True Signatures Enabled True Theme Selection Enabled True UM Integration Enabled True WSS Access On Public Computers Enabled True WSS Access On Private Computers Enabled True Change Password Enabled True ActiveSync Integration Enabled False All Address Lists Enabled True Rules Enabled True Public Folders Enabled False Recover Deleted Items Enabled True Instant Messaging Enabled True Text Messaging Enabled True Force Save Attachment Filtering Enabled False Silverlight Enabled True Instant Messaging Type None Display Photos Enabled True Set Photo Enabled True Places Enabled False Weather Enabled True Local Events Enabled False Interesting Calendars Enabled False Allow Copy Contacts To Device Address Book True Predicted Actions Enabled False User Diagnostic Enabled False Facebook Enabled False LinkedIn Enabled False Wac External Services Enabled True Wac OMEX Enabled False Report Junk Email Enabled True Group Creation Enabled False Skip Create Unified Group Custom SharePoint Classification True User Voice Enabled False Satisfaction Enabled False Outlook Beta Toggle Enabled False"},{"location":"as-built-as-configured/office-365/#mailbox-archive","title":"Mailbox archive","text":"<p>For Hybrid implementation types, the Archive is configured using the On-Premises Exchange Administrator Console or PowerShell.</p> <p><code>Exchange Admin Center &gt; recipients &gt; mailboxes &gt; &lt;username&gt; &gt; mailbox features</code></p> <pre><code>Enable-RemoteMailbox -Identity \"Jane Smith\" -Archive\n</code></pre> <p>For Cloud-native implementation types, the Archive is configured using the Exchange Online Admin Center or Exchange Online PowerShell.</p> <p><code>Exchange Online Admin Center &gt; recipients &gt; mailboxes &gt; &lt;username&gt; &gt; mailbox features</code></p> <pre><code>Enable-Mailbox \"Jane Smith\" -Archive\n</code></pre> <p>The following table describes the mailbox archive settings for all implementation types.</p> Item Configuration Archiving Enabled Auto-Expanding Archive (via PowerShell command in Exchange Online) Enabled Archive Configuration Configured <p>The following PowerShell command enables the Auto Expanding Archive using the Exchange Online module.</p> <pre><code>Set-OrganizationConfig -AutoExpandingArchive\n</code></pre>"},{"location":"as-built-as-configured/office-365/#mailbox-auditing","title":"Mailbox auditing","text":"<p>User Mailbox and Shared Mailbox audit actions are set using the global defaults, this avoids having a per mailbox audit configuration. For more information on each audit type in Exchange Online and additional per-mailbox configuration options, see Manage mailbox auditing.</p> <p>Mailbox auditing settings can be set and retrieved using Exchange Online PowerShell.</p> <pre><code>Set-OrganizationConfig -AuditDisabled $true\n</code></pre> <p>The following table describes the mailbox archive settings for all implementation types. </p> Item Configuration Mailbox Auditing Enabled for organisation by default Centralized Logging Not configuredE5 subscriptions log search is via the Microsoft 365 Purview."},{"location":"as-built-as-configured/office-365/#mail-flow-rules","title":"Mail flow rules","text":"<p>The following mail flow rules have been configured for all implementation types.</p> <p><code>Exchange Online Admin Centre &gt; Mail flow &gt; Rules</code></p>"},{"location":"as-built-as-configured/office-365/#outgoing-x-protective-marker-multiple-rules","title":"Outgoing X-Protective-Marker (multiple rules)","text":"<p>Note 1, the <code>x-protective-marking</code> rules listed here are not exhaustive and are an example that can be used for each classification used within the Organisation.</p> <p>Note 2, as of February 2022 the ability to add the <code>ORIGIN=user@organisation.com.au</code> parameter is not possible using a transport rule. If the Organisation has the ability to transform mail messages using a gateway appliance then this is the current recommended approach for updating header values.</p> <p>To find the <code>MSIP_Label</code> \"guid\" IDs for each sensitivity label use the Security &amp; Compliance Center PowerShell Modules.</p> <pre><code>Connect-IPPSSession -UserPrincipalName &lt;admin&gt;@&lt;organisation&gt;.onmicrosoft.com\n\nGet-label | where{$_.Name -eq \"U\"} |select name,guid\n</code></pre> <ul> <li>If the message header includes:  <code>msip_labels</code> header contains <code>MSIP_Label_XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX_Enabled=true</code></li> <li>Take the following actions: Set the message header with this value: <code>X-Protective-Marking</code> to the value <code>VER=2018.4, NS=gov.au, SEC=&lt;CLASSIFICATION&gt;, CAVEAT=&lt;CAVEAT&gt;, ACCESS=&lt;IMM&gt;</code></li> <li>HeaderContainsMessageHeader: <code>msip_labels</code></li> <li>HeaderContainsWords: <code>MSIP_Label_XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX_Enabled=true</code></li> <li>Mode: <code>Enforce</code></li> <li>Name: <code>Outgoing X-Protective-Marker &lt;Classification&gt;</code></li> <li>Priority: <code>0</code></li> <li>State: <code>Enabled</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#apply-disclaimer","title":"Apply Disclaimer","text":"<p>Note, the disclaimer text is provided as an example only and is typically unique across Agencies.</p> <ul> <li>Apply this rule if: The recipient is located <code>Outside the organization</code></li> <li>Do the following actions: Append the message with the disclaimer   <pre><code>'&lt;br&gt;\n&lt;br&gt;\n&lt;p style=\"font-size:8pt; line-height:10pt; font-family: 'Cambria','times roman',serif;\"&gt;The content of this email is confidential and intended for the recipient specified in message only. It is strictly forbidden to share any part of this message with any third party, without a written consent of the sender. If you received this message by mistake, please reply to this message and follow with its deletion, so that we can ensure such a mistake does not occur in the future.&lt;/p&gt;'. \n</code></pre></li> <li>If the disclaimer can't be applied, reject the message.</li> <li>ExceptIfSubjectMatchesPatterns: -</li> <li>FromScope: -</li> <li>HeaderContainsMessageHeader: -</li> <li>HeaderContainsWords: -</li> <li>Mode: <code>Enforce</code></li> <li>Name: <code>Disclaimer</code></li> <li>PrependSubject: -</li> <li>Priority: <code>1</code></li> <li>SentToScope: <code>NotInOrganization</code></li> <li>State: <code>Enabled</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#journaling","title":"Journaling","text":"<p><code>Exchange Online Admin Centre (Classic) &gt; compliance management &gt; journal rules</code> is not configured for all implementation types.</p>"},{"location":"as-built-as-configured/office-365/#mailbox-retention","title":"Mailbox retention","text":"<p>Existing retention configuration for hybrid implementations can be transferred to Exchange Online during the hybrid wizard using the Organization configuration transfer option.</p> <p><code>Exchange Online Admin Centre (Classic)&gt; compliance management &gt; retention polices</code></p> <p>The following table describes the Mailbox Retention settings within the \"Default MRM Policy\" for all implementation types.</p> Name Type Retention Period Retention Action Never Delete Personal Unlimited DeleteAndAllowRecovery Recoverable Items 14 days move to archive Recoverable items 14 days Archive Junk Email JunkEmail 30 days DeleteAndAllowRecovery Deleted Items DeletedItems 30 days DeleteAndAllowRecovery Default 2 year move to archive All 730 days Archive Personal 1 year move to archive Personal 365 days Archive Personal never move to archive Personal Unlimited Archive 1 Week Delete Personal 7 days DeleteAndAllowRecovery 1 Month Delete Personal 30 days DeleteAndAllowRecovery Personal 5 year move to archive Personal 1825 days Archive 6 Month Delete Personal 180 days DeleteAndAllowRecovery 1 Year Delete Personal 365 days DeleteAndAllowRecovery 5 Year Delete Personal 1825 days DeleteAndAllowRecovery"},{"location":"as-built-as-configured/office-365/#shared-mailboxes-and-resource-mailboxes","title":"Shared mailboxes and resource mailboxes","text":"<p><code>Exchange Online Admin Centre &gt; Recipients &gt; Groups</code></p> <ul> <li>Display name: <code>grp-&lt;organisation Acronym&gt;O365-Outlook</code></li> <li>Group email address: <code>grp-&lt;Organisation Acronym&gt;0365-outlook@&lt;organisation&gt;.com.au</code></li> <li>Privacy: <code>Private \u2013 Only members can see content</code></li> <li>Language: <code>English (Australia)</code></li> <li>Subscribe new members: <code>Enabled</code></li> <li>Let people outside the organization send email to the group: <code>Disabled</code></li> <li>Owners: <code>&lt;Organisation Owner&gt; (Admin)</code></li> <li>Members: <code>&lt;Organisation Owner&gt; (Admin)</code></li> <li>Delivery Management<ul> <li>Accept messages from: <code>All senders</code></li> <li>Reject message from: <code>No senders</code></li> </ul> </li> <li>Group Delegation<ul> <li>Send As: <code>None</code></li> <li>Send on Behalf: <code>None</code></li> </ul> </li> <li>Display name: <code>Grp-&lt;organisation Acronym&gt;O365-Teams</code></li> <li>Group email address: <code>Grp-&lt;organisation Acronym&gt;0365-Teams@&lt;organisation&gt;.com.au</code></li> <li>Privacy: <code>Private \u2013 Only members can see content</code></li> <li>Language: <code>English (Australia)</code></li> <li>Subscribe new members: <code>Disabled</code></li> <li>Let people outside the organization send email to the group: <code>Disabled</code></li> <li>Owners: <code>&lt;Organisation Owner&gt; (Admin)</code></li> <li>Members: <code>&lt;Organisation Owner&gt; (Admin)</code></li> <li>Delivery Management<ul> <li>Accept messages from: <code>All senders</code></li> <li>Reject message from: <code>No senders</code></li> </ul> </li> <li>Group Delegation<ul> <li>Send As: <code>None</code></li> <li>Send on Behalf: `None</li> </ul> </li> </ul>"},{"location":"as-built-as-configured/office-365/#address-lists","title":"Address lists","text":"<p>Existing address list configuration for hybrid implementations can be transferred to Exchange Online during the hybrid wizard using the Organization configuration transfer option.</p> <p>Please note, address lists can be retrieved (or set) through Exchange Online PowerShell. The 'Address Lists' role within Exchange Online is required, for the account used to view or update Address lists.</p> <pre><code>Get-AddressList -identity 'Address List Name'\n</code></pre> <p>The following table describes the Address List configuration settings for all implementation types. </p> Item Configuration All Contacts <code>((Alias -ne $null) -and (((ObjectCategory -like 'person') -and (ObjectClass -eq 'contact'))))</code> All Distribution Lists <code>((Alias -ne $null) -and (ObjectCategory -like 'group'))</code> All Rooms <code>((Alias -ne $null) -and (((RecipientDisplayType -eq 'ConferenceRoomMailbox') -or (RecipientDisplayType -eq 'SyncedConferenceRoomMailbox'))))</code> All Users <code>((Alias -ne $null) -and (((((((ObjectCategory -like 'person') -and (ObjectClass -eq 'user') -and (-not(Database -ne $null)) -and (-not(ServerLegacyDN -ne $null)))) -or (((ObjectCategory -like 'person') -and (ObjectClass -eq 'user') -and (((Database -ne $null) -or (ServerLegacyDN -ne $null))))))) -and (-not(RecipientTypeDetailsValue -eq 'GroupMailbox')))))</code> All Groups <code>((Alias -ne $null) -and (RecipientTypeDetailsValue -eq 'GroupMailbox'))</code> Public Folders <code>((Alias -ne $null) -and (ObjectCategory -like 'publicFolder'))</code> Offline Global Address List <code>((Alias -ne $null) -and (((((((((((ObjectClass -eq 'user') -or (ObjectClass -eq 'contact'))) -or (ObjectClass -eq 'msExchSystemMailbox'))) -or (ObjectClass -eq 'msExchDynamicDistributionList'))) -or (ObjectClass -eq 'group'))) -or (ObjectClass -eq 'publicFolder'))))</code>"},{"location":"as-built-as-configured/office-365/#distribution-lists","title":"Distribution lists","text":"<p><code>Exchange Online Admin Centre &gt; recipients &gt; groups &gt; &lt;three dots&gt; &gt; Configure group naming policy</code></p> <ul> <li>Group Naming Policy: <code>&lt;as per organisation group naming standard&gt;</code></li> <li>Blocked words: <code>None</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#exchange-online-protection","title":"Exchange Online Protection","text":"<p>The ABAC settings for the organisation Exchange Online Protection instance can be found below. This includes the Connection Filtering, Anti-Malware, Policy Filtering, and Content Filtering configuration. Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/office-365/#anti-spam","title":"Anti-spam","text":"<p><code>Microsoft 365 security &gt; Policies &amp; rules &gt; Threat policies &gt; Anti-spam</code></p> <p>The following table describes the Connection filter policy configuration settings for per implementation type.</p> Implementation Name IP Allow List IP Block List Enable Safe List Directory Based Edge Block Mode Cloud-native Connection filter policy (Default) True Default Hybird Connection filter policy (Default) <code>&lt;organisation smtp gateway IP adddresses for skip listing&gt;</code> True Default <p>The following tables describe the Anti-spam policies for all implementation types.</p> Item Configuration Name Anti-spam inbound policy (Default) Bulk email spam action 6 Increase spam score Image links to remote websites: OnNumeric IP address in URL: OnURL redirect to other port: OnLinks to .biz or .info websites: On Mark as spam Empty messages: OnEmbedded tags in HTML: OffJavaScript or VBScript in HTML: OnForm tags in HTML: OffFrame or iframe tags in HTML: OffWeb bugs in HTML: OnObject tags in HTML: OnSensitive words: OnSPF record hard fail: OnSender ID filtering hard fail: OnBackscatter: On Spam Move message to Junk email folder High confidence spam Quarantine message Phishing Quarantine message Bulk Move message to Junk email folder Retain spam in quarantine for this many days 15 Enable spam safety tips Checked Enable zero-hour auto purge (ZAP) Checked Enable for phishing messages Checked Enable for spam messages Checked Enable end-user spam notifications Checked Send end-user spam notifications every (days) 3 Item Configuration Name Anti-spam outbound policy (Default) Set an external message limit 0 Set an internal message limit 0 Set a daily message limit 0 Restriction placed on users who reach the message limit Restrict the user from sending mail until the following day Automatic forwarding rules Automatic - System-controlled Notifications Unchecked"},{"location":"as-built-as-configured/office-365/#anti-malware","title":"Anti-malware","text":"<p><code>Microsoft 365 security &gt; Policies &amp; rules &gt; Threat policies &gt; Anti-malware</code></p> <p>The following table describes the Malware Filter configuration settings for all implementation types.</p> Item Configuration Name Default (Default) Enable the common attachments filter Checked Filter file types ace,ani,app,exe,jar,reg,scr,vbe,vbs Enable zero-hour auto purge for malware Checked Admin notifications (internal senders) Checked Admin notifications (external senders) Checked Admin email address Organisation defined"},{"location":"as-built-as-configured/office-365/#microsoft-teams","title":"Microsoft Teams","text":"<p>The ABAC settings for Microsoft Teams can be found below for all implementation types. This includes the Client Configuration, Channels Policy, Calling Policy, Meetings Policy, Messaging Policy, and Guest Meeting/Calling/Messaging configuration.</p> <p>Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/office-365/#client-configuration","title":"Client configuration","text":"<p><code>Microsoft Teams admin center &gt; Teams &gt; Teams settings</code></p> <p>The following table describes the Teams configuration settings for all implementation types.</p> Item Configuration Suggested feeds can appear in a user's activity feed On Tags are managed by Team Owners Let team owners override who can manage tags On Let custom tags to be created On Allow Shifts app to apply tags On Allow users to send emails to a channel email address On Accept channel email from these SMTP domains Organisation defined Citrix files Off DropBox Off Box Off Google Drive Off Egnyte Off Show Organization tab in chats On Require a secondary form of authentication to access meeting content No access Set Content PIN Required for outside scheduled meeting Surface Hub accounts can send mails On Scope directory search using an Exchange address book policy On Role-base chat permissions Off"},{"location":"as-built-as-configured/office-365/#teams-policy","title":"Teams policy","text":"<p><code>Microsoft Teams admin center &gt; Teams &gt; Teams policies</code></p> <p>The following table describes the Teams policy configuration settings for all implementation types.</p> Item Configuration Name Global (Org-wide default) Description Not configured Create private channels True"},{"location":"as-built-as-configured/office-365/#teams-apps","title":"Teams apps","text":"<p><code>Microsoft Teams admin center &gt; Teams apps &gt; Permission policies</code></p> <p>The following table describes the Teams apps configuration settings for all implementation types.</p> Item Configuration Name Global (Org-wide default) Description Not configured Microsoft apps Allow all apps Third-party apps Block all apps Custom apps Block all apps"},{"location":"as-built-as-configured/office-365/#calling-policy","title":"Calling policy","text":"<p><code>Microsoft Teams admin center &gt; Voice &gt; Calling policies</code></p> <p>The following tables describes the Teams Calling policy configuration settings for all implementation types.</p> <p>Note, policies that are not configurable are not included below.</p> Item Configuration Name Global Description Not Configured Make private calls On Cloud recording for calling Off Call forwarding and simultaneous ringing to people in your organization On Call forwarding and simultaneous ringing to external phone numbers Off Voicemail is available for routing inbound calls Enabled Inbound calls can be routed to call groups On Delegation for inbound and outbound calls On Prevent toll bypass and send calls through the PSTN Off Music on hold for PSTN callers Enabled Busy on busy when in a call Enabled Web PSTN calling Off Real-time captions in Teams calls On Automatically answer incoming meeting invites Off SIP devices can be used to perform calling Off"},{"location":"as-built-as-configured/office-365/#meeting-policy","title":"Meeting policy","text":"<p><code>Microsoft Teams Admin center &gt; Meetings &gt; Meeting policies</code></p> <p>The following table describes the Teams Meeting policy configuration settings for all implementation types.</p> <p>Note, policies that are not configurable are not included below.</p> Item Configuration Name Global Description Not Configured Meet now in channels On Outlook add-in On Channel meeting scheduling On Private meeting scheduling On Engagement report Enabled Meeting registration On Who can register Everyone Mode for IP audio Outgoing and incoming audio enabled Mode for IP video Outgoing and incoming video enabled IP video On Local broadcasting Off Media bit rate (Kbs) 50000 Network configuration lookup Off Transcription Off Cloud recording On Meetings automatically expire On Default expiration time 60 Store recordings outside of your country or region Off Screen sharing mode Entire screen Allow a participant to give or request control On Allow an external participant to give or request control Off PowerPoint sharing On Whiteboard On Shared notes On Select video filters All filters Let anonymous people join a meeting Off Let anonymous people start a meeting Off Roles that have presenter rights in meetings Everyone, but user can override Automatically admit people People in my organization Allow dial-in users to bypass the lobby Off Meet now in private meetings On Live captions Not enabled but the user can override Chat in meetings Enabled"},{"location":"as-built-as-configured/office-365/#messaging-policy","title":"Messaging policy","text":"<p><code>Microsoft Teams Admin center &gt; Messaging policies</code></p> <p>The following table describes the Teams Messaging policy configuration settings for all implementation types.</p> Item Configuration Name Global Description Global Teams Messaging Policy Owners can delete sent messages On Delete sent messages On Edit sent messages On Read receipts User controlled Chat On Giphy in conversations Off Memes in conversations Off Stickers in conversations Off URL previews On Translate messages Off Immersive reader for messages On Send urgent messages using priority notifications On Create voice messages Allowed in chats and channels On mobile devices, display favorite channels above recent chats Not enabled Remove users from group chats On Suggested replies Off Chat permission role Restricted permissions Users with full chat permissions can delete any message Off"},{"location":"as-built-as-configured/office-365/#live-events-policies","title":"Live events policies","text":"<p><code>Microsoft Teams admin center &gt; Meetings &gt; Live events policies</code></p> <p>The following table describes the Teams Live events policy configuration settings for all implementation types.</p> Item Configuration Name Global (Org-wide default) Live events scheduling On Transcription for attendees Off Who can join scheduled live events Everyone in the organization Who can record an event Always record"},{"location":"as-built-as-configured/office-365/#external-access-settings","title":"External access settings","text":"<p><code>Microsoft Teams admin center &gt; Users &gt; External access</code></p> <p>The following table describes the External access configuration settings for all implementation types.</p> Item Configuration Teams and Skype for Business users in external organizations Allow only specific external domains Add a domain (Allowed domains) Organisation allowed list of domains Allow users in my organization to communicate with Skype users. On"},{"location":"as-built-as-configured/office-365/#guest-access-settings","title":"Guest access settings","text":"<p><code>Microsoft Teams Admin center &gt; Org-wide settings &gt; Guest access</code></p> <p>The following table describes the External access configuration settings for all implementation types.</p> Item Configuration Allow guest access in Teams On Make private calls On IP video On Screen sharing mode Entire screen Meet Now On Edit sent messages On Delete sent messages On Chat On Giphy in conversations Off Memes in conversations Off Stickers in conversations Off Immersive reader for messages On"},{"location":"as-built-as-configured/office-365/#sharepoint-online-onedrive","title":"SharePoint Online &amp; OneDrive","text":"<p>The ABAC settings for the organisation SharePoint Online and OneDrive instances can be found below for all implementation types. This includes the Sharing configuration, Access Control and SharePoint &amp; OneDrive settings. Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/office-365/#sharing","title":"Sharing","text":"<p><code>SharePoint admin center &gt; Policies &gt; Sharing &gt; External Sharing</code></p> <ul> <li>Content can be shared with:   <pre><code>SharePoint: New and existing guests\nOneDrive: Only people in your organization\n</code></pre></li> <li>Limit external sharing by domain:   <pre><code>&lt;organisation&gt;.com.au\n&lt;other trusted Agencies&gt;\n</code></pre></li> <li>Allow only users in specific security groups to share externally: <code>False</code></li> <li>Guests must sign in using the same account to which sharing invitations are sent: <code>True</code></li> <li>Allow guests to share items they don\u2019t own: <code>False</code></li> <li>Guest access to a site or OneDrive will expire automatically after this many minutes: <code>Not configured</code></li> <li>People who use a verification code must reauthenticate after this many days: <code>Not configured</code></li> </ul> <p><code>SharePoint admin center &gt; Policies &gt; Sharing &gt; File and Folder links</code></p> <ul> <li>Default link type: <code>Specific people (only the people the user specifies)</code></li> <li>Default link permission : <code>Edit</code></li> </ul> <p><code>SharePoint admin center &gt; Policies &gt; Sharing &gt; Other settings</code></p> <ul> <li>Show owners the names of people who viewed their files in OneDrive: <code>True</code></li> <li>Let site owners choose to display the names of people who viewed files or pages in SharePoint: <code>True</code></li> <li>Use short links for sharing files and folders : <code>True</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#access-control","title":"Access control","text":"<p><code>SharePoint admin center &gt; Policies &gt; Access control &gt; Unmanaged devices</code></p> <ul> <li>Allow access from unmanaged devices: <code>Allow full access from desktop apps, mobile apps, and the web</code></li> </ul> <p>Note, restrictions for unmanaged devices are defined by Conditional Access policies as described in the Platform ABAC.</p> <p><code>SharePoint admin center &gt; Policies &gt; Access control &gt; Idle session sign-out</code></p> <ul> <li>Sign out inactive users automatically: <code>On</code></li> <li>Sign out users after:: <code>1 hours</code></li> <li>Give users this much notice before signing them out: <code>5 minutes</code></li> </ul> <p><code>SharePoint admin center &gt; Policies &gt; Access control &gt; Network location</code></p> <ul> <li>Allow access only from specific IP address ranges: <code>Off</code></li> </ul> <p><code>SharePoint admin center &gt; Policies &gt; Access control &gt; Apps that don\u2019t use modern authentication</code></p> <ul> <li>Allow or block access from applications that don\u2019t user modern authentication: <code>Block access</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#sharepoint-settings","title":"SharePoint settings","text":"<p><code>SharePoint admin center &gt; Settings &gt; SharePoint &gt; Default admin center</code></p> <ul> <li>Default admin center: <code>New SharePoint admin center</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; SharePoint &gt; Notifications</code></p> <ul> <li>Allow notifications: <code>True</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; SharePoint &gt; Pages</code></p> <ul> <li>Allow users to create new modern pages: <code>True</code></li> <li>Allow commenting on modern pages : <code>True</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; SharePoint &gt; Site creation</code></p> <ul> <li>Let users create sites from the SharePoint start page and OneDrive: <code>False</code></li> <li>Create team sites under: <code>/sites/</code></li> <li>Default time zone : <code>(UTC+10:00) Canberra, Melbourne, Sydney</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; SharePoint &gt; Site storage limits</code></p> <ul> <li>Site storage limits: <code>Automatic</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#onedrive-settings","title":"OneDrive settings","text":"<p><code>SharePoint admin center &gt; Settings &gt; OneDrive &gt; Notifications</code></p> <ul> <li>Allow notifications: <code>True</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; OneDrive &gt; Retention</code></p> <ul> <li>Days to retain a deleted user's OneDrive: <code>365</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; OneDrive &gt; Default storage limit</code></p> <ul> <li>Default storage limit : <code>1024 GB</code></li> </ul> <p><code>SharePoint admin center &gt; Settings &gt; OneDrive &gt; Sync</code></p> <ul> <li>Show the Sync button on the OneDrive website: <code>True</code></li> <li>Allow syncing only on computers joined to specific domains: <code>False</code></li> <li>Block upload of specific file types: <code>False</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#security-and-compliance","title":"Security and compliance","text":"<p>The ABAC settings for the organisation Office 365 Security and Compliance instance can be found below. This includes the Alerts, Labels, Data Loss Prevention, Retention Policies, Audit Logging, and Customer Key configuration. Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/office-365/#audit-logging","title":"Audit logging","text":"<p><code>Microsoft 365 compliance &gt; Audit &gt; Audit retention policies</code></p> <ul> <li>Enabled: <code>True</code></li> <li>Policy name: <code>10 year audit log</code></li> <li>Policy description: <code>Retains all audit log records for 10 years</code></li> <li>Record Type: <code>All</code></li> <li>Duration: <code>10 years</code></li> <li>Priority: <code>1</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#retention-policies","title":"Retention policies","text":"<p>Note, retention policies should not be used in place of an adequate backup solution.</p> <p><code>Microsoft 365 compliance &gt; Information governance &gt; Labels</code></p> <p>The following table describes the Retention labels configuration settings for all implementation types.</p> Item Configuration Name Teams Channel messages Indefinite Hold Status On Policy Name Teams Channel Message Indefinite Hold Description Teams Channel Message Indefinite Hold Applies to content in these locations Teams channel messages Retention period Keep content forever Turn on preservation lock No Name Microsoft 365 groups Indefinite Hold Status On Policy Name Office 365 Group Indefinite Hold Description Office 365 Group Indefinite Hold Applies to content in these locations Microsoft 365 groups \u2013 All Groups Retention period Keep content forever Turn on preservation lock No Name Exchange Indefinite Hold Status On Policy Name Exchange Indefinite Hold Description Exchange Indefinite Hold Applies to content in these locations Exchange email \u2013 All users includedExchange Public Folders Retention period Keep content forever Turn on preservation lock No Name Teams chats Indefinite Hold Status On Policy Name Teams chats Indefinite Hold Description Teams chats Indefinite Hold Applies to content in these locations Teams chats messages \u2013 All users included Retention period Keep content forever Turn on preservation lock No Name OneDrive Indefinite Hold Status On Policy Name OneDrive Indefinite Hold Description OneDrive Indefinite Hold Applies to content in these locations OneDrive accounts - All Retention period Keep content forever Turn on preservation lock No Name SharePoint Indefinite Hold Status On Policy Name SharePoint Indefinite Hold Description SharePoint Indefinite Hold Applies to content in these locations SharePoint Sites \u2013 All Sites Retention period Keep content forever Turn on preservation lock No"},{"location":"as-built-as-configured/office-365/#retention-labels","title":"Retention labels","text":"<p><code>Microsoft 365 compliance &gt; Information governance &gt; Labels</code></p> <p>Not configured.</p>"},{"location":"as-built-as-configured/office-365/#sensitivity-labels","title":"Sensitivity labels","text":"<p><code>Microsoft 365 compliance &gt; Information protection &gt; Labels</code></p> <p>The following tables describe the sensitivity label configuration settings for all implementation types. Only create and publish labels that are required for the organisation.</p> <p>The sensitivity labels in this ABAC can be deployed through M365DSC automation. The process can be found within the automation guide. </p> <p>Note, labels OFFICIAL Sensitive and PROTECTED have a number of sub-labels to cater for DLMs in the PSPF. Both main labels will be presented as a group object but are not selectable as a user at the top level. They will also appear as a sub-label that is selectable under the group. This ensures that the sensitivity label selection is easier when dealing with a large number of DLM combinations. The following figure is an example of the configuration panel in the Microsoft 365 compliance portal.</p> <p></p>"},{"location":"as-built-as-configured/office-365/#unofficial","title":"UNOFFICIAL","text":"<p>The following table lists the sensitivity label configuration for UNOFFICIAL.</p> Item Configuration Name U Display Name UNOFFICIAL Description for users No damage. This information does not form part of official duty. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: UNOFFICIALFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: UNOFFICIALFont site: 12Font color: RedAlign text: Center Sub Label of N/A"},{"location":"as-built-as-configured/office-365/#official","title":"OFFICIAL","text":"<p>The following table lists the sensitivity label configuration for OFFICIAL.</p> Item Configuration Name OFFICIAL Display Name OFFICIAL Description for users No or insignificant damage. This is the majority of routine information. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIALFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIALFont site: 12Font color: RedAlign text: Center Sub Label of N/A"},{"location":"as-built-as-configured/office-365/#official-sensitive-group","title":"OFFICIAL: Sensitive (Group)","text":"<p>The following table lists the sensitivity label configuration for OFFICIAL Sensitive. This top-level object forms the grouping that all OFFICIAL Sensitive labels are a sub label for.</p> Item Configuration Name OS group Display Name OFFICIAL Sensitive Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: SensitiveFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: SensitiveFont site: 12Font color: RedAlign text: Center Sub Label of N/A"},{"location":"as-built-as-configured/office-365/#official-sensitive","title":"OFFICIAL: Sensitive","text":"<p>The following table lists the sensitivity label configuration for OFFICIAL Sensitive.</p> Item Configuration Name OS Display Name OFFICIAL Sensitive Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: SensitiveFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: SensitiveFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//Legal-Privilege.</p> Item Configuration Name OS LP Display Name Legal-Privilege Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//Legal-PrivilegeFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive // Legal-PrivilegeFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//Legislative-Secrecy</p> Item Configuration Name OS LS Display Name Legislative Secrecy Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//Legislative-SecrecyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive//Legislative-SecrecyFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//Personal-Privacy.</p> Item Configuration Name OS PP Display Name Personal-Privacy Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//Personal-PrivacyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive //Personal-PrivacyFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//NATIONAL CABINET.</p> Item Configuration Name OS NC Display Name NATIONAL CABINET Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINETFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINETFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//NATIONAL CABINET//Legal-Privilege.</p> Item Configuration Name OS NC LP Display Name NATIONAL CABINET - Legal-Privilege Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINET//Legal-PrivilegeFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINET//Legal-PrivilegeFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//NATIONAL CABINET//Legislative-Secrecy.</p> Item Configuration Name OS NC LS Display Name NATIONAL CABINET - Legislative-Secrecy Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINET//Legislative-SecrecyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINET//Legislative-SecrecyFont site: 12Font color: RedAlign text: Center Sub Label of OS group <p>The following table lists the sensitivity sub label configuration for OFFICIAL: Sensitive//NATIONAL CABINET//Personal-Privacy.</p> Item Configuration Name NATIONAL CABINET - Personal-Privacy Description for users Low to medium business impact. Limited damage to an individual, organisation or government generally if compromised Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINET//Personal-PrivacyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: OFFICIAL: Sensitive//NATIONAL CABINET//Personal-PrivacyFont site: 12Font color: RedAlign text: Center Sub Label of OS group"},{"location":"as-built-as-configured/office-365/#protected-group","title":"PROTECTED (Group)","text":"<p>The following table lists the sensitivity label configuration for PROTECTED. This top-level object forms the grouping that all PROTECTED labels are a sub label for.</p> Item Configuration Name P group Display Name PROTECTED Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTEDFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTEDFont site: 12Font color: RedAlign text: Center Sub Label of N/A <p>The following table lists the sensitivity label configuration for PROTECTED.</p> Item Configuration Name P Display Name PROTECTED Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTEDFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTEDFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//Legal-Privilege.</p> Item Configuration Name P LP Display Name Legal-Privilege Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//Legal-Privilege Font site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//Legal-PrivilegeFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//Legislative-Secrecy.</p> Item Configuration Name P LS Display Name Legislative-Secrecy Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//Legislative-SecrecyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//Legislative-SecrecyFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//Personal-Privacy.</p> Item Configuration Name P PP Display Name Personal-Privacy Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//Personal-PrivacyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//Personal-PrivacyFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//NATIONAL CABINET.</p> Item Configuration Name NATIONAL CABINET Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//NATIONAL CABINETFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//NATIONAL CABINETFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//NATIONAL CABINET//Legal-Privilege.</p> Item Configuration Name P NC LP Display Name NATIONAL CABINET - Legal-Privilege Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//NATIONAL CABINET//Legal-PrivilegeFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//NATIONAL CABINET//Legal-PrivilegeFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//NATIONAL CABINET//Legislative-Secrecy.</p> Item Configuration Name P NC LS Display Name NATIONAL CABINET - Legislative-Secrecy Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//NATIONAL CABINET//Legislative-SecrecyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//NATIONAL CABINET//Legislative-SecrecyFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//NATIONAL CABINET//Personal-Privacy.</p> Item Configuration Name P NC PP Display Name NATIONAL CABINET - Personal-Privacy Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//NATIONAL CABINET//Personal-PrivacyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//NATIONAL CABINET//Personal-PrivacyFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//CABINET.</p> Item Configuration Name P C Display Name CABINET Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//CABINETFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//CABINETFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//CABINET//Legal-Privilege.</p> Item Configuration Name P C LP Display Name CABINET - Legal-Privilege Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//CABINET//Legal-PrivilegeFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//CABINET//Legal-PrivilegeFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//CABINET//Legislative-Secrecy.</p> Item Configuration Name P C LS Display Name PROTECTED//CABINET//Legislative-Secrecy Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//CABINET//Legislative-SecrecyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//CABINET//Legislative-SecrecyFont site: 12Font color: RedAlign text: Center Sub Label of P group <p>The following table lists the sensitivity sub label configuration for PROTECTED//CABINET//Personal-Privacy.</p> Item Configuration Name P C PP Display Name CABINET - Personal-Privacy Description for users High business impact. Damage to the national interest, organisations or individuals. Scope Files &amp; Emails Protection Settings Mark the content of files: CheckedContent marking: CheckedApply a header: CheckedCustomize text: PROTECTED//CABINET//Personal-PrivacyFont site: 12Font color: RedAlign text: CenterApply a footer: CheckedCustomize text: PROTECTED//CABINET//Personal-PrivacyFont site: 12Font color: RedAlign text: Center Sub Label of P group"},{"location":"as-built-as-configured/office-365/#sensitivity-label-policy","title":"Sensitivity label policy","text":"<p>Please note, the user may only need to publish the sensitivity labels (sensitivity, security classification, information management markers and caveats) that are required for the organisation or organisation.</p> <p><code>Microsoft 365 compliance &gt; Information protection &gt; Label policies</code></p> <p>The following table lists the Sensitivity label policy configuration for all implementation types.</p> Item Configuration Name Sensitivity labels policy Description Default sensitivity labels based on PSPF infosec document Published Labels UNOFFICIALOFFICIALOFFICIAL SensitiveOFFICIAL Sensitive/OFFICIAL SensitiveOFFICIAL Sensitive/Legal-PrivilegeOFFICIAL Sensitive/Legislative-SecrecyOFFICIAL Sensitive/Personal-PrivacyOFFICIAL Sensitive/NATIONAL CABINETOFFICIAL Sensitive/NATIONAL CABINET - Legal-PrivilegeOFFICIAL Sensitive/NATIONAL CABINET - Legislative-SecrecyOFFICIAL Sensitive/NATIONAL CABINET - Personal-PrivacyPROTECTEDPROTECTED/PROTECTEDPROTECTED/Legal-PrivilegePROTECTED/Legislative-SecrecyPROTECTED/Personal-PrivacyPROTECTED/NATIONAL CABINETPROTECTED/NATIONAL CABINET - Legal-PrivilegePROTECTED/NATIONAL CABINET - Legislative-SecrecyPROTECTED/NATIONAL CABINET - Personal-PrivacyPROTECTED/CABINETPROTECTED/CABINET - Legal-PrivilegePROTECTED/CABINET - Legislative-SecrecyPROTECTED/CABINET - Personal-Privacy Published to All Policy settings Users must provide a justification to remove a label or lower its classification: CheckedRequire users to apply a label to their emails and documents: Checked Default label Apply this default label to documents: NoneApply this default label to emails: NoneRequire users to apply a label to their emails: CheckedApply this default label to Power BI content: None"},{"location":"as-built-as-configured/office-365/#data-loss-prevention-dlp-compliance-policy","title":"Data Loss Prevention (DLP) compliance policy","text":"<p>The ABAC settings for the initial Data Loss Prevention configuration for all implementation types can be found below. Additional Sensitive information types and policies specific to the organisation's requirements should be configured, the following are a baseline configuration.</p> <p><code>Microsoft 365 compliance &gt; Data loss prevention &gt; Policies</code></p> <ul> <li>Name: <code>Australia Privacy Act</code></li> <li>Status: <code>On</code></li> <li>Description: <code>Helps detect the presence of information commonly considered to be subject to the privacy act in Australia, like driver's license and passport number.</code></li> <li>Content Types: <code>Australian Driver's License number, Australian Passport Number</code></li> <li>Locations to apply the policy:<ul> <li>Exchange email: <code>All, no exclusions</code></li> <li>SharePoint site: <code>All, no exclusions</code></li> <li>OneDrive accounts: <code>All, no exclusions</code></li> <li>Teams chat and channel messages: <code>All, no exclusions</code></li> </ul> </li> <li> <p>Policy settings:</p> <ul> <li>Low volume: <code>Low volume of content detected Australia Privacy Act (default template)</code></li> <li>High volume: <code>High volume of content detected Australia Privacy Act (default template)</code></li> </ul> </li> <li> <p>Name: <code>Australia Personally Identifiable Information (PII) Data</code></p> </li> <li>Status: <code>On</code></li> <li>Description: <code>Helps detect the presence of information commonly considered to be personally identifiable information (PII) in Australia, like tax file number and driver's license.</code></li> <li>Content Types: <code>Australian Driver's License number, Australian Tax File Number</code></li> <li>Locations to apply the policy:<ul> <li>Exchange email: <code>All, no exclusions</code></li> <li>SharePoint site: <code>All, no exclusions</code></li> <li>OneDrive accounts: <code>All, no exclusions</code></li> <li>Teams chat and channel messages: <code>All, no exclusions</code></li> </ul> </li> <li> <p>Policy settings:</p> <ul> <li>Low volume: <code>Low volume of content detected Australia Personally Identifiabl (default template)</code></li> <li>High volume: <code>High volume of content detected Australia Personally Identifiab (default template)</code></li> </ul> </li> <li> <p>Name: <code>Australia Health Records Act (HRIP Act)</code></p> </li> <li>Status: <code>On</code></li> <li>Description: <code>Helps detect the presence of information commonly considered to be subject to the Health Records and Information Privacy (HRIP) act in Australia, like medical account number and tax file number.</code></li> <li>Content Types: <code>Australian Tax File Number, Australian Medical Account Number</code></li> <li>Locations to apply the policy:<ul> <li>Exchange email: <code>All, no exclusions</code></li> <li>SharePoint site: <code>All, no exclusions</code></li> <li>OneDrive accounts: <code>All, no exclusions</code></li> <li>Teams chat and channel messages: <code>All, no exclusions</code></li> </ul> </li> <li> <p>Policy settings:</p> <ul> <li>Low volume: <code>Low volume of content detected Australia Health Records Act (HR (default template)</code></li> <li>High volume: <code>High volume of content detected Australia Health Records Act (H (default template)</code></li> </ul> </li> <li> <p>Name: <code>Australian Financial Data</code></p> </li> <li>Status: <code>On</code></li> <li>Workload: <code>Helps detect the presence of information commonly considered to be financial data in Australia, including credit cards, and SWIFT codes.</code></li> <li>Content Types: <code>SWIFT Code, Australian Tax File Number, Australian Bank Account Number, Credit Card Number</code></li> <li>Locations to apply the policy:<ul> <li>Exchange email: <code>All, no exclusions</code></li> <li>SharePoint site: <code>All, no exclusions</code></li> <li>OneDrive accounts: <code>All, no exclusions</code></li> <li>Teams chat and channel messages: <code>All, no exclusions</code></li> </ul> </li> <li> <p>Policy settings:</p> <ul> <li>Low volume: <code>Low volume of content detected Australia Financial Data (default template)</code></li> <li>High volume: <code>High volume of content detected Australia Financial Data (default template)</code></li> </ul> </li> <li> <p>Name: <code>PROTECTED Data</code></p> </li> <li>Status: <code>On</code></li> <li>Description: <code>Custom DLP policy to detect the sharing of data with PROTECTED sensitivity labels applied.</code></li> <li>Content Types: <code>PROTECTED (Sensitivity labels)</code></li> <li>Locations to apply the policy:<ul> <li>SharePoint site: <code>All, no exclusions</code></li> <li>OneDrive accounts: <code>All, no exclusions</code></li> </ul> </li> <li> <p>Policy settings: <code>PROTECTED Data Shared (custom rule)</code></p> </li> <li> <p>Name: <code>&lt;classification&gt; Append Subject</code> Note, create a single DLP policy for each classification or DLM published</p> </li> <li>Status: <code>On</code></li> <li>Description: <code>Custom DLP policy to detect the sharing of data with PROTECTED sensitivity labels applied.</code></li> <li>Content Types: <code>Sensitivy info type for &lt;classification&gt;</code> </li> <li>Locations to apply the policy:<ul> <li>Exchange</li> </ul> </li> <li>Policy settings: <code>Actions</code><ul> <li>Modify the Subject: <code>Replacement text: [SEC=&lt;Classification&gt;]</code></li> <li>Replacement strategy: <code>append</code></li> <li>Patterns: <code>\\[SEC=.*?\\]</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/office-365/#auto-labelling-policy","title":"Auto-labelling policy","text":"<p>The ABAC settings for the initial Auto-labeling configuration for all implementation types can be found below. The baseline configuration specifies a single auto-labeling policy per classification (sensitivity label).</p> <ul> <li>Name: <code>&lt;classification&gt; Inbound Marking</code> Note, create an auto-labelling policy for each classification or DLM published</li> <li>Status: <code>On</code></li> <li>Description: <code>Custom auto-labelling policy to detect the email marked with &lt;clasification&gt; and add the appropriate Senstivity label.</code></li> <li>Locations to apply the policy:<ul> <li>Exchange</li> </ul> </li> <li>Policy rules: <code>Conditions</code><ul> <li>Recipient domain is <code>organisation.com.au</code></li> <li>Header matches patterns <code>\\SEC=&lt;classification&gt;</code></li> </ul> </li> <li>Choose label to auto-apply: <code>&lt;Classification&gt;</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#microsoft-365-defender","title":"Microsoft 365 Defender","text":"<p>The ABAC settings for Microsoft 365 Defender for all implementation types can be found below. This includes Safe Links, Safe Attachments, and Anti-phishing configuration.</p> <p>Please note, if a setting is not mentioned below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/office-365/#safe-links","title":"Safe Links","text":"<p><code>Microsoft 365 Defender &gt; Policy &amp; rules &gt; Threat policies &gt; Safe links</code></p>"},{"location":"as-built-as-configured/office-365/#global-settings","title":"Global Settings","text":"<ul> <li>Use Safe Links in Office 365 apps: <code>Enabled</code></li> <li>Do not track when users click protected links in Office 365 apps: <code>Enabled</code></li> <li>Do not let users click through to the original URL in Office 365 app: <code>Enabled</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#policy","title":"Policy","text":"<ul> <li>Name: <code>Default Safe Links Policy</code></li> <li>Description: <code>This policy is the default Safe Links policy for the environment</code></li> <li>Users and domains:</li> <li>Users: <code>Not Configured</code></li> <li>Groups: <code>Not Configured</code></li> <li>Domains: <code>All organisation domains</code></li> <li>Protection Settings:</li> <li>Select the action for unknown potentially malicious URLs in messages: <code>On - URLs will be rewritten and checked against a list of known malicious links when user clicks on the link</code></li> <li>Select the action for unknown or potentially malicious URLs within Microsoft Teams: <code>On - Microsoft Teams will check against a list of known malicious links when user clicks on the link; URLs will not be rewritten</code></li> <li>Apply real-time URL scanning for suspicious links and links that point to files: <code>Enabled</code><ul> <li>Wait for URL scanning to complete before delivering the message: <code>Enabled</code></li> </ul> </li> <li>Apply Safe Links to email messages sent within the organisation: <code>Enabled</code></li> <li>Do not track user clicks: <code>Disabled</code></li> <li>Do not let users click through to the original URL: <code>Enabled</code></li> <li>Display the organization branding on notification and warning pages: <code>Disabled</code></li> <li>Do not rewrite the following URLs: <code>Not Configured</code></li> <li>Notification:</li> <li>How would you like to notify your users: <code>Use the default notification text</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#safe-attachments","title":"Safe Attachments","text":"<p><code>Microsoft 365 Defender &gt; Policy &amp; rules &gt; Threat policies &gt; Safe Attachments</code></p>"},{"location":"as-built-as-configured/office-365/#global-settings_1","title":"Global Settings","text":"<ul> <li>Turn on Defender for Office 365 for SharePoint, OneDrive, and Microsoft Teams: <code>Enabled</code></li> <li>Turn on Safe Documents for Office Clients: <code>Enabled</code></li> <li>Allow people to click through Protected View even if Safe Documents has identified the file as malicious: <code>Disabled</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#policy_1","title":"Policy","text":"<ul> <li>Name: <code>Default Safe Attachments Policy</code></li> <li>Description: <code>This policy is the default Safe Attachments policy for the environment</code></li> <li>Users and domains:</li> <li>Users: <code>Not Configured</code></li> <li>Groups: <code>Not Configured</code></li> <li>Domains: <code>All organisation domains</code></li> <li>Settings:</li> <li>Safe Attachments unknown malware response: <code>Block - Block current and future messages and attachments with detected malware</code></li> <li>Enable Redirect: <code>Disabled</code><ul> <li>Send messages that contain blocked, monitored, or replaced attachments to the specified email address: <code>organisation defined</code></li> </ul> </li> <li>Apply the Safe Attachments detection response if scanning can't complete (timeout or errors): <code>Enabled</code></li> </ul>"},{"location":"as-built-as-configured/office-365/#anti-phishing","title":"Anti-phishing","text":"<p><code>Microsoft 365 Defender &gt; Policy &amp; rules &gt; Threat policies &gt; Anti-phishing</code></p> <ul> <li>Name: <code>Office365 AntiPhish Default (Default)</code></li> <li>Phishing email threshold: <code>2 - Aggressive</code></li> <li>Enable users to protect: <code>Configured - organisation executives added</code></li> <li>Enabled domains to protect: <code>Enabled</code></li> <li>Include domains I own: <code>Enabled</code></li> <li>Include custom domains: <code>Disabled</code></li> <li>Add trusted senders and domains: <code>Not configured</code></li> <li>Enable mailbox intelligence: <code>Enabled</code></li> <li>Enable Intelligence for impersonation protection: <code>Enabled</code></li> <li>Spoof</li> <li>Enable spoof intelligence: <code>Enabled</code></li> <li>Actions</li> <li>Message actions<ul> <li>If message is detected as an impersonated user:<code>Quarantine the message</code></li> <li>If message is detected as an impersonated domain: <code>Quarantine the message</code></li> <li>If Mailbox Intelligence detects an impersonated user: <code>Quarantine the message</code></li> <li>If message is detected as spoof: <code>Quarantine the message</code></li> </ul> </li> <li>Safety tips &amp; indicators</li> <li>Show first contact safety tip (Recommended): <code>Enabled</code></li> <li>Show user impersonation safety tip: <code>Enabled</code></li> <li>Show domain impersonation safety tip: <code>Enabled</code></li> <li>Show user impersonation unusual characters safety tip: <code>Enabled</code></li> <li>Show (?) for unauthenticated senders for spoof: <code>Enabled</code></li> <li>Show \"via\" tag: <code>Enabled</code></li> </ul>"},{"location":"as-built-as-configured/platform/","title":"Platform","text":""},{"location":"as-built-as-configured/platform/#platform","title":"Platform","text":"<p>63 minutes to read - 30 March 2023</p>"},{"location":"as-built-as-configured/platform/#identity-and-access-management","title":"Identity and access management","text":"<p>The ABAC settings for the identity and access management for all implementation types can be found below. This includes Azure Active Directory, Active Directory Identity Protection, Multi-factor authentication, Microsoft 365 Groups and hybrid identity configuration (for Hybrid implementation types only). Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/platform/#azure-active-directory","title":"Azure Active Directory","text":"<p>The following ABAC settings outlines the Azure Active Directory configuration for all implementation types.</p> <p><code>Azure Active Directory &gt; Properties</code></p> <ul> <li>Name: <code>&lt;Organisation Name&gt;</code></li> <li>Country or Region: <code>Australia</code></li> <li>Location: <code>Australian datacenters</code></li> <li>Notification language: <code>English</code></li> <li>Technical Contact: <code>&lt;username&gt;@organisation.com.au</code></li> <li>Global privacy contact: <code>Not configured</code></li> <li>Privacy Statement URL: <code>Not configured</code></li> <li>Access management for Azure Resources: <code>No</code></li> </ul> <p><code>Azure Active Directory &gt; Users &gt; User settings &gt; Enterprise applications</code></p> <ul> <li>Enterprise applications</li> <li>Users can consent to apps accessing information on their behalf: <code>No</code></li> <li>Users can add gallery apps to their access panel: <code>No</code></li> <li>Admin consent requests</li> <li>Users can request admin consent to apps they are unable to consent to: <code>No</code></li> <li>Select users to review admin consent requests: <code>Not configured</code></li> <li>Selected users will receive email notifications for requests: <code>Not configured</code></li> <li>Selected users will receive request expiration reminders: <code>Not configured</code></li> <li>Consent request expires after (days): <code>Not configured</code></li> <li>Office 365 Settings</li> <li>Users can only see Office 365 apps in the Office 365 portal: <code>No</code></li> </ul> <p><code>Azure Active Directory &gt; Users &gt; User settings</code></p> <ul> <li>App registrations</li> <li>Users can register applications: <code>No</code></li> <li>Administration portal</li> <li>Restrict non-administrator access to Azure AD administration portal: <code>Yes</code></li> <li>LinkedIn account connections</li> <li>Allow users to connect work or school account with LinkedIn: <code>No</code></li> </ul> <p><code>Azure Active Directory &gt; Users &gt; User settings &gt; External collaboration settings</code></p> <ul> <li>Guest user access: <code>Guest users have limited access to properties and memberships of directory objects</code></li> <li>Guest invite settings</li> <li>Guest invite restrictions:<ul> <li>Only users assigned to specific admin roles can invite guest users: <code>Checked</code></li> <li>Enable guest self-service sign up via user flows: <code>No</code></li> </ul> </li> <li>Guests can invite: <code>No</code></li> <li>Enable guest self-service sign up via user flows: <code>No</code></li> <li>Collaboration restrictions</li> <li>Allow invitations only to the specified domains (most restrictive): <code>Selected</code></li> <li>Target domains:<ul> <li><code>organisation.com.au</code></li> </ul> </li> </ul> <p><code>Azure Active Directory &gt; External Identities &gt; Configured identity providers</code></p> <ul> <li>Email one-time passcode for guests</li> <li>Enable email one-time passcode for guests effective now: <code>Checked</code></li> </ul> <p><code>Azure Active Directory &gt; Groups &gt; General</code></p> <ul> <li>Self Service Group Management</li> <li>Owners can manage group membership requests in the Access Panel: <code>No</code></li> <li>Restrict user ability to access groups features in the Access Panel. Administrators (Global, Group and User Admin) will have access regardless of the value of this setting: <code>Yes</code></li> <li>Security Groups</li> <li>Users can create security groups in the Azure portals: <code>No</code></li> <li>Microsoft 365 Groups</li> <li>Users can create Microsoft 365 groups in Azure portals: <code>No</code></li> </ul> <p><code>Azure Active Directory &gt; Groups &gt; Expiration</code></p> <ul> <li>Group lifetime (in days): <code>365</code></li> <li>Email contact for groups with no owners: <code>Office365_Group_Expiration@organisation.com.au</code></li> <li>Enable expiration for these Microsoft 365 groups: <code>All</code></li> </ul> <p><code>Azure Active Directory &gt; Groups &gt; Naming policy</code></p> <ul> <li>Blocked words: <code>Not configured</code></li> </ul> <p><code>Azure Active Directory &gt; Custom domain names</code></p> <ul> <li><code>organisation.com.au (Primary)</code></li> <li><code>organisation.onmicrosoft.com</code></li> </ul> <p><code>Azure Active Directory &gt; Company branding</code></p> <ul> <li>Locale: <code>Default</code></li> <li>Sign-in Page background image (1920x1080px):    Generic Australian Government Background</li> <li>Banner logo (280x60px): Generic Australian Government Logo</li> <li>Username hint: <code>user@Organisation.gov.au</code></li> <li>Sign-in page text: <code>&lt;insert Organisation logon banner/disclaimer warning message&gt;</code>     Note: User terms are configured using Conditional Access Policies.</li> <li>Sign-in page background color: -</li> <li>Square logo image (240x240px): Generic Australian Government Logo</li> <li>Square logo image, dark theme (240x240px): -</li> <li>Show option to remain signed in: <code>No</code></li> </ul> <p><code>Azure Active Directory &gt; Devices &gt; Device settings</code></p> <ul> <li>Users may join devices to Azure AD: <code>All</code></li> <li>Devices to be Azure AD joined or Azure AD registered require Multi-Factor Authentication: <code>No</code></li> <li>Maximum number of devices per user: <code>Unlimited</code></li> <li>Additional local administrators on all Azure AD joined devices: -</li> <li>Enterprise State Roaming: -</li> </ul> <p><code>Azure Active Directory &gt; Devices &gt; Enterprise State Roaming</code></p> <ul> <li>Users may sync settings and app data across devices: <code>All</code></li> </ul> <p><code>Azure Active Directory &gt; Password reset &gt; Properties</code></p> <ul> <li>Self-service password reset enabled: <code>Selected</code></li> <li>Select group: <code>rol-Organisation-Users</code></li> </ul> <p><code>Azure Active Directory &gt; Password reset &gt; Authentication methods</code></p> <ul> <li>Number of methods required to reset: <code>2</code></li> <li>Methods available to users: <code>Mobile app notification</code>, <code>Email</code>, <code>Mobile phone</code></li> </ul> <p><code>Azure Active Directory &gt; Password reset &gt; Registration</code></p> <ul> <li>Require users to register when signing in?: <code>Yes</code></li> <li>Number of days before users are asked to re-confirm their authentication information: <code>180</code></li> </ul> <p><code>Azure Active Directory &gt; Password reset &gt; Notifications</code></p> <ul> <li>Notify users on password resets?: <code>Yes</code></li> <li>Notify all admins when other admins reset their password?: <code>Yes</code></li> </ul> <p><code>Azure Active Directory &gt; Password reset &gt; Customization</code></p> <ul> <li>Customize helpdesk line: <code>No</code></li> </ul> <p><code>PowerShell (MSOL) &gt; Disable Self-Service user creation</code></p> <ul> <li>Allow users to Email verify: <code>Disabled</code></li> <li>Allow Ad Hoc self-service sign-up: <code>Disabled</code></li> </ul> <pre><code>Set-MsolCompanySettings -AllowEmailVerifiedUsers $false -AllowAdHocSubscriptions $false\n</code></pre>"},{"location":"as-built-as-configured/platform/#microsoft-365-groups","title":"Microsoft 365 groups","text":"<p>The following ABAC settings outlines the Microsoft 365 groups configuration for all implementation types.</p> <p><code>Azure Active Directory &gt; Groups &gt; General</code></p> <ul> <li>Self Service Group Management</li> <li>Owners can manage group membership requests in the Access Panel: <code>No</code></li> <li>Restrict user ability to access groups features in the Access Panel. Administrators (Global, Group and User Admin) will have access regardless of the value of this setting.: <code>Yes</code></li> <li>Security Groups</li> <li>Users can create security groups in Azure portals: <code>No</code></li> <li>Owners who can assign members as group owners in Azure portals: <code>All</code></li> <li>Microsoft 365 groups</li> <li>Users can create Microsoft 365 groups in Azure portal: <code>No</code></li> <li>Owners who can assign members as group owners in Azure portal: <code>All</code></li> </ul> <p><code>Azure Active Directory &gt; Groups &gt; Naming policy</code></p> <ul> <li>Group naming policy: <code>Organisation to define</code></li> </ul> <p><code>Azure Active Directory &gt; Groups &gt; Expiration</code></p> <ul> <li>Group lifetime (in days): <code>365</code></li> <li>Email contact for groups with no owners: <code>Office365_Group_Expiration@organisation.com.au</code></li> <li>Enable expiration for these Microsoft 365 groups: <code>All</code></li> </ul> <p><code>Azure Active Directory &gt; Groups</code></p> <ul> <li>Group Name: <code>grp-&lt;Organisation Acronym&gt;O365-Outlook</code></li> <li>Implementation types: <code>all</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Office</code></li> <li>Email: <code>grp-&lt;Organisation Acronym&gt;o365-outlook@organisation.com.au</code></li> <li>Members: <code>&lt;Organisation User&gt;</code></li> <li>Owners: <code>&lt;Organisation User&gt;</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>grp-&lt;Organisation Acronym&gt;o365-Teams</code></li> <li>Implementation types: <code>all</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Office</code></li> <li>Email: <code>grp-&lt;Organisation Acronym&gt;o365-teams@organisation.com.au</code></li> <li>Members: <code>&lt;Organisation User&gt;</code></li> <li>Owners: <code>&lt;Organisation User&gt;</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>rol-Organisation-administrators</code></li> <li>Implementation types: <code>all</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members: <code>None admin accounts</code></li> <li>Owners: <code>&lt;Organisation Owner&gt; (Admin)</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>Microsoft 365 E5</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>rol-Organisation-users</code></li> <li>Implementation types: <code>Hybrid</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Windows server AD</code> </li> <li>Type: <code>Security</code></li> <li>Members: <code>None admin accounts</code></li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>Microsoft 365 E5</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>rol-Organisation-users</code></li> <li>Implementation types: <code>Cloud</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code> </li> <li>Type: <code>Security</code></li> <li>Members: <code>None admin accounts</code></li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>Microsoft 365 E5</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>grp-Conditional_Access_Exclude</code></li> <li>Implementation types: <code>Hybrid</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members<ul> <li>Break Glass account</li> <li>break.glass_priv1</li> <li>break.glass_priv2</li> <li>AAD Connect Synchronization accounts (hybrid implementation types only)</li> <li><code>Sync_&lt;AAD Server 1&gt;_&lt;account GUID&gt;</code></li> <li><code>Sync_&lt;AAD Server 2&gt;_&lt;account GUID&gt;</code></li> </ul> </li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>grp-Conditional_Access_Exclude</code></li> <li>Implementation types: <code>Cloud</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members<ul> <li>Break Glass account</li> <li>break.glass_priv1</li> <li>break.glass_priv2</li> </ul> </li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: `None</li> <li>Group Name: <code>rol-OrganisationName-o365groupcreators</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members: <code>&lt;Organisation User&gt;</code></li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>rol-ATPUsers</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members: <code>&lt;Organisation User&gt;</code></li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>rol-ATPViewers</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members: <code>&lt;Organisation User&gt;</code></li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> <li>Group Name: <code>rol-Organisation-log-admin</code></li> <li>Membership type: <code>Assigned</code></li> <li>Source: <code>Cloud</code></li> <li>Type: <code>Security</code></li> <li>Members: <code>&lt;Organisation User&gt;</code></li> <li>Owners: <code>None</code></li> <li>Group membership: <code>None</code></li> <li>Applications: <code>None</code></li> <li>Licenses: <code>None</code></li> <li>Azure role assignment: <code>None</code></li> </ul>"},{"location":"as-built-as-configured/platform/#delegate-office-365-group-creation","title":"Delegate Office 365 Group Creation","text":"<p>Delegation of 365 Group creation is set through Azure AD (preview module) PowerShell for Graph. For reference see manage creation of groups.</p> <pre><code>$GroupName = \"rol-&lt;OrganisationName&gt;-o365groupcreators\"\n$AllowGroupCreation = $False\n\nConnect-AzureAD\n\n$settingsObjectID = (Get-AzureADDirectorySetting | Where-object -Property Displayname -Value \"Group.Unified\" -EQ).id\nif(!$settingsObjectID)\n{\n  $template = Get-AzureADDirectorySettingTemplate | Where-object {$_.displayname -eq \"group.unified\"}\n  $settingsCopy = $template.CreateDirectorySetting()\n  New-AzureADDirectorySetting -DirectorySetting $settingsCopy\n  $settingsObjectID = (Get-AzureADDirectorySetting | Where-object -Property Displayname -Value \"Group.Unified\" -EQ).id\n}\n\n$settingsCopy = Get-AzureADDirectorySetting -Id $settingsObjectID\n$settingsCopy[\"EnableGroupCreation\"] = $AllowGroupCreation\n\nif($GroupName)\n{\n  $settingsCopy[\"GroupCreationAllowedGroupId\"] = (Get-AzureADGroup -SearchString $GroupName).objectid\n}\n else {\n  $settingsCopy[\"GroupCreationAllowedGroupId\"] = $GroupName\n}\nSet-AzureADDirectorySetting -Id $settingsObjectID -DirectorySetting $settingsCopy\n\n(Get-AzureADDirectorySetting -Id $settingsObjectID).Values\n</code></pre>"},{"location":"as-built-as-configured/platform/#emergency-access-admin-accounts","title":"Emergency access admin accounts","text":"<p>The following ABAC settings outlines the emergency access admin (break glass) accounts configuration for all implementation types.</p> <p><code>Azure Active Directory &gt; Users &gt; Break Glass &gt; Profile</code></p> <ul> <li>Name: <code>Break Glass</code></li> <li>User Principal Name: <code>break.glass_priv&lt;number&gt;@&lt;Tenant Name&gt;.onmicrosoft.com</code></li> <li>User Type: <code>Member</code></li> </ul> <p><code>Azure Active Directory &gt; Users &gt; Break Glass &gt; Assigned roles</code></p> <ul> <li>Active assignments: <code>Global Administrator</code></li> </ul> <p><code>Azure Active Directory &gt; Users &gt; Break Glass &gt; Groups</code></p> <ul> <li>Name: <code>Excluded from CA</code>, <code>rol-Organisation-administrators</code>, <code>&lt;Organisation Name&gt;</code>, <code>All Users</code></li> </ul> <p><code>Azure Active Directory &gt; Users &gt; Break Glass &gt; Licenses</code></p> <ul> <li>Products: <code>None</code></li> <li>Assignment Paths: <code>Inherited (rol-Organisation-administrators)</code></li> </ul>"},{"location":"as-built-as-configured/platform/#azure-active-directory-identity-protection","title":"Azure Active Directory Identity Protection","text":"<p>The following ABAC settings outlines the Identity Protection configuration for all implementation types.</p> <p><code>Azure Active Directory &gt; Security &gt; Identity Protection &gt; MFA registration policy</code></p> <ul> <li>Policy name: <code>Multi-factor authentication registration policy</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Identity Protection &gt; MFA registration policy &gt; Assignments</code></p> <ul> <li>Users: <code>Included:  All Users</code></li> <li>Excluded: <code>Office365_Conditional_Access_Exclude</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Identity Protection &gt; MFA registration policy &gt; Controls</code></p> <ul> <li>Access: <code>Require Azure MFA registration</code></li> <li>Enforce Policy: <code>On</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Identity Protection &gt; Sign-in Risk policy</code></p> <ul> <li> <p>Include users: <code>All users</code></p> </li> <li> <p>Exclude users</p> </li> </ul> Implementation Accounts to exclude Cloud-native <code>break.glass_priv1@organisation.onmicrosoft.com</code><code>break.glass_priv2@organisation.onmicrosoft.com</code> Hybrid <code>break.glass_priv1@organisation.onmicrosoft.com</code><code>break.glass_priv2@organisation.onmicrosoft.com</code><code>Sync_&lt;account_1&gt;_&lt;account guid&gt;@organisation.onmicrosoft.com</code><code>Sync_&lt;account_2&gt;_&lt;account guid&gt;@organisation.onmicrosoft.com</code> <p>Sign-in risk settings: <code>Medium and above</code></p> <ul> <li>Access: <code>Allow access (Require MFA)</code></li> <li>Enforce policy: <code>On</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Identity Protection &gt; User Risk Policy</code></p> <ul> <li> <p>Include users: <code>All users</code></p> </li> <li> <p>Exclude users</p> </li> </ul> Implementation Accounts to exclude Cloud-native <code>break.glass_priv1@organisation.onmicrosoft.com</code><code>break.glass_priv2@organisation.onmicrosoft.com</code> Hybrid <code>break.glass_priv1@organisation.onmicrosoft.com</code><code>break.glass_priv2@organisation.onmicrosoft.com</code><code>Sync_&lt;account_1&gt;_&lt;account guid&gt;@organisation.onmicrosoft.com</code><code>Sync_&lt;account_2&gt;_&lt;account guid&gt;@organisation.onmicrosoft.com</code> <p>User risk setting: <code>Medium and above</code></p> <ul> <li>Access: <code>Allow access (with require password change selected)</code></li> <li>Enforce policy: <code>On</code></li> </ul>"},{"location":"as-built-as-configured/platform/#azure-active-directory-multifactor-authentication","title":"Azure Active Directory multifactor authentication","text":"<p>The following ABAC settings outlines the multifactor authentication configuration for all implementation types.</p> <p><code>Azure Active Directory &gt; Users &gt; Per-user MFA</code></p> <ul> <li>App passwords: <code>Do not allow users to create app passwords to sign in to non-browser apps</code></li> <li>Trusted IPs: <code>Not configured</code></li> <li>Verification options: <code>Notification through mobile app</code>, <code>Verification code from mobile app or hardware token</code></li> <li>Remember multi-factor authentication: <code>Not configured</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Multi-Factor Authentication &gt; Fraud alert</code></p> <ul> <li>Allow users to submit fraud alerts: <code>On</code></li> <li>Automatically block users who report fraud: <code>On</code></li> <li>Code to report fraud during initial greeting: <code>0</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Authentication methods</code></p> <ul> <li>FIDO2 security key: <code>Not configured</code></li> <li>Microsoft Authentication: <code>Enabled</code></li> <li>SMS (preview): <code>Not configured</code></li> <li>Temporary Access Pass: <code>Not configured</code></li> <li>Third-party software OATH tokens (preview): <code>Not configured</code></li> <li>Voice call (preview): <code>Not configured</code></li> <li>Email OTP (preview): <code>Not configured</code></li> <li>Certificate-based authentication: <code>Not configured</code></li> </ul> <p><code>Azure Active Directory &gt; Security &gt; Authentication methods &gt; Microsoft Authentication</code></p> <ul> <li>Enable and Target: <code>Enable</code></li> <li>Include: <code>All users</code></li> <li>Authentication mode: <code>Push</code></li> <li>Allow use of Microsoft Authenticator OTP: <code>Yes</code></li> <li>Require number matching for push notifications: <code>Enabled, All users</code></li> <li>Show application name in push and passwordless notifications: <code>Enabled, All users</code></li> <li>Show geographic location in push and passwordless notifications: <code>Enabled, All users</code> </li> </ul>"},{"location":"as-built-as-configured/platform/#hybrid-identity-azure-ad-connect-hybrid-implementation-types-only","title":"Hybrid Identity - Azure AD Connect (hybrid implementation types only)","text":"<p>The following ABAC settings outlines the Azure AD connect configuration for hybrid implementation types only.</p> <p>Primary Azure AD Connect settings</p> <ul> <li>Installation Mode: <code>Custom</code></li> <li>SQL Mode: <code>Local DB</code></li> <li>Directory to connect to: <code>organisation.com.au</code></li> <li>Source of truth for account information: <code>On-Premises Active Directory (organisation.com.au)</code></li> <li>User sign-in method <pre><code>  Selected - Pass-through authentication\n  Not selected \u2013 Password Hash Synchronization\n  Not selected \u2013 Federation with AD FS\n  Not selected \u2013 Federation with PingFederate\n</code></pre></li> <li>Enable Single Sign-on: <code>Enabled</code></li> <li>Directory Type: <code>Active Directory</code></li> <li>Forest for Configured Directories: <code>&lt;Organisation_forest_name&gt;.local</code></li> <li>Active Directory UPN Suffix: <code>organisation.com.au</code></li> <li>Azure AD Domain: <code>Verified</code></li> <li>Attribute used for login: <code>userPrincipalName   (User ID)</code></li> <li>Domain and OU filtering</li> <li>Directory: <code>&lt;Organisation_forest_name&gt;.local</code></li> <li>Sync selected domains and OUs: <pre><code>  Department\n      . Groups\n      .  . Admin\n      .  . Security Access\n      . Users\n      .  . Admin\n      .  . General\n      .  . Service Accounts\n      . Computers\n</code></pre></li> <li>How users should be identified in your on-premises directories: <code>Users are represented only once across all directories</code></li> <li>How users should be identified with Azure AD: <code>ms-DS-Consistency-Guid</code></li> <li>Filter users and devices: <code>Synchronize all users and devices</code></li> <li>Optional Features</li> <li>Exchange hybrid deployment: <code>Enabled</code></li> <li>Exchange Mail Public Folders: <code>Disabled</code></li> <li>Password hash synchronization: <code>Disabled</code></li> <li>Password writeback: <code>Disabled</code></li> <li>Group writeback: <code>Disabled</code></li> <li>Azure AD app and attribute filtering: <code>Enabled</code></li> <li>Azure AD Apps: The following applications are enabled: <pre><code>  Office 365 ProPlus\n  Exchange Online\n  SharePoint Online\n  Lync Online\n  Azure RMS\n  Intune\n  Dynamics CRM\n  3rd party application\n</code></pre></li> </ul> <p>Standby Azure AD Connect settings:</p> <ul> <li>Source of truth for account information: <code>On-Premises Active Directory (organisation.com.au)</code></li> <li>User sign-in method <pre><code>  Selected - Pass-through authentication\n  Not selected \u2013 Password Hash Synchronization\n  Not selected \u2013 Federation with AD FS\n  Not selected \u2013 Federation with PingFederate\n</code></pre></li> <li>Enable Single Sign-on: <code>Enabled</code></li> <li>Directory Type: <code>Active Directory</code></li> <li>Forest for Configured Directories: <code>&lt;Organisation_forest_name&gt;.local</code></li> <li>Active Directory UPN Suffix: <code>organisation.com.au</code></li> <li>Azure AD Domain: <code>Verified</code></li> <li>Attribute used for login: <code>userPrincipleName   (User ID)</code></li> <li>Domain and OU filtering</li> <li>Directory | <code>&lt;Organisation_forest_name&gt;.local</code></li> <li>Sync selected domains and OUs <pre><code>  Department\n      . Groups\n      .  . Admin\n      .  . Security Access\n      . Users\n      .  . Admin\n      .  . General\n      .  . Service Accounts\n      . Computers\n</code></pre></li> <li>How users should be identified in your on-premises directories: <code>Users are represented only once across all directories</code></li> <li>How users should be identified with Azure AD: <code>ms-DS-Consistency-Guid</code></li> <li>Filter users and devices: <code>Synchronize all users and devices</code></li> <li>Optional Features</li> <li>Exchange hybrid deployment: <code>Enabled</code></li> <li>Exchange Mail Public Folders: <code>Disabled</code></li> <li>Password hash synchronization: <code>Disabled</code></li> <li>Password writeback: <code>Disabled</code></li> <li>Group writeback: <code>Disabled</code></li> <li>Azure AD app and attribute filtering: <code>Enabled</code></li> <li>Azure AD Apps: The following applications are enabled: <pre><code>  Office 365 ProPlus\n  Exchange Online\n  SharePoint Online\n  Lync Online\n  Azure RMS\n  Intune\n  Dynamics CRM\n  3rd party application\n</code></pre></li> </ul> <p>The following table describes the Azure AD attributes being synchronized via Azure AD Connect.</p> Attribute IsExported IsMandatory accountEnabled TRUE TRUE accountName TRUE FALSE altRecipient TRUE FALSE assistant TRUE FALSE authOrig TRUE FALSE c TRUE FALSE cloudUserCertificate TRUE FALSE cloudUserSMIMECertificate TRUE FALSE cn TRUE FALSE co TRUE FALSE company TRUE FALSE countryCode TRUE FALSE dLMemRejectPerms TRUE FALSE dLMemSubmitPerms TRUE FALSE department TRUE FALSE description TRUE FALSE deviceId TRUE FALSE deviceOSType TRUE FALSE deviceTrustType TRUE FALSE displayName TRUE FALSE distinguishedName TRUE FALSE domainFQDN TRUE FALSE domainNetBios TRUE FALSE employeeID TRUE FALSE extensionAttribute1 TRUE FALSE extensionAttribute10 TRUE FALSE extensionAttribute11 TRUE FALSE extensionAttribute12 TRUE FALSE extensionAttribute13 TRUE FALSE extensionAttribute14 TRUE FALSE extensionAttribute15 TRUE FALSE extensionAttribute2 TRUE FALSE extensionAttribute3 TRUE FALSE extensionAttribute4 TRUE FALSE extensionAttribute5 TRUE FALSE extensionAttribute6 TRUE FALSE extensionAttribute7 TRUE FALSE extensionAttribute8 TRUE FALSE extensionAttribute9 TRUE FALSE facsimileTelephoneNumber TRUE FALSE givenName TRUE FALSE hideDLMembership TRUE FALSE homePhone TRUE FALSE info TRUE FALSE initials TRUE FALSE ipPhone TRUE FALSE isIntuneManagedDevice TRUE FALSE l TRUE FALSE legacyExchangeDN TRUE FALSE mail TRUE FALSE mailNickname TRUE FALSE managedBy TRUE FALSE manager TRUE FALSE member TRUE FALSE middleName TRUE FALSE mobile TRUE FALSE msDS-HABSeniorityIndex TRUE FALSE msDS-PhoneticDisplayName TRUE FALSE msExchArchiveGUID TRUE FALSE msExchArchiveName TRUE FALSE msExchAssistantName TRUE FALSE msExchAuditAdmin TRUE FALSE msExchAuditDelegate TRUE FALSE msExchAuditDelegateAdmin TRUE FALSE msExchAuditOwner TRUE FALSE msExchBlockedSendersHash TRUE FALSE msExchBypassAudit TRUE FALSE msExchBypassModerationLink TRUE FALSE msExchCoManagedByLink TRUE FALSE msExchDelegateListLink TRUE FALSE msExchELCExpirySuspensionEnd TRUE FALSE msExchELCExpirySuspensionStart TRUE FALSE msExchELCMailboxFlags TRUE FALSE msExchEnableModeration TRUE FALSE msExchExtensionCustomAttribute1 TRUE FALSE msExchExtensionCustomAttribute2 TRUE FALSE msExchExtensionCustomAttribute3 TRUE FALSE msExchExtensionCustomAttribute4 TRUE FALSE msExchExtensionCustomAttribute5 TRUE FALSE msExchHideFromAddressLists TRUE FALSE msExchImmutableId TRUE FALSE msExchLitigationHoldDate TRUE FALSE msExchLitigationHoldOwner TRUE FALSE msExchMailboxAuditEnable TRUE FALSE msExchMailboxAuditLogAgeLimit TRUE FALSE msExchMailboxGuid TRUE FALSE msExchModeratedByLink TRUE FALSE msExchModerationFlags TRUE FALSE msExchRecipientDisplayType TRUE FALSE msExchRecipientTypeDetails TRUE FALSE msExchRemoteRecipientType TRUE FALSE msExchRequireAuthToSendTo TRUE FALSE msExchResourceCapacity TRUE FALSE msExchResourceDisplay TRUE FALSE msExchResourceMetaData TRUE FALSE msExchResourceSearchProperties TRUE FALSE msExchRetentionComment TRUE FALSE msExchRetentionURL TRUE FALSE msExchSafeRecipientsHash TRUE FALSE msExchSafeSendersHash TRUE FALSE msExchSenderHintTranslations TRUE FALSE msExchTeamMailboxExpiration TRUE FALSE msExchTeamMailboxOwners TRUE FALSE msExchTeamMailboxSharePointLinkedBy TRUE FALSE msExchTeamMailboxSharePointUrl TRUE FALSE msExchUserHoldPolicies TRUE FALSE msOrg-IsOrganizational TRUE FALSE msRTCSIP-ApplicationOptions TRUE FALSE msRTCSIP-DeploymentLocator TRUE FALSE msRTCSIP-Line TRUE FALSE msRTCSIP-OptionFlags TRUE FALSE msRTCSIP-OwnerUrn TRUE FALSE msRTCSIP-PrimaryUserAddress TRUE FALSE msRTCSIP-UserEnabled TRUE FALSE oOFReplyToOriginator TRUE FALSE objectSid TRUE FALSE onPremisesUserPrincipalName TRUE FALSE otherFacsimileTelephoneNumber TRUE FALSE otherHomePhone TRUE FALSE otherIpPhone TRUE FALSE otherMobile TRUE FALSE otherPager TRUE FALSE otherTelephone TRUE FALSE pager TRUE FALSE physicalDeliveryOfficeName TRUE FALSE postOfficeBox TRUE FALSE postalCode TRUE FALSE preferredLanguage TRUE FALSE proxyAddresses TRUE FALSE publicDelegates TRUE FALSE pwdLastSet TRUE FALSE registeredOwnerReference TRUE FALSE reportToOriginator TRUE FALSE reportToOwner TRUE FALSE securityEnabled TRUE FALSE sn TRUE FALSE sourceAnchor TRUE TRUE st TRUE FALSE streetAddress TRUE FALSE targetAddress TRUE FALSE telephoneAssistant TRUE FALSE telephoneNumber TRUE FALSE thumbnailPhoto TRUE FALSE title TRUE FALSE unauthOrig TRUE FALSE url TRUE FALSE usageLocation TRUE FALSE userCertificate TRUE FALSE userPrincipalName TRUE TRUE userSMIMECertificate TRUE FALSE wWWHomePage TRUE FALSE"},{"location":"as-built-as-configured/platform/#authentication-method-pass-through-agent","title":"Authentication method (pass through agent)","text":"<p>The following ABAC settings outlines the AD Connect authentication method configuration for hybrid implementation types only.</p> <ul> <li>Authentication Method: <code>PTA</code></li> <li>Number of PTA servers: <code>3</code></li> <li>Add Proxy settings</li> <li>Add the following text to the end of the file <code>C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Config\\machine.config</code> to enable proxy settings. This file needs to be opened as \"administrator\" context.</li> </ul> <p><pre><code>&lt;system.net&gt;\n  &lt;defaultProxy enabled=\"true\" useDefaultCredentials=\"true\"&gt;\n    &lt;proxy\n      usesystemdefault=\"true\"\n      proxyaddress=\"http://&lt;proxyserveraddress&gt;:8080\"\n      bypassonlocal=\"true\"\n    /&gt;\n  &lt;/defaultProxy&gt;\n&lt;/system.net&gt;\n</code></pre> - Required Protocols   - Enable outbound HTTP \u2013 80 (TCP/UDP)   - Enable outbound HTTPS \u2013 443 (TCP/UDP) - Register PTA Connector   - Execute the following power shell command to register PTA connector:</p> <pre><code>cd C:\\Program Files\\Microsoft Azure AD Connect Authentication Agent\n\n./RegisterConnector.ps1 -modulePath \"C:\\Program Files\\Microsoft Azure AD Connect Authentication Agent\\Modules\\\" -moduleName \"PassthroughAuthPSModule\" -Authenticationmode Credentials -Usercredentials $cred -Feature PassthroughAuthentication\n</code></pre>"},{"location":"as-built-as-configured/platform/#privileged-identity-management","title":"Privileged identity management","text":"<p>The ABAC settings for the Organisation Privileged Identity Management for all implementations types can be found below. This includes Authentication Administrator, Azure Information Protection Administrator, Global Administrator, Exchange Administrator, Helpdesk Administrator, Intune Administrator, Office Apps Administrator, Power BI Administrator, Power Platform, Privileged Role Administrator, Security Administrator, Security Operator, SharePoint Administrator, Teams Communications Administrator, Teams Communications Support Engineer, Teams Communications Support Specialist, Teams Service Administrator and User Administrator settings. Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/platform/#authentication-administrator","title":"Authentication administrator","text":"<p><code>Azure AD Privileged Identity Management &gt; Azure AD roles &gt; Roles &gt; Authentication Administrator &gt; Role settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Not checked</code></li> <li>Expire eligible assignments after: <code>6 month(s)</code></li> <li>Allow permanent active assignment: <code>Not checked</code></li> <li>Expire active assignments after: <code>1 month(s)</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#azure-information-protection-administrator","title":"Azure information protection administrator","text":"<p><code>Azure AD Privileged Identity Management &gt; Azure AD roles &gt; Roles &gt; Azure Information Protection Administrator &gt; Role settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#global-administrator","title":"Global administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Global Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#exchange-administrator","title":"Exchange administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Exchange Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#helpdesk-administrator","title":"Helpdesk administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Helpdesk Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#intune-administrator","title":"Intune administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Intune Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#office-apps-administrator","title":"Office Apps administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Office Apps Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#power-bi-administrator","title":"Power BI administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Power BI Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#power-platform-administrator","title":"Power Platform administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Power Platform Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#privileged-role-administrator","title":"Privileged role administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Privileged Role Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#security-administrator","title":"Security administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Security Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#security-operator","title":"Security Operator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Security Operator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#sharepoint-administrator","title":"SharePoint administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; SharePoint Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#teams-communications-administrator","title":"Teams communications administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Teams Communication Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#teams-communications-support-engineer","title":"Teams communications support engineer","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Teams Communications Support Engineer &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#teams-communications-support-specialist","title":"Teams communications support specialist","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Teams Communications Support Specialist &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#teams-service-administrator","title":"Teams service administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; Teams service Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#user-administrator","title":"User administrator","text":"<p><code>Azure Active Directory &gt; Identity Governance &gt; Azure AD roles &gt; Azure AD roles &gt; Roles &gt; User Administrator &gt; Role Settings</code></p> <ul> <li>Activation</li> <li>Activation maximum duration: <code>10 hours</code></li> <li>On activation, require: <code>Azure MFA</code></li> <li>Require justification on activation: <code>Checked</code></li> <li>Require ticket information on activation: <code>Not checked</code></li> <li>Require approval to activate: <code>Not checked</code></li> <li>Select approvers(s):<ul> <li>Members: None</li> <li>Groups: None </li> <li>If no specific approvers are selected, privileged role administrators/global administrators will become the default approvers.</li> </ul> </li> <li>Assignment</li> <li>Allow permanent eligible assignment: <code>Checked</code></li> <li>Expire eligible assignments after: <code>Not configured</code></li> <li>Allow permanent active assignment: <code>Checked</code></li> <li>Expire active assignments after: <code>Not configured</code></li> <li>Require Azure Multi-Factor Authentication on active assignment: <code>Not checked</code></li> <li>Require justification on active assignment: <code>Checked</code></li> <li>Notification</li> <li>Send notifications when members are assigned as eligible to this role<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when members are assigned as active to this role:<ul> <li>Role assignment alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to the assigned user (assignee)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve a role assignment renewal/extension</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> <li>Send notifications when eligible members activate this role:<ul> <li>Role activation alert</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Notification to activated user (requestor)</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Not configured</code></li> <li>Critical emails only: <code>Not checked</code></li> <li>Request to approve an activation</li> <li>Default recipients: <code>Checked</code></li> <li>Additional recipients: <code>Only designated approvers can receive this email</code></li> <li>Critical emails only: <code>Not checked</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#licensing","title":"Licensing","text":"<p>The following table describes the user (<code>rol-Organisation-users</code>) licensing settings for all implementation types that are configured within the tenant available at <code>Azure Active Directory &gt; Groups &gt; All groups &gt; rol-Organisation-users &gt; Licenses &gt; Microsoft 365 E5</code></p> Item Configuration Azure Active Directory Premium P1 On Azure Active Directory Premium P2 On Azure Advanced Threat Protection On Azure Information Protection Premium P1 On Azure Information Protection Premium P2 On Azure Rights Management On Common Data Service On Common Data Service for Teams On Customer Lockbox On Data Classification in Microsoft 365 On Exchange Online (Plan 2) On Graph Connectors Search with Index On Information Barriers On Information Protection for Office 365 - Premium On Information Protection for Office 365 - Standard On Insights by MyAnalytics Off M365 Communication Compliance On Microsoft 365 Advanced Auditing On Microsoft 365 Apps for enterprise On Microsoft 365 Audio Conferencing On Microsoft 365 Defender On Microsoft 365 Phone System Off Microsoft Azure Multi-Factor Authentication On Microsoft Bookings Off Microsoft Cloud App Security On Microsoft Communications DLP On Microsoft Customer Key Off Microsoft Data Investigations On Microsoft Defender For Endpoint On Microsoft Defender for Identity On Microsoft Defender for Office 365 (Plan 2) On Microsoft Endpoint DLP On Microsoft Excel Advanced Analytics On Microsoft Forms (Plan E5) On Microsoft Information Governance On Microsoft Insider Risk Management On Microsoft Intune On Microsoft Kaizala Pro Off Microsoft ML-based classification On Microsoft MyAnalytics (Full) Off Microsoft Planner On Microsoft Records Management On Microsoft StaffHub Off Microsoft Stream for O365 E5 SKU On Microsoft Teams On Office 365 Advanced eDiscovery On Office 365 Cloud App Security On Office 365 Privileged Access Management On Office 365 SafeDocs On Office for the web On Power BI Pro On PowerApps for Office 365 Plan 3 Off Power Automate for Office 365 Off Power BI Pro Off Power Virtual Agents for Office 365 Off Premium Encryption in Office 365 On Project for Office (Plan E5) On SharePoint (Plan 2) On Skype for Business Online (Plan 2) Off Sway On To-Do (Plan 3) On Universal Print Off Whiteboard (Plan 3) On Windows 10 Enterprise On Windows Update for Business Deployment Service On Yammer Enterprise Off <p>The following table describes the admin (<code>rol-Organisation-administrators</code>) licensing settings for all implementation types that are configured within the tenant.</p> <p><code>Azure Active Directory | Groups | All groups &gt; rol-Organisation-administrators | Licenses &gt; Microsoft 365 E5</code></p> Item Configuration Azure Active Directory Premium P1 On Azure Active Directory Premium P2 On Azure Advanced Threat Protection On Azure Information Protection Premium P1 On Azure Information Protection Premium P2 On Azure Rights Management On Common Data Service Off Common Data Service for Teams Off Customer Lockbox On Data Classification in Microsoft 365 On Exchange Online (Plan 2) Off Graph Connectors Search with Index Off Information Barriers On Information Protection for Office 365 - Premium On Information Protection for Office 365 - Standard On Insights by MyAnalytics Off M365 Communication Compliance On Microsoft 365 Advanced Auditing On Microsoft 365 Apps for enterprise Off Microsoft 365 Audio Conferencing Off Microsoft 365 Defender On Microsoft 365 Phone System Off Microsoft Azure Multi-Factor Authentication On Microsoft Bookings Off Microsoft Cloud App Security On Microsoft Communications DLP On Microsoft Customer Key Off Microsoft Data Investigations On Microsoft Defender For Endpoint On Microsoft Defender for Identity On Microsoft Defender for Office 365 (Plan 2) On Microsoft Endpoint DLP On Microsoft Excel Advanced Analytics Off Microsoft Forms (Plan E5) Off Microsoft Information Governance On Microsoft Insider Risk Management On Microsoft Intune Off Microsoft Kaizala Pro Off Microsoft ML-based classification On Microsoft MyAnalytics (Full) Off Microsoft Planner Off Microsoft Records Management On Microsoft StaffHub Off Microsoft Stream for O365 E5 SKU Off Microsoft Teams Off Office 365 Advanced eDiscovery On Office 365 Cloud App Security On Office 365 Privileged Access Management On Office 365 SafeDocs On Office for the web Off Power BI Pro Off PowerApps for Office 365 Plan 3 Off Power Automate for Office 365 Off Power BI Pro Off Power Virtual Agents for Office 365 Off Premium Encryption in Office 365 On Project for Office (Plan E5) Off SharePoint (Plan 2) Off Skype for Business Online (Plan 2) Off Sway Off To-Do (Plan 3) Off Universal Print Off Whiteboard (Plan 3) Off Windows 10 Enterprise Off Windows Update for Business Deployment Service Off Yammer Enterprise Off"},{"location":"as-built-as-configured/platform/#windows-information-protection","title":"Windows Information Protection","text":"<p>Note: In July 2022 Microsoft announced deprecation of certain capabilities within Windows Information Protection (WIP). Please see the news article here</p>"},{"location":"as-built-as-configured/platform/#application-protection-policies","title":"Application protection policies","text":"<p>The following ABAC settings outlines the application protection policy configuration for all implementation types.</p> <p><code>Microsoft Endpoint Manager &gt; Client apps &gt; App protection policies &gt; Windows Information Protection &gt; Properties</code></p> <ul> <li>Name: <code>Windows Information Protection</code></li> <li>Description: <code>Application Protection policies</code></li> <li>Enrollment state: <code>With enrollment</code></li> <li>Targeted apps</li> <li>Protected apps: <pre><code>                      Office-365-ProPlus-1810-Allowed.xml\n                      Recommended-Denied-Office-365-ProPlus-1810.xml\n                      MsEdge - WIPMode-Allow - Enterprise AppLocker Policy File.xml\n                      Microsoft OneDrive\n                      Notepad\n                      Microsoft Paint\n                      Microsoft Remote Desktop\n                      Microsoft Teams\n                      Microsoft Azure Information Protection\n                      Microsoft Edge\n                      Microsoft People\n                      Word Mobile\n                      Excel Mobile\n                      PowerPoint Mobile\n                      OneDrive App\n                      OneNote\n                      Mail and Calendar for Windows 10\n                      Microsoft Photos\n                      Groove Music\n                      Microsoft Movies and TV\n                      Microsoft Messaging\n                      Company Portal\n</code></pre></li> <li>Exempt apps: -</li> <li>Required settings</li> <li>Windows Information Protection mode: <code>Block</code></li> <li>Corporate identity: <code>organisation.com.au</code></li> <li>Advanced settings</li> <li>Network perimeter<ul> <li>Type: <code>Cloud resources</code></li> <li>Name: <code>Office365</code></li> <li>Enterprise Proxy Servers list is authoritative (do not auto-detect): <code>Off</code></li> <li>Enterprise IP Ranges list is authoritative (do not auto-detect): <code>Off</code></li> <li>Value: <pre><code>                Organisation.sharepoint.com\n                Organisation-my.sharepoint.com\n                Organisation-files.sharepoint.com\n                tasks.office.com\n                protection.office.com\n                meet.lync.com\n                teams.microsoft.com\n                www.yammer.com\n                yammer.com\n                persona.yammer.com\n                outlook.office.com\n                outlook.office365.com\n                attachments.office.net\n                Organisation.crm.dynamics.com\n                Organisation.visualstudio.com\n                Organisation.powerbi.com\n</code></pre></li> </ul> </li> <li>Data protection<ul> <li>Upload a Data Recovery Agent (DRA) certificate to allow recovery of encrypted data: <code>Not configured</code></li> <li>Prevent corporate data from being accessed by apps when the device is locked. Applies only to Windows 10 Mobile: <code>Off</code></li> <li>Revoke encryption keys on unenroll: <code>On</code></li> <li>Show the enterprise data protection icon: <code>On</code></li> <li>Use Azure RMS for WIP: <code>Off</code></li> <li>Allow Windows Search Indexer to search encrypted items: <code>On</code></li> <li>Encrypted file extensions: -</li> </ul> </li> <li>Assignments</li> <li>Included groups: <code>rol-Organisation-administrators</code>, <code>rol-Organisation-users</code></li> <li>Excluded groups: -</li> <li>Scope tags: <code>Default</code></li> </ul> <p><code>Microsoft Endpoint Manager &gt; Client apps &gt; App protection policies &gt; iOS App Protection Policy &gt; Properties</code></p> <ul> <li>Name: <code>iOS App Protection Policy</code></li> <li>Description: <code>App management for Apple</code></li> <li>Platform: <code>iOS/iPadOS</code></li> <li>Apps</li> <li>Target to apps on all device types: <code>Yes</code></li> <li>Device types: -</li> <li>Public apps: <pre><code>                    Adobe Acrobat Reader\n                    Microsoft Dynamics 365\n                    Microsoft Dynamics 365 for phones\n                    Skype for Business\n                    Microsoft Excel\n                    Microsoft Edge\n                    Microsoft Outlook\n                    Microsoft PowerPoint\n                    Microsoft Word\n                    Microsoft OneNote\n                    Microsoft Planner\n                    Microsoft Power BI\n                    Azure Information Protection\n                    Microsoft SharePoint\n                    Microsoft OneDrive\n                    Microsoft Teams\n                    Microsoft Stream\n                    Microsoft To-Do\n                    Microsoft Visio Viewer\n</code></pre></li> <li>Custom apps: <pre><code>                    com.adobe.acrobatdc.intune\n                    com.microsoft.rdc.ios  Microsoft Dynamics 365\n</code></pre></li> <li>Data protection</li> <li>Data Transfer<ul> <li>Backup org data to iTunes and iCloud backups: <code>Block</code></li> <li>Send org data to other apps: <code>Policy managed apps</code></li> <li>Select apps to exempt:</li> <li>Name 1: <code>Default</code></li> <li>Value 1: <code>tel;telprompt;skype;app-settings;calshow;itms;itmss;itms-apps;itms-appss;itms-services;</code></li> <li>Name 2: <code>Apple Maps</code></li> <li>Value 2: <code>maps</code></li> <li>Name 3: <code>Google Maps</code></li> <li>Value 3: <code>comgooglemaps</code></li> <li>Save copies of org data: <code>Block</code></li> <li>Allow user to save copies to selected services: <code>OneDrive for Business</code>, <code>SharePoint</code></li> <li>Receive data from other apps: <code>Policy managed apps</code></li> <li>Restrict cut, copy, and paste between other apps: <code>Policy managed apps with paste in</code></li> <li>Cut and copy character limit for any app: <code>0</code></li> <li>Third party keyboards: <code>Block</code></li> </ul> </li> <li>Encryption<ul> <li>Encrypt org data: <code>Require</code></li> </ul> </li> <li>Functionality<ul> <li>Sync app with native contacts app: <code>Block</code></li> <li>Printing org data: <code>Block</code></li> <li>Restrict web content transfer with other apps: <code>Microsoft Edge</code></li> <li>Org data notifications: <code>Block org Data</code></li> </ul> </li> <li>Access requirements</li> <li>PIN for access: <code>Require</code></li> <li>PIN type: <code>Numeric</code></li> <li>Simple PIN: <code>Block</code></li> <li>Select minimum PIN length: <code>4</code></li> <li>Touch ID instead of PIN for access (iOS 8+/iPadOS): <code>Block</code></li> <li>PIN reset after number of days: <code>Yes</code></li> <li>Number of days: <code>365</code></li> <li>App PIN when device PIN is set: <code>Require</code></li> <li>Work or school account credentials for access: <code>Require</code></li> <li>Recheck the access requirements after (minutes of inactivity): <code>30</code></li> <li>Conditional launch</li> </ul> Setting Value Action Max PIN attempts 5 Reset PIN Offline grace period 720 Block access (minutes) Offline grace period 90 Wipe data (days) Jailbroken/rooted devices Block access Min OS version 12.0 Block access <ul> <li>Assignments</li> <li>Included groups: <code>rol-Organisation-administrators</code>, <code>rol-Organisation-users</code></li> <li>Excluded groups: <code>grp-Windows-10-Devices</code></li> <li>Scope tags: <code>Default</code></li> </ul>"},{"location":"as-built-as-configured/platform/#threat-protection","title":"Threat protection","text":""},{"location":"as-built-as-configured/platform/#microsoft-defender-for-endpoint","title":"Microsoft Defender for Endpoint","text":"<p>The following ABAC settings outlines the Microsoft Defender for Endpoint policy configuration for all implementation types.</p> <p><code>Microsoft 365 Defender &gt; Settings &gt; Endpoints</code></p>"},{"location":"as-built-as-configured/platform/#general","title":"General","text":"<ul> <li>Data retention</li> <li>Data Storage: <code>US</code></li> <li>Data Retention: <code>180 days</code></li> <li>Email notifications: <code>Not Configured</code></li> <li>Advanced features</li> <li>Automated Investigation: <code>On</code></li> <li>Live Response: <code>On</code></li> <li>Live Response for Servers: <code>On</code></li> <li>Live Response unsigned script execution: <code>Off</code></li> <li>Restrict correlation to within scoped device groups: <code>Off</code></li> <li>Enable EDR in block mode: <code>On</code></li> <li>Automatically Resolve Alerts: <code>On</code></li> <li>Allow or block file: <code>On</code></li> <li>Custom network indicators: <code>On</code></li> <li>Tamper protection: <code>On</code></li> <li>Show user details: <code>On</code></li> <li>Skype for Business integration: <code>On</code></li> <li>Microsoft Defender for Identity integration: <code>On</code></li> <li>Office 365 Threat Intelligence connection: <code>On</code></li> <li>Microsoft Defender for Cloud Apps: <code>On</code></li> <li>Microsoft Secure Score: <code>On</code></li> <li>Web content filtering: <code>On</code></li> <li>Download quarantined files: <code>On</code></li> <li>Share endpoint alerts with Microsoft Compliance Center: <code>On</code></li> <li>Microsoft Intune connection: <code>On</code></li> <li>Device discovery: <code>On</code></li> <li>Preview features: <code>On</code></li> <li>Microsoft Threat Expert: <code>Not configured</code></li> <li>Auto remediation</li> </ul> Rank Device group Remediation level 1 Windows 10 Full - Remediate threats automatically Last Ungrouped devices (default) Full - Remediate threats automatically"},{"location":"as-built-as-configured/platform/#permissions","title":"Permissions","text":"<ul> <li>Roles</li> <li>Microsoft Defender for Endpoint administrator (default)<ul> <li>Assigned user groups: <code>rol-Organisation-security-defenderatp-admins</code></li> </ul> </li> <li>Microsoft Defender for Endpoint Viewer<ul> <li>Description: <code>Viewer privileges</code></li> <li>View Data</li> <li>Security operations</li> <li>Threat and vulnerability management</li> <li>Assigned user groups: <code>rol-Organisation-security-defenderatp-viewer</code></li> </ul> </li> <li>Microsoft Defender for Endpoint Remediation<ul> <li>Description: <code>Investigate and remediate alerts</code></li> <li>View Data</li> <li>Security operations</li> <li>Threat and vulnerability management</li> <li>Active remediation actions</li> <li>Security operations</li> <li>Threat and vulnerability management - Exception handling</li> <li>Threat and vulnerability management - Remediation handling</li> <li>Alerts investigation</li> <li>Live response capabilities</li> <li>Advanced</li> <li>Assigned user groups: <code>rol-Organisation-security-defenderatp-remediation</code></li> </ul> </li> <li>Device groups</li> <li>Device group name: <code>Windows 10</code><ul> <li>Rank: <code>1</code></li> <li>Automation level: <code>Full - Remediate threats automatically</code></li> <li>Members: <pre><code>Name Starts with &lt;Organisation 3 characters&gt;\nAnd Domain Starts with &lt;Not configured&gt;\nAnd Tag: Starts with &lt;Not configured&gt;\nAnd OS In &lt;Not configured&gt;\n</code></pre></li> <li>User access</li> <li>Azure AD user groups with access to this machine group: <code>rol-Organisation-security-defenderatp-admins</code>, <code>rol-Organisation-security-defenderatp-viewer</code>, <code>rol-Organisation-security-defenderatp-remediation</code></li> </ul> </li> <li>Device group name: <code>Ungrouped devices (default)</code><ul> <li>Rank: <code>Last</code></li> <li>Automation level: <code>Full - Remediate threats automatically</code></li> <li>User access</li> <li>Azure AD user groups with access to this machine group: <code>rol-Organisation-security-defenderatp-admins</code>, <code>rol-Organisation-security-defenderatp-viewer</code>, <code>rol-Organisation-security-defenderatp-remediation</code> </li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#apis","title":"APIs","text":"<ul> <li>SIEM</li> <li>General<ul> <li>Application URI: <code>https://WindowsDefenderATPSiemConnector</code></li> <li>Client ID: <code>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code></li> <li>Authorisation server URL: <code>https://login.windows.net/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/oauth2/token</code></li> <li>Resource: <code>https://graph.windows.net</code></li> <li>Client secret: <code>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code></li> <li>Choose the SIEM you want to configure and download details to file.: <code>&lt;Organisation SIEM&gt;</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#rules","title":"Rules","text":"<ul> <li>Custom detections: <code>Not configured</code></li> <li>Alert suppression: <code>Not configured</code></li> <li>Indicators: <code>Not configured</code></li> <li>Process Memory Indicators: <code>Not configured</code></li> <li>Web content filtering</li> <li>Policy name: <code>Adult Sites</code><ul> <li>Blocked categories: <pre><code>Cults\nGambling\nNudity\nPornography/Sexually explicit\nSex education\nTasteless\nViolence\n</code></pre></li> <li>Scope: <code>All devices</code></li> </ul> </li> <li>Policy name: <code>High Traffic Sites</code><ul> <li>Blocked categories: <pre><code>Download sites\nImage sharing\nPeer-to-peer\nStreaming media &amp; downloads\n</code></pre></li> <li>Scope: <code>All devices</code></li> </ul> </li> <li>Policy name: <code>Legal Liability</code><ul> <li>Blocked categories: <pre><code>Child abuse images\nCriminal activitiy\nHacking\nHate &amp; intolerance\nIllegal drug\nIllegal software\nSchool cheating\nSelf-harm\nWeapons\n</code></pre></li> <li>Scope: <code>All devices</code></li> </ul> </li> <li>Automation uploads</li> <li>Content analysis: <code>On</code></li> <li>File extension names: <code>wsf,tcl,sys,scr,'',job,ws,ko.gz,vbe,bat,ps1,vb,com,air,cpl,exe,rb,cmd,msi,url,reg,gadget,dll,ko,js,pl,sh,rgs,inf,vbs,elf,py</code></li> <li>Memory Content Analysis: <code>On</code></li> <li>Automation folder exclusions: <code>Not configured</code></li> </ul>"},{"location":"as-built-as-configured/platform/#device-management","title":"Device management","text":"<ul> <li>Onboarding</li> <li>Select operating system to start offboarding process: <code>Windows 10</code></li> <li>Deployment method: <code>Intune</code></li> <li>Offboarding</li> <li>Select operating system to start offboarding process: <code>Windows 10</code></li> <li>Deployment method: <code>Intune</code></li> </ul>"},{"location":"as-built-as-configured/platform/#microsoft-defender-for-cloud-apps","title":"Microsoft Defender for Cloud Apps","text":"<p>The following ABAC settings outlines the Microsoft Defender for Cloud Apps configuration for all implementation types.</p> <p><code>https://portal.cloudappsecurity.com/ &gt; Settings</code></p> <ul> <li>System</li> <li>Organization details<ul> <li>Organizations display name: <code>Organisation</code></li> <li>Environment name: <code>Organisation ENVIRONMENT NAME</code></li> <li>Managed Domains: <code>organisation.onmicrosoft.com</code>, <code>organisation.com.au</code></li> </ul> </li> <li>Mail settings<ul> <li>Email sender identity: <code>Default settings</code></li> </ul> </li> <li>Export settings<ul> <li>Export settings: <code>None</code></li> </ul> </li> <li>Automatic sign out<ul> <li>Sign out when a user is inactive for: <code>After 15 Minutes</code></li> </ul> </li> <li>Cloud Discovery</li> <li>Snapshot reports: <code>Not configured</code></li> <li>Continuous reports<ul> <li>Report name: <code>Application Group</code></li> <li>Comment: <code>This report captures information on the User Group Application (Cloud App Security)</code></li> <li>Data sources: <code>All data sources</code></li> <li>Filters: <code>User Group &gt; Application (Defender for Cloud Apps)</code></li> <li>Report name: <code>External Users</code></li> <li>Comment: <code>This report captures information on the External Users group</code></li> <li>Data sources: <code>All data sources</code></li> <li>Filters: <code>User Group &gt; External users</code></li> <li>Report name: <code>Windows 10 Endpoint Users</code></li> <li>Comment: <code>This report will capture information for Windows 10 Endpoint users.</code></li> <li>Data sources: <code>Win10 Endpoint Users</code></li> <li>Report name: <code>Cloud App Security Conditional Access App Control</code></li> <li>Comment: <code>Cloud App Security Conditional Access App Control</code></li> <li>Data sources: <code>Cloud App Security Proxy</code></li> </ul> </li> <li>Automatic log upload<ul> <li>Data sources</li> <li>Name: <code>Win10 Endpoint Users</code><ul> <li>Source: <code>Windows Defender Advanced Threat Protection</code></li> <li>Receiver type: <code>Built-in</code></li> </ul> </li> <li>Name: <code>Cloud App Security Proxy</code><ul> <li>Source: <code>Cloud App Security Conditional Access App Control</code></li> <li>Receiver type: <code>Built-in</code></li> </ul> </li> <li>Log collectors: <code>Not configured</code></li> </ul> </li> <li>App tags<ul> <li>Sanctioned: <pre><code>Microsoft Exchange Online\nMicrosoft Teams\nMicrosoft SharePoint Online\nMicrosoft Skype for Business\nOffice 365\nMicrosoft Power BI\nMicrosoft OneDrive for Business\nMicrosoft Defedner for Cloud Apps\nMicrosoft Azure\nActive Directory\n</code></pre></li> <li>Unsanctioned: <code>Not configured</code></li> <li>Monitored: <code>Not configured</code></li> <li>Restricted: <code>Not configured</code></li> </ul> </li> <li>Exclude entities: <code>Not configured</code></li> <li>Microsoft Defender for Endpoint<ul> <li>Block unsanctioned apps: <code>Checked</code></li> </ul> </li> <li>User enrichment<ul> <li>Enrich discovered user identifiers with Azure Active Directory usernames: <code>Checked</code></li> </ul> </li> <li>Anonymization: <code>Not configured</code></li> <li>Threat Protection</li> <li>Microsoft Defender for Identity integration: <code>Checked</code></li> <li>Azure AD Identity Protection: <code>Checked</code></li> <li>App Governance: <code>Not configured</code></li> <li>Information Protection</li> <li>Admin quarantine folder location: <code>https://organisation.sharepoint.com/sites/quarantine</code></li> <li>User notification: <code>Not configured</code></li> <li>Microsoft Information Protection<ul> <li>Automatically scan new files for Microsoft Information Protection classification labels and content inspection warnings: <code>Checked</code></li> <li>Only scan files for Microsoft Information Protection classification labels and content inspection warnings from this tenant: <code>Checked</code></li> </ul> </li> <li>Files<ul> <li>Enable file monitoring: <code>Enabled</code></li> </ul> </li> <li>Conditional Access App Control</li> <li>Default behavior<ul> <li>During system downtime: <code>Allow access</code></li> </ul> </li> <li>User monitoring: <code>Not configured</code></li> <li>Device identification: <code>Not configured</code></li> </ul> <p><code>Settings (Cog) &gt; Manage admin access</code></p> <ul> <li>User: <code>&lt;Organisation User&gt;</code></li> <li>Email: <code>&lt;Organisation_username&gt;@organisation.com.au</code></li> <li>Role: <code>Global Admin</code></li> <li>Permission: <code>Full access</code></li> </ul> <p><code>Settings (Cog) &gt; User groups</code></p> User Type Source app Status Office 365 administrator Automatic Office 365 Imported successfully External users Automatic All apps Imported successfully Application (Defender for Cloud Apps) Automatic All apps Imported successfully <p><code>Settings (Cog) &gt; App connectors</code></p> Application Status Selected Components Office 365 (Collaboration) Connected Azure AD Users and groupsAzure AD Management eventsAzure AD Sign-in eventsAzure AD AppsOffice 365 activitiesOffice 365 files Microsoft Azure (Cloud computing platform) Connected Not Applicable <p><code>Settings (Cog) &gt; Security extensions</code></p> <ul> <li>API tokens: <code>Not configured</code></li> <li>External DLP: <code>Not configured</code></li> <li>Playbooks: <code>Not configured</code></li> </ul> <p><code>Home &gt; Control &gt; Policy</code></p> <ul> <li>Default Policies Active: <code>26</code></li> <li>Default Policies Disabled: <code>3</code></li> <li>Create activity policy</li> <li>Policy name: <code>Break Glass Account 1 Activity</code></li> <li>Policy severity: <code>Medium</code></li> <li>Category: <code>Privileged accounts</code></li> <li>Description: <code>This policy monitors break glass account called \"break.glass_priv1@organisation.onmicrosoft.com\" for all logon activity</code></li> <li>Account to monitor: <code>break.glass_priv1@organisation.onmicrosoft.com</code></li> <li>Act on activity: <code>Single activity</code></li> <li>Policy Filters<ul> <li>Office 365 <pre><code>SAS:EndAuth\nWindowsAuthenticationController:usernamemixed\nOrgIdWsTrust2:extsts\nWindowsAuthenticationController:sso\nDebugMode:Set\nFederation:oauth2claimsprovider\nForeignRealmIndexLogonInitialAuthUsingSAML20PostSimpleSign\nSSO Logon\nbind:BindComplete\nOAuth2:Authorize\nFederation:oauth2msa\nWsFederation:wsfederation\nOAuth2:Token\nFederation:oauth2\nbind:Bind\nOrgIdWsFederation:federation\nLOGIN\nUserInfo:Index\nForeignRealmIndexLogonInitialAuthUsingADFSFederatedToken\nDeviceAuth:ReprocessTls\nKeyDataService:GetKeyData\nWindowsAuthenticationController:windowstransport\nPasswordLogonCookieCopyUsingDAToken\nLogin:login\nSAS:ProcessAuth\nConsent:Set\nLogin:resume\nSaml2:processrequest\nPIA:PIAProcessAuth\nOAuth2:DeviceAuth\ncmsi:Cmsi\nPasswordLogonSilentReAuthUsingDAToken\nForeignRealmIndexLogonCookieCopyUsingDAToken\nOAuth2:ApproveSession\nConsent:Grant\nLogin:reprocess\nMessagePrompt:MessagePrompt\nOrgIdWsFederation:postsrfactionhandler\nDeviceAuth:PKeyAuth\nSAS:BeginAuth\nOrgIdWsTrust2:process\nPasswordLogonInitialAuthUsingPassword\nForeignRealmIndexLogonCookieCopyUsingSha1RememberMyPassword\nkmsi:kmsi\nSSPR:end\nWindowsAuthenticationController:sso\nPasswordLogonInitialAuthUsingADFSFederatedToken\nDeviceAuth:ReprocessTls\nKeyDataService:GetKeyData\nOrgIdWsTrust2:extsts\nOAuth2:Authorize\nSidToName:SidToName\nSAS:ProcessAuth\n</code></pre></li> <li>Azure <pre><code>OAuth2:DeviceAuth\nSAS:BeginAuth\nPIA:PIAProcessAuth\nDeviceAuth:ReprocessTls\nKeyDataService:GetKeyData\nOAuth2:Token\nLogin:reprocess\nMessagePrompt:MessagePrompt\nFederation:oauth2claimsprovider\nFederation:oauth2\nConsent:Grant\nLogin:reprocess\nSAS:EndAuth\nOrgIdWsFederation:postsrfactionhandler\nLogin:login\nbind:Bind\nSAS:ProcessAuth\nSSPR:end\nWindowsAuthenticationController:usernamemixed\nOAuth2:DeviceAuth\nOAuth2:ApproveSession\nWsFederation:wsfederation\nKeyDataService:GetKeyData\nConsent:Set\nOAuth2:Token\nLOGIN\nPIA:PIAProcessAuth\nDeviceAuth:PKeyAuth\nOrgIdWsFederation:federation\nLogin:resume\nkmsi:kmsi\nLOGIN\n</code></pre></li> <li>Microsoft <pre><code>OAuth2:DeviceAuth\nLogin:resume\nConsent:Grant\nSAS:BeginAuth\nWsFederation:wsfederation\nOAuth2:Authorize\nSaml2:processrequest\nlogin\nLogin:reprocess\nFederation:oauth2claimsprovider\nFederation:oauth2\nOrgIdWsTrust2:process\nkmsi:kmsi\nSAS:EndAuth\nLOGIN\nLogin:login\nDeviceAuth:ReprocessTls\nMessagePrompt:MessagePrompt\nSAS:ProcessAuth\nConsent:Set\nWindowsAuthenticationController:usernamemixed\n</code></pre></li> </ul> </li> <li>Alerts<ul> <li>Create an alert for each matching event with the policy's severity: <code>Configured</code></li> <li>Send alert as email: <code>Not configured</code></li> <li>Send alert as text message: <code>Not configured</code></li> <li>Send alerts to Power Automate: <code>Not configured</code></li> </ul> </li> <li>Governance actions<ul> <li>All apps: <code>Not configured</code></li> <li>Office 365: <code>Not configured</code></li> </ul> </li> <li>Create activity policy</li> <li>Policy name: <code>Break Glass Account 2 Activity</code></li> <li>Policy severity: <code>Medium</code></li> <li>Category: <code>Privileged accounts</code></li> <li>Description: <code>This policy monitors break glass account called \"break.glass_priv2@organisation.onmicrosoft.com\" for all logon activity</code></li> <li>Account to monitor: <code>break.glass_priv2@organisation.onmicrosoft.com</code></li> <li>Act on activity: <code>Single activity</code></li> <li>Policy Filters<ul> <li>Office 365 <pre><code>SAS:EndAuth\nWindowsAuthenticationController:usernamemixed\nOrgIdWsTrust2:extsts\nWindowsAuthenticationController:sso\nDebugMode:Set\nFederation:oauth2claimsprovider\nForeignRealmIndexLogonInitialAuthUsingSAML20PostSimpleSign\nSSO Logon\nbind:BindComplete\nOAuth2:Authorize\nFederation:oauth2msa\nWsFederation:wsfederation\nOAuth2:Token\nFederation:oauth2\nbind:Bind\nOrgIdWsFederation:federation\nLOGIN\nUserInfo:Index\nForeignRealmIndexLogonInitialAuthUsingADFSFederatedToken\nDeviceAuth:ReprocessTls\nKeyDataService:GetKeyData\nWindowsAuthenticationController:windowstransport\nPasswordLogonCookieCopyUsingDAToken\nLogin:login\nSAS:ProcessAuth\nConsent:Set\nLogin:resume\nSaml2:processrequest\nPIA:PIAProcessAuth\nOAuth2:DeviceAuth\ncmsi:Cmsi\nPasswordLogonSilentReAuthUsingDAToken\nForeignRealmIndexLogonCookieCopyUsingDAToken\nOAuth2:ApproveSession\nConsent:Grant\nLogin:reprocess\nMessagePrompt:MessagePrompt\nOrgIdWsFederation:postsrfactionhandler\nDeviceAuth:PKeyAuth\nSAS:BeginAuth\nOrgIdWsTrust2:process\nPasswordLogonInitialAuthUsingPassword\nForeignRealmIndexLogonCookieCopyUsingSha1RememberMyPassword\nkmsi:kmsi\nSSPR:end\nWindowsAuthenticationController:sso\nPasswordLogonInitialAuthUsingADFSFederatedToken\nDeviceAuth:ReprocessTls\nKeyDataService:GetKeyData\nOrgIdWsTrust2:extsts\nOAuth2:Authorize\nSidToName:SidToName\nSAS:ProcessAuth\n</code></pre></li> <li>Azure <pre><code>OAuth2:DeviceAuth\nSAS:BeginAuth\nPIA:PIAProcessAuth\nDeviceAuth:ReprocessTls\nKeyDataService:GetKeyData\nOAuth2:Token\nLogin:reprocess\nMessagePrompt:MessagePrompt\nFederation:oauth2claimsprovider\nFederation:oauth2\nConsent:Grant\nLogin:reprocess\nSAS:EndAuth\nOrgIdWsFederation:postsrfactionhandler\nLogin:login\nbind:Bind\nSAS:ProcessAuth\nSSPR:end\nWindowsAuthenticationController:usernamemixed\nOAuth2:DeviceAuth\nOAuth2:ApproveSession\nWsFederation:wsfederation\nKeyDataService:GetKeyData\nConsent:Set\nOAuth2:Token\nLOGIN\nPIA:PIAProcessAuth\nDeviceAuth:PKeyAuth\nOrgIdWsFederation:federation\nLogin:resume\nkmsi:kmsi\nLOGIN\n</code></pre></li> <li>Microsoft <pre><code>OAuth2:DeviceAuth\nLogin:resume\nConsent:Grant\nSAS:BeginAuth\nWsFederation:wsfederation\nOAuth2:Authorize\nSaml2:processrequest\nlogin\nLogin:reprocess\nFederation:oauth2claimsprovider\nFederation:oauth2\nOrgIdWsTrust2:process\nkmsi:kmsi\nSAS:EndAuth\nLOGIN\nLogin:login\nDeviceAuth:ReprocessTls\nMessagePrompt:MessagePrompt\nSAS:ProcessAuth\nConsent:Set\nWindowsAuthenticationController:usernamemixed\n</code></pre></li> </ul> </li> <li>Alerts<ul> <li>Create an alert for each matching event with the policy's severity: <code>Configured</code></li> <li>Send alert as email: <code>Not configured</code></li> <li>Send alert as text message: <code>Not configured</code></li> <li>Send alerts to Power Automate: <code>Not configured</code></li> </ul> </li> <li>Governance actions<ul> <li>All apps: <code>Not configured</code></li> <li>Office 365: <code>Not configured</code></li> </ul> </li> </ul>"},{"location":"as-built-as-configured/platform/#cloud-discovery-score-metrics","title":"Cloud Discovery &gt; Score metrics","text":""},{"location":"as-built-as-configured/platform/#general_1","title":"General","text":"<ul> <li>Category importance: <code>Low (x1)</code></li> </ul> Field Importance N/A values Founded Medium (x2) Excluded N/As Holding Medium (x2) Excluded N/As Domain registration Medium (x2) Excluded N/As Consumer popularity Medium (x2) Excluded N/As"},{"location":"as-built-as-configured/platform/#security","title":"Security","text":"<ul> <li>Category importance: <code>Medium (x2)</code></li> </ul> Field Importance N/A values Data-at-rest encryption method Medium (x2) Excluded N/As Multi-factor authentication Medium (x2) Excluded N/As IP address restriction Medium (x2) Excluded N/As User audit trail Medium (x2) Excluded N/As Admin audit trail Medium (x2) Excluded N/As Data audit trail Medium (x2) Excluded N/As Data classification Medium (x2) Excluded N/As Data-at-rest encryption Medium (x2) Excluded N/As User-roles support Medium (x2) Excluded N/As Valid certificate name Medium (x2) Excluded N/As Trusted certificate Medium (x2) Excluded N/As Encryption protocol Medium (x2) Excluded N/As Heartbleed patched Medium (x2) Excluded N/As HTTP security headers Medium (x2) Excluded N/As Support SAML Medium (x2) Excluded N/As Enforce transport encryption Medium (x2) Excluded N/As Penetration Testing Medium (x2) Excluded N/As Requires user authentication Medium (x2) Excluded N/As Password Policy Medium (x2) Excluded N/As"},{"location":"as-built-as-configured/platform/#compliance","title":"Compliance","text":"<ul> <li>Category importance: <code>Medium (x2)</code></li> </ul> Field Importance N/A values FINRA Medium (x2) Excluded N/As FISMA Medium (x2) Excluded N/As GAAP Medium (x2) Excluded N/As HIPAA Medium (x2) Excluded N/As ISAE 3402 Medium (x2) Excluded N/As ISO 27001 Medium (x2) Excluded N/As ITAR Medium (x2) Excluded N/As SOC 1 Medium (x2) Excluded N/As SOC 2 Medium (x2) Excluded N/As SOC 3 Medium (x2) Excluded N/As SOX Medium (x2) Excluded N/As SSAE 16 Medium (x2) Excluded N/As Safe Harbor Medium (x2) Excluded N/As PCI DSS version Medium (x2) Excluded N/As ISO 27018 Medium (x2) Excluded N/As GLBA Medium (x2) Excluded N/As FedRAMP level Medium (x2) Excluded N/As CSA STAR level Medium (x2) Excluded N/As Privacy Shield Medium (x2) Excluded N/As ISO 27017 Medium (x2) Excluded N/As FFIEC Medium (x2) Excluded N/As"},{"location":"as-built-as-configured/platform/#legal","title":"Legal","text":"<ul> <li>Category importance: <code>Medium (x2)</code></li> </ul> Field Importance N/A values Data ownership Medium (x2) Excluded N/As DMCA Medium (x2) Excluded N/As Data retention policy Medium (x2) Excluded N/As GDPR \u2013 Report data breaches Medium (x2) Excluded N/As GDPR \u2013 Data protection Medium (x2) Excluded N/As GDPR \u2013 User ownership Medium (x2) Excluded N/As"},{"location":"as-built-as-configured/platform/#log-analytics","title":"Log Analytics","text":"<p>The following ABAC settings are required for Log Analytics log aggregation for Azure AD and Endpoint Manager. The Organisation requires an Azure subscription to support this configuration.</p> <p><code>https://portal.azure.com/ &gt; Log Analytics workspaces &gt; Create Log Analytics Workspace</code></p> <p>The following tables describe the Log Analytics settings that are configured within the Log Analytics Workspace for all implementation types.</p> Item Configuration Workspace Name Organisation-log-workspace Azure Subscription Organisation subscription Region Australia Central Log retention Retention Period: 1 yearData Volume Cap: Off Log Analytics Contributor Group rol-Organisation-log-admin"},{"location":"as-built-as-configured/platform/#microsoft-endpoint-manager","title":"Microsoft Endpoint Manager","text":"<p><code>Endpoint Manager admin center &gt; Reports &gt; Diagnostic settings</code> </p> Item Configuration Diagnostic Setting Name Send to Log Analytics Log AuditLogs SignInLogs NonInteractiveUserSignInLogs ServicePrincipalSignInLogs ManagedIdentitySignInLogs ProvisioningLogs Destination details Send to Log Analytics Workspace (Organisation-log-workspace)"},{"location":"as-built-as-configured/platform/#azure-active-directory_1","title":"Azure Active Directory","text":"<p><code>Azure Active Directory &gt; Monitoring &gt; Diagnostic settings</code></p> Item Configuration Diagnostic Setting Name Send to Log Analytics Log AuditLogs SignInLogs NonInteractiveUserSignInLogs ServicePrincipalSignInLogs ManagedIdentitySignInLogs ProvisioningLogsRiskyUsersUserRiskEvents Destination details Send to Log Analytics Workspace (Organisation-log-workspace)"},{"location":"as-built-as-configured/platform/#client-configuration","title":"Client configuration","text":""},{"location":"as-built-as-configured/platform/#intune-configuration","title":"Intune configuration","text":"<p>All Windows 10 client configuration is accomplished via Microsoft Intune policies for all implementation types. Hybrid implementation types may use a combination of Group Policy and MECM to configure clients in addition to Intune policies. These Intune configuration policies are detailed in separate documents that are explained in table below. </p> <p>The following table describes the additional Intune Configuration Documents required for the blueprint for all implementation types.</p> Section Description Document Name Device enrollment Automatic Enrolment, Enrolment Status page, Deployment Profiles ABAC - Intune Enrolment Device compliance Device compliance policies ABAC - Intune Compliance Device configuration Configuration Profiles, PowerShell scripts ABAC - Intune Configuration Device security Windows 10 Security Hardening (ACSC), Microsoft Defender Configuration, Microsoft Edge Configuration ABAC - Intune Configuration Client apps Win32 Apps, Web links, Windows MSI Line of Business apps, Office 365 installation, Windows Information Protection ABAC - Intune Applications Conditional Access Conditional Access policies ABAC - Conditional Access Policies Software Updates Windows 10 update rings and updates configuration ABAC \u2013 Intune Software Updates"},{"location":"as-built-as-configured/platform/#intune-co-management-configuration-hybrid-implementation-types-only","title":"Intune Co-management configuration (Hybrid implementation types only)","text":"<p>The following configuration is required for Intune Co-management is for Hybrid implementations only.</p> <p><code>Microsoft Endpoint Manager &gt; Quick Start &gt; Account Details</code></p> <ul> <li>Account Name: <code>organisation.com.au</code></li> <li>Account status: <code>Active</code></li> <li>Account location: <code>Australia 0101</code></li> </ul> <p><code>Azure Active Directory &gt; Mobility (MDM and MAM) &gt; Microsoft Intune</code></p> <ul> <li>MDM user scope: <code>All</code></li> <li>MDM terms of use URL: <code>https://portal.manage.microsoft.com/TermsofUse.aspx</code></li> <li>MDM discovery URL: <code>https://enrollment.manage.microsoft.com/enrollmentserver/discovery.svc</code></li> <li>MDM compliance URL: <code>https://portal.manage.microsoft.com/?portalAction=Compliance</code></li> <li>MAM user scope: <code>None</code></li> <li>MAM terms of use URL: <code>&lt;Blank&gt;</code></li> <li>MAM discovery URL: <code>https://wip.mam.manage.microsoft.com/Enroll</code></li> <li>MAM Compliance URL: <code>&lt;Blank&gt;</code></li> </ul> <p><code>Azure Active Directory &gt; Mobility (MDM and MAM) &gt; Microsoft Intune Enrollment</code></p> <ul> <li>MDM user scope: <code>All</code></li> <li>MDM terms of use URL: <code>https://portal.manage.microsoft.com/TermsofUse.aspx</code></li> <li>MDM discovery URL: <code>https://enrollment.manage.microsoft.com/enrollmentserver/discovery.svc</code></li> </ul> <p><code>MECM admin console &gt; About Microsoft Endpoint Configuration Manager</code></p> <ul> <li>Version: <code>2107</code></li> <li>SOE Name: <code>Intune Auto Enrolment</code></li> <li>Enrolled Device Types: <code>Windows 10 | Version 21H2 | Build 19044</code></li> </ul> <p><code>MECM admin console &gt; Administration &gt; Overview &gt; Cloud Services &gt; Co-management</code></p> <ul> <li>Name: <code>CoMgmtSettingsProd</code></li> <li>Description: <code>Co-management Production policy</code></li> <li>Tenant onboarding: <code>AzurePublicCloud</code></li> <li>Enablement</li> <li>Automatic enrollment in Intune: <code>All</code></li> <li>Workloads</li> <li>Compliance policies: <code>Intune</code></li> <li>Device Configuration: <code>Configuration Manager</code></li> <li>Endpoint Protection: <code>Configuration Manager</code></li> <li>Resource access policies: <code>Configuration Manager</code></li> <li>Office Click-to-run apps: <code>Configuration Manager</code></li> <li>Windows Update policies: <code>Configuration Manager</code></li> </ul> <p><code>MECM admin console &gt; Monitoring &gt; Overview &gt; Co-Management</code></p> <p>Co-Management monitor screen is showing </p> <ul> <li>Green for Client OS Distribution,</li> <li>Blue for Co-management Enrollment Status</li> </ul> <p></p>"},{"location":"as-built-as-configured/platform/#printing","title":"Printing","text":"<p>The following table outlines the client printing configuration per implementation type.</p> Implementation Item Configuration All Printer addition restrictions Device Restrictions Intune Policy will be used to prevent addition and delivery of new printers via DNS name of printer: <code>Endpoint Manager Admin center &gt; Devices &gt; Device Restrictions &gt; Printer &gt; Add New Printers: Block</code> All Shared Printer Connections Prevent user install via Intune policy CSP: <code>Devices_PreventUsersFromInstallingPrinterDriversWhenConnectingToSharedPrinters</code> Cloud-native Driver Delivery Intune application deployment (*.intunewin) via script or native printer installation utility will be used for printer driver installation. Hybrid Driver Delivery Existing MECM solution will be utilised in driver delivery for local printers. Point to Print is enabled through GPO for printer driver installation from network printer queues. All External Printer Connectivity External Printer Connectivity will be via an Always On VPN. All Hybrid Cloud Print Not Configured."},{"location":"as-built-as-configured/platform/#end-user-internet-access","title":"End user internet access","text":"<p>The following table outlines the client internet access configuration scenarios per implementation type.</p> Implementation Item Configuration All Internet Access Mechanism As per Organisation pattern for Internet access. All Web Proxy  Configuration Proxy can be configured in Intune via the NetworkProxyCSP: <code>*./Vendor/MSFT/NetworkProxy</code> or depending on the Organisation internet access pattern. Cloud-native DNS Provider Existing on-premises Active Directory DNS services will be utilised. Hybrid DNS Provider As per Organisation pattern for DNS services. All Office 365 Endpoint connectivity As per Organisation pattern for internet browser connectivity. Optimisation of traffic is required and recommended, see Office 365 URLs and IP address ranges for which categories are recommended for optimisation, and those that are compatible with ExpressRoute (if applicable). Cloud-native Office 365 Authentication Traffic Configured to traverse the web proxy (if part of Organisation pattern). Cloud-native implementation types without a proxy that supports SSL inspection will not be able to implement tenancy whitelisting feature. Hybrid Office 365 Authentication Traffic Existing on-premises proxy will be utilised for Hybrid implementation types. Cloud Windows Updates Client Devices will retrieve updates direct from Microsoft. Windows Update for Business Update Rings are configured in Intune as per the Software Updates ABAC. Hybrid Windows Updates Existing MECM/WSUS solution will be utilised for update retrieval.Hybrid Agencies may wish to transition over to Windows Update Rings in Intune (Windows Update for Business) by moving the Windows Update Policy slider to Intune. For more information on this configuration pattern see Windows Update for Business with management solutions."},{"location":"as-built-as-configured/platform/#application-control","title":"Application control","text":"<p>The ABAC settings for the Organisation Application Control can be found below. Please note, if a setting is not mentioned below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/platform/#windows-defender-application-control","title":"Windows Defender Application Control","text":""},{"location":"as-built-as-configured/platform/#mecm-managed-installer-hybrid-implementation-types","title":"MECM managed installer (Hybrid implementation types)","text":"<p>The ABAC settings for MECM managed installer are applicable to hybrid implementation types only.</p> <ul> <li>Device Collection</li> <li>Name: <code>WDAC-DeploymentCollection</code></li> <li>Description: <code>Collection used to deploy Managed Installer WDAC policy</code></li> <li>Limiting collection: <code>All Desktop and Server Clients</code></li> <li>Membership Rule<ul> <li>Type: <code>Query rule</code></li> <li>Name: <code>Windows 10 Machine Query</code></li> <li>Query: <code>select SMS_R_SYSTEM.ResourceID, SMS_R_SYSTEM.ResourceType, SMS_R_SYSTEM.Name, SMS_R_SYSTEM.SMSUniqueIdentifier, SMS_R_SYSTEM.ResourceDomainORWorkgroup, SMS_R_SYSTEM.Client from SMS_R_System where SMS_R_System.OperatingSystemNameandVersion like \"%Workstation%\" and SMS_R_System.OperatingSystemNameandVersion like \"%10.0%\"</code></li> </ul> </li> <li>Use incremental updates for this collection: <code>enabled</code></li> <li>Schedule a full update on this collection: <code>enabled</code></li> <li>Application Control Policy</li> <li>Name: <code>Organisation-WDAC-ManagedInstaller</code></li> <li>Description: -</li> <li>Enforcement mode: <code>Enforcement enabled - Only allow trusted executables to run</code></li> <li>Authorize software that is trusted by the Intelligent Security Graph: <code>Disabled</code></li> <li>Trusted files or folders: <code>Add as required</code></li> <li>Deployment collection: <code>WDAC-DeploymentCollection</code></li> <li>Schedule: <code>Simple schedule</code></li> </ul>"},{"location":"as-built-as-configured/platform/#intune-wdac-base-policy","title":"Intune WDAC Base Policy","text":"<p>For all implementation types, it is recommended to deploy WDAC configuration through Intune configuration profiles:</p> <ul> <li>ABAC configuration for this item can be found within the Intune Configuration ABAC.</li> <li>Instructions on generating base policy that is used to generate the binary format policy file can be found within the Client Devices ABAC.</li> </ul> <p>Configuration Profiles using Custom OMA-URI policy:</p> <ul> <li>OMA-URI: <code>./Vendor/MSFT/ApplicationControl/Policies/*Policy GUID*/Policy</code></li> <li>Data type: <code>Base64</code></li> <li>Certificate file: upload the binary format policy file. You do not need to upload a Base64 file, as Intune will convert the uploaded .bin file to Base64.</li> </ul> <p>Note, the Policy GUID can be found within the policy file's <code>&lt;policyID&gt;</code> xml block which can be viewed prior to converting to .bin format using <code>ConvertFromCIPolicy</code>. Additional policies as supplementals can be deployed using this method rather than maintaining a larger base policy.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/","title":"Wdac policy creation","text":""},{"location":"as-built-as-configured/wdac-policy-creation/#wdac-policy-creation","title":"WDAC policy creation","text":"<p>9 minutes to read - 30 March 2023</p> <p>The following guide includes instructions on how to generate the Windows Defender Application Control (WDAC) configuration for all implementation types. </p> <p>Please note, if a setting is not mentioned in the below, it should be assumed to have been left at its default setting.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/#application-control","title":"Application control","text":"<p>WDAC utilises one or more policies to define what drivers and files are whitelisted to run on a Windows 10 devices. Multiple policies can only be leveraged when the policies are deployed utilising Microsoft Endpoint Manager and the Application Control Configuration Service Provider (CSP). Multiple policies will not work on machines pre 1903. When multiple policy files are leveraged they fall into one of the following scenarios:</p> <ul> <li>Enforce and Audit Side-by-side - A base policy configured to enforce and a second base policy configured to audit. This is used to test a new base policy prior to enforcement.</li> <li>Multiple Base Policies Enforced - Two or more base policies configured in enforce mode. For applications to run they must be whitelisted in both.</li> <li>Supplementary Policies - A base policy and one or more supplementary policies in enforce mode. For applications to run they must only be whitelisted in one of the policies.  </li> </ul> <p>These WDAC policies can be signed to ensure that they cannot be tampered with. Details on signing policy can be found in the WDAC policy - policy signing section.</p> <p>Once implemented, the procedure to remove one or more WDAC policies can be found in the WDAC policy - removal section.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/#wdac-policy-baseline","title":"WDAC policy - baseline","text":"<p>The base policy contains the whitelist for the operating system, base applications, and drivers. It can be generated based upon an existing image (i.e a gold image) or leveraging a predefined Microsoft baseline.  </p> <p></p>"},{"location":"as-built-as-configured/wdac-policy-creation/#gold-image-base","title":"Gold image base","text":"<p>A base policy generated from a gold image machine should only be utilised where all Windows 10 machines in the environment utilise the same image. The procedure to generate the policy is as follows:</p> <ol> <li>Deploy the image to a standard organisational Windows 10 device.</li> <li>Ensure all standard software is installed (e.g. Microsoft Office).</li> <li>Verify all drivers are signed (This can be completed utilising sigverif)</li> <li>Using an administrative PowerShell session run <pre><code>$PolicyPath=$env:userprofile+\"\\Desktop\\\"\n$PolicyName=\"GoldImagePolicy\"\n$WDACPolicy=$PolicyPath+$PolicyName+\".xml\"\nNew-CIPolicy -Level Publisher -FilePath $WDACPolicy -UserPEs 3&gt; CIPolicyLog.txt -Fallback hash\n</code></pre></li> <li>Review the CIPolicy.txt file for any items which could not be whitelisted.</li> <li>Using an administrative PowerShell session run <pre><code>Set-RuleOption -FilePath $WDACPolicy -Option 0 # Enabled UMCI\nSet-RuleOption -FilePath $WDACPolicy -Option 1 # Enable Boot Menu Protection\nSet-RuleOption -FilePath $WDACPolicy -Option 2 # Require WHQL\nSet-RuleOption -FilePath $WDACPolicy -Option 3 # Enable Audit Mode\nSet-RuleOption -FilePath $WDACPolicy -Option 4 # Disable Flight Signing\nSet-RuleOption -FilePath $WDACPolicy -Option 6 # Enable Unsigned Policy\nSet-RuleOption -FilePath $WDACPolicy -Option 8 # Require EV Signers\nSet-RuleOption -FilePath $WDACPolicy -Option 10 # Enable Boot Audit on Failure\nSet-RuleOption -FilePath $WDACPolicy -Option 12 # Enable Enforce Store Apps\nSet-RuleOption -FilePath $WDACPolicy -Option 13 # Enable Managed Installer\nSet-RuleOption -FilePath $WDACPolicy -Option 16 # Enable No Reboot\nSet-RuleOption -FilePath $WDACPolicy -Option 17 # Enable Allow Supplemental\nSet-RuleOption -FilePath $WDACPolicy -Option 19 # Enable Dynamic Code Security\n</code></pre></li> <li>Deploy the file locally in audit mode and validate no additional files require whitelisting <pre><code>$WDACPolicyCIP=$PolicyPath+\"{&lt;Policy GUID&gt;}.cip\"\nConvertFrom-CIPolicy $WDACPolicy $WDACPolicyCIP\nCopy-Item $WDACPolicyCIP \"&lt;OS Volume&gt;\\Windows\\System32\\CodeIntegrity\\CIPolicies\\Active\\{&lt;Policy GUID&gt;}.cip\"\n</code></pre></li> <li>Using an administrative PowerShell session run the following to switch the policy into enforce mode <pre><code>Set-RuleOption -FilePath $WDACPolicy -Option 3 -Delete\n</code></pre></li> <li>Deploy the file locally in enforce mode and validate no additional files require whitelisting</li> <li>Deploy the file globally </li> </ol>"},{"location":"as-built-as-configured/wdac-policy-creation/#predefined-microsoft-base","title":"Predefined Microsoft base","text":"<p>Microsoft have developed a number of base policies which provide the whitelisting rules for a standard Windows 10 image. These base policies are located on any Windows 10 machine under <code>%windir%\\schemas\\CodeIntegrity\\ExamplePolicies</code>. Within that directory, the policy titled <code>DefaultWindows_Audit.xml</code> should be leveraged as the base policy. It includes the rules necessary to ensure that Windows, 3rd party hardware and software kernel drivers, and Windows Store apps will run.  </p> <p>The procedure to leverage this policy is as follows:</p> <ol> <li>Make a copy of the policy and place it into a working directory (i.e. My documents)</li> <li>Open the policy in a XML editor such as Visual Studio code or notepad.</li> <li>Remove all flighting related signers (note they will also need to be removed from the signing scenarios)</li> <li>Using an administrative PowerShell session run <pre><code>$WDACPolicy = {path to policy file}\nSet-RuleOption -FilePath $WDACPolicy -Option 0 # Enabled UMCI\nSet-RuleOption -FilePath $WDACPolicy -Option 1 # Enable Boot Menu Protection\nSet-RuleOption -FilePath $WDACPolicy -Option 2 # Require WHQL\nSet-RuleOption -FilePath $WDACPolicy -Option 3 # Enable Audit Mode\nSet-RuleOption -FilePath $WDACPolicy -Option 4 # Disable Flight Signing\nSet-RuleOption -FilePath $WDACPolicy -Option 6 # Enable Unsigned Policy\nSet-RuleOption -FilePath $WDACPolicy -Option 8 # Require EV Signers\nSet-RuleOption -FilePath $WDACPolicy -Option 10 # Enable Boot Audit on Failure\nSet-RuleOption -FilePath $WDACPolicy -Option 12 # Enable Enforce Store Apps\nSet-RuleOption -FilePath $WDACPolicy -Option 13 # Enable Managed Installer\nSet-RuleOption -FilePath $WDACPolicy -Option 16 # Enable No Reboot\nSet-RuleOption -FilePath $WDACPolicy -Option 17 # Enable Allow Supplemental\nSet-RuleOption -FilePath $WDACPolicy -Option 19 # Enable Dynamic Code Security\n</code></pre></li> <li>Deploy the file locally in audit mode and validate no additional files require whitelisting</li> <li>Using an administrative PowerShell session run the following to switch the policy into enforce mode <pre><code>Set-RuleOption -FilePath $WDACPolicy -Option 3 -Delete\n</code></pre></li> <li>Deploy the file locally in enforce mode and validate no additional files require whitelisting</li> <li>Deploy the file globally </li> </ol>"},{"location":"as-built-as-configured/wdac-policy-creation/#wdac-policy-supplementary-policy","title":"WDAC policy - supplementary policy","text":"<p>Supplementary policies expand on the base policy and allow for whitelisting to be targeted to users and/or groups. Supplementary policies can contain both allow and deny rules. A supplementary policy is a base policy until it is linked as a supplementary policy to another base policy. </p> <p>Supplementary policies will not work on machines pre 1903. If you are deploying to pre 1903 machines they must be merged into the base policy. Merge policy instructions are available further below.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/#whitelisting-an-application","title":"Whitelisting an application","text":"<p>Whitelisting of an application utilising WDAC can be completed utilising a number of methods including Hash (ACSC recommended), file path, and certificate based. Depending on the application, the chosen method of whitelisting may change. Hash whitelisting offers the highest degree of security however it increases the management overhead associated with whitelisting. </p> <p>If the managed installer option within the base policy is enabled, whitelisting of applications deployed via the managed installer is not required. </p> <p></p> <p>Post identification of the appropriate whitelisting method, the following procedure is used to whitelist the application:</p> <ol> <li>Within an administrative PowerShell session navigate to the install directory of the application</li> <li>Run the following command <pre><code>$whitelistlevel = {the chosen method of whitelist e.g. hash}\n$Outputlocation = {the path to output the policy file}\n$fallbacklevel = {the backup method of whitelist e.g. publisher}\n$directory = {the path to be scanned}\nNew-CIPolicy -Level $whitelistlevel -FilePath $Outputlocation -Fallback $fallbacklevel  -ScanPath $directory -UserPEs\n</code></pre></li> <li>Convert the new base policy to a supplementary policy.</li> </ol>"},{"location":"as-built-as-configured/wdac-policy-creation/#whitelisting-errors-in-the-event-log","title":"Whitelisting errors in the event log","text":"<p>Applications which are not whitelisted will be logged in the code integrity event log on execution. These applications can be whitelisted using the following procedure:</p> <ol> <li>Within an administrative PowerShell session run the following command <pre><code>$whitelistlevel = {the chosen method of whitelist e.g. hash}\n$Outputlocation = {the path to output the policy file}\n$fallbacklevel = {the backup method of whitelist e.g. publisher}\nNew-CIPolicy -Level $whitelistlevel -FilePath $Outputlocation -Fallback $fallbacklevel  -audit -UserPEs\n</code></pre></li> <li>Convert the new base policy to a supplementary policy.</li> </ol>"},{"location":"as-built-as-configured/wdac-policy-creation/#linking-to-the-base-policy","title":"Linking to the base policy","text":"<p>To convert a base policy to a supplementary policy of another base policy they must be linked. Upon linking the policyID of the supplementary policy will be set to a new GUID. This new guid is required when deploying the supplementary policy via Microsoft Endpoint Manager. </p> <p>The procedure to link the policies is as follows:</p> <ul> <li>Using an administrative PowerShell session run <pre><code>$SupWDACPolicy = {path to the supplementary policy file}\n$SupWDACPolicyName = {Name of the supplementary policy}\n$WDACPolicy = {path to the policy file}\n$WDACPolicyID = {base policy id available within the base policy PolicyID tags}\nSet-CIPolicyIdInfo -FilePath $SupWDACPolicy -PolicyName $SupWDACPolicyName -SupplementsBasePolicyID $WDACPolicyID -BasePolicyToSupplementPath $WDACPolicy\n</code></pre></li> </ul>"},{"location":"as-built-as-configured/wdac-policy-creation/#merging-with-the-base-policy","title":"Merging with the base policy","text":"<p>To merge base policies together the following procedure is used:</p> <ul> <li>Using an administrative PowerShell session run <pre><code>$InitialCIPolicy= {Path to the first base policy}\n$AuditCIPolicy= {Path to the new base policy}\n$MergedCIPolicy= {location to output the policy}\nMerge-CIPolicy -PolicyPaths $InitialCIPolicy,$AuditCIPolicy -OutputFilePath $MergedCIPolicy\n</code></pre></li> </ul>"},{"location":"as-built-as-configured/wdac-policy-creation/#wdac-policy-policy-signing","title":"WDAC policy - policy signing","text":"<p>Prior to deployment of the WDAC policy it can be signed using an internal Certificate Authority code signing certificate or a purchased code signing certificate.</p> <p>The procedure to sign the policy is as follows:</p> <ul> <li>Using an administrative PowerShell session run <pre><code>Add-SignerRule -FilePath {Path to the XML policy file} -CertificatePath {Path to exported .cer certificate} -Kernel -User -Update\nConvertFrom-CIPolicy -XmlFilePath {Path to the XML policy file} -BinaryFilePath `Binary output location`\n{Path to signtool.exe} sign -v /n {Certificate Subject name} -p7 . -p7co 1.3.6.1.4.1.311.79.1 -fd sha256 {Binary policy location}\n</code></pre></li> </ul>"},{"location":"as-built-as-configured/wdac-policy-creation/#wdac-policy-deployment","title":"WDAC policy - deployment","text":"<p>The above policies are deployed through Microsoft Endpoint Manager - Intune (Intune). The deployment configuration is available within the Intune Configuration section.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/#wdac-policy-removal","title":"WDAC policy - removal","text":""},{"location":"as-built-as-configured/wdac-policy-creation/#signed-policies","title":"Signed policies","text":"<p>The procedure to remove signed policies is as follows: 1. Create a new signed policy with <code>6 Enabled: Unsigned System Integrity Policy</code> enabled. 2. Deploy the policy and remove the previous policy from deployment. 3. Reboot the machine. 4. Disable the WDAC deployment method. 5. On the machine verify the following files have been deleted (if they have not then delete them)   - <code>OS Volume\\Windows\\System32\\CodeIntegrity\\{Policy GUID}.cip</code>   - <code>EFI System Partition\\Microsoft\\Boot\\{Policy GUID}.cip</code> 6. Reboot the machine.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/#unsigned-policies","title":"Unsigned policies","text":"<p>The procedure to remove unsigned policies is as follows: 1. Disable the WDAC deployment method.  2. On the machine verify the following files have been deleted (if they have not then delete them)   - <code>OS Volume\\Windows\\System32\\CodeIntegrity\\{Policy GUID}.cip</code>   - <code>EFI System Partition\\Microsoft\\Boot\\{Policy GUID}.cip</code> 3. Reboot the machine.</p>"},{"location":"as-built-as-configured/wdac-policy-creation/#appendix-1-sample-supplementary-policies","title":"Appendix 1: Sample supplementary policies","text":"<ul> <li>Example Microsoft Recommended Block Rules Supplemental Policy</li> <li>Example Git whitelisting supplementary policy based on publisher and falling back to hash</li> </ul>"},{"location":"as-built-as-configured/wfw-rules-import/","title":"Wfw rules import","text":""},{"location":"as-built-as-configured/wfw-rules-import/#windows-firewall-rules-import","title":"Windows Firewall rules import","text":"<p>3 minutes to read - 30 March 2023</p> <p>The following guide provides instructions to automate the import of Windows Firewall rules directly into Intune Windows Firewall rule policies from a reference computer.</p> <p>The following is guidance from the Australian Cyber Security Centre (ACSC) for software firewalls:</p> <ul> <li>A software firewall is implemented on workstations and servers to limit both inbound and outbound network connections (ISM security control 1416)</li> </ul> <p>Simply enabling and enforcing the Windows Firewall through policy does not cover the full intent of the ISM control. It is recommended that a reference computer is used to capture the required rules to allow normal Windows desktop function, and also include any additional Windows Firewall rules (inbound and outbound) that may be required for agency specific applications and services.</p> <p>This process uses the Endpoint security firewall rule migration tool for Microsoft Intune which is a PowerShell script provided by Microsoft.</p> <p>{:.no_toc}</p>"},{"location":"as-built-as-configured/wfw-rules-import/#rule-import","title":"Rule import","text":"<p>The import process requires a clean Windows desktop which will be used as reference computer to export the firewall rules. The Windows build version should be the same as the target operating system. This reference machine is ideally a virtual machine, however if it is physical please ensure it is clear of any OEM or third-party software. The reference machine should not be Intune enrolled or Azure AD joined. </p> <p>The administrator performing this technical instruction requires the <code>Intune Administrator</code> Azure AD role.</p> <ol> <li>Login to the device with local administrator privileges.</li> <li>Download the migration tool and extract the contents to a local directory.</li> <li>Open a PowerShell console as an administrator, navigate to the directory where the migration tool was extracted to and execute the following:    <pre><code>.\\Export-FirewallRules.ps1 -includeLocalRules\n</code></pre></li> <li>Note, if the ruleset is being migrated from an existing group policy applied to a hybrid device, omit the <code>-includeLocalRules</code> parameter on the script which will only import rules found that are applied by group policy.</li> <li>The script will prompt for a profile name. Provide a profile name, this will be the name of the Windows Firewall policy.</li> <li>Note, as the total limit of individual rules allowed per policy is 150, the rules will be spread over a number of policies (e.g. policy-0, policy-1)</li> <li>The script will prompt for Azure AD credentials. Provide the appropriate credentials and grant permission when prompted.</li> <li>Navigate to <code>Microsoft Endpoint Manager &gt; Firewall</code> and review the policies created. Review the rules and remove any unwanted or duplicates.</li> <li>Assign the policy to a test group of machines prior to assigning to all devices.</li> </ol>"},{"location":"blueprint/","title":"Blueprint","text":"<p>2 minutes to read - 15 September 2023</p> <p>The blueprint is a design to secure Microsoft 365 desktops, developed with Microsoft and tested with independent security assessors.</p> <p>The blueprint offers 4 main artefacts to support agencies with implementation.</p> <ul> <li>The Solution Overview provides a non-technical overview of the blueprint and maps blueprint solutions to the Essential Eight security strategies.</li> <li>The Platform Design covers all supporting components for the Windows 10 and 11, iOS and Office 365 (including Microsoft Endpoint Manager).</li> <li>The Client Devices Design includes Windows 10 and iOS components only.</li> <li>The Office 365 Design includes Exchange Online, SharePoint Online, OneDrive for Business and Teams.</li> </ul> <p>Other blueprint artefacts include configuration guides, automation guides, and security documentation. They are designed to meet Australian Cyber Security Centre (ACSC) requirements for systems that handle and manage information classified as Protected. </p> <p>All artefacts provide a standard and proven approach for Microsoft 365. They aim to fast track the adoption of the Microsoft Modern Workplace experience.</p> <p>The blueprint contains guidance for best practice deployment. It incorporates advice from:</p> <ul> <li>The Australian Government Information Security Manual (ISM)</li> <li>Microsoft</li> <li>The ACSC Essential Eight</li> <li>ACSC hardening guidelines for Microsoft Windows 10 and iOS</li> <li>oobe's field experience</li> </ul> <p>There are 2 deployment types covered in this blueprint:</p> <ul> <li>Cloud Native \u2013 where an organisation assumes an architecture that is based on consuming the Microsoft 365 offerings as a service, with no additional investment in on-premises infrastructure</li> <li>Hybrid \u2013 where an organisation adopts the Microsoft 365 offerings, while continuing to leverage some new or existing on-premises infrastructure in a 'hybrid' configuration</li> </ul> <p>In many cases, design decisions are common across both deployment methods. Where specific elements differ for cloud and hybrid deployments, the blueprint provides the common components applicable to all deployments. It then offers further guidance for each deployment type.</p>"},{"location":"blueprint/abbreviations-and-acronyms/","title":"Abbreviations and acronyms","text":""},{"location":"blueprint/abbreviations-and-acronyms/#abbreviations-and-acronyms","title":"Abbreviations and Acronyms","text":"Acronym Definition AAD Azure Active Directory ABAC As Built As Configured ACL Access Control List ACSC Australian Cyber Security Centre AD Active Directory ADMX Administrative Template XML Based AES Advanced Encryption Standard AIP Azure Information Protection API Application Programming Interface APP ID Application Identifier ARM Azure Resource Manager ASR Attack Surface Reduction ATP Advanced Threat Protection AWS Amazon Web Services BAU Business as Usual BIOS Basic Input Output System BYOD Bring Your Own Device CAS Client Access Services CASB Cloud Access Security Broker CDC Canberra Data Centre CEF Common Event Format CISO Chief Information Security Officer CNAME Canonical Name CPU Central Processing Unit CRM Customer Relationship Management CRT Cathode Ray Tube CSM Compatibility Support Module CSV Comma Separated Values DEM Device Enrolment Manager DEP Device Enrolment Program DLP Data Loss Prevention DKIM Domain Key Identified Mail DMA Direct Memory Access DMARC Domain-based Message Authentication, Reporting and Conformance DNS Domain Name System DTA Digital Transformation Agency EDR Endpoint Detection and Response EMET Enhanced Mitigation Experience Toolkit EMS Enterprise Mobility &amp; Security ETW Event Tracing for Windows FQDN Fully Qualified Domain Name FTP File Transfer Protocol GAL Global Address List GCP Google Cloud Platform GDPR General Data Protection Regulation GIF Graphics Interchange Format GMT Greenwich Mean Time GPO Group Policy Object HDD Hard Disk Drive HIPS Host-based Intrusion Protection System HRIP Health Records and Information Privacy HTTP Hypertext Transfer Protocol HTTPS Hypertext Transfer Protocol Secure IAM Identity Access Management ICAP Internet Content Adaption Protocol ICT Information and Communications Technology IIS Internet Information Services IMAP Internet Message Access Protocol IPMI Intelligent Platform Module Interface Intune Microsoft Endpoint Manager - Intune IRAP Information Security Registered Assessors Program ISM Information Security Manual ISO International Standards Organisation JIT Just in Time JPGJPEG Joint Photographic Experts Group KMS Key Management Services LAN Local Area Network LAPS Local Administrator Password Solution LDAP Lightweight Directory Access Protocol LOB Line Of Business LSA Local Security Authority LTSC Long-Term Servicing Channel MAK Multiple Activation Key MAM Mobile Application Management MDM Mobile Device Management MECM Microsoft Endpoint Configuration Manager MEM Microsoft Endpoint Manager MFA Multi-Factor Authentication MIM Microsoft Identity Manager MIP Microsoft Information Protection NNR Network Name Resolution NTLM New Technology LAN Manager OAB Offline Address Book OATH Open Authentication OAUTH Open Authentication OEM Original Equipment Manufacturer OTP One-Time Password OWA Outlook on the Web PAW Privileged Access Workstation PDF Portable Document Format PEM Privacy Enhanced Mail PHS Password hash synchronisation PII Personally Identifiable Information PIM Privileged Identity Management PIN Personal Identification Number PNG Portable Network Graphics POP Post Office Protocol POS Point of Sale PSPF Protective Security Policy Framework PST Personal Storage Table PTA Pass-Through Authentication RAM Random Access Memory RBAC Role Based Access Control RDP Remote Desktop Protocol REST Representational State Transfer RFC Request for Comment RHEL Red Hat Enterprise Linux RPO Recovery Point Objective RTO Recovery Time Objective SAN Subject Alternate Name SCCM Microsoft System Center Configuration Manager SEM Security Event Management SIEM Security Information and Event Management SIG Secure Internet Gateway SIM Security Information Management SLA Service Level Agreement SLAT Second Level Address Translation SMB Server Message Block SMS Short Message Service SMTP Simple Mail Transport Protocol SOAP Simple Object Access Protocol SOE Standard Operating Environment SPAM Unsolicited Commercial Email SPF Sender Policy Framework SQL Structured Query Language SSL Secure Sockets Layer SSO Single Sign On SVG Scalable Vector Graphics SWIFT Society for Worldwide Interbank Financial Telecommunication TBA To be advised TCP Transmission Control Protocol TLS Transport Layer Security TPM Trusted Platform Module UAC User Access Control UDP User Datagram Protocol UEBA User Entity Behavioural Analytics UEFI Unified Extensible Firmware Interface UK United Kingdom UPN User Principal Name URL Uniform Resource Locator US United States UWP Universal Windows Platform VBA Visual Basic for Application VDI Virtual Desktop Infrastructure VIP Virtual IP address VPN Virtual Private Network VSM Virtual Secure Module WDAC Windows Defender Application Control WIP Windows Information Protection WPAD Web Proxy Auto-Discovery Protocol WSUS Windows Server Update Services XPS XML Paper Specification"},{"location":"blueprint/as-built-as-configured/","title":"As built as configured","text":""},{"location":"blueprint/as-built-as-configured/#as-built-as-configured-abac","title":"As Built As Configured (ABAC)","text":""},{"location":"blueprint/as-built-as-configured/#all-implementation-types","title":"All implementation types:","text":"<ul> <li>Conditional access policies</li> <li>Office 365</li> <li>Platform</li> </ul> <p>Client devices (Microsoft Endpoint Manager)</p> <ul> <li>Applications</li> <li>Compliance</li> <li>Configuration</li> <li>Enrolment</li> <li>Software updates</li> </ul>"},{"location":"blueprint/as-built-as-configured/#hybrid-environments","title":"Hybrid environments:","text":"<ul> <li>Network configuration</li> </ul>"},{"location":"blueprint/as-built-as-configured/#technical-guides","title":"Technical guides:","text":"<ul> <li>Administration - disable inactive users automation (for cloud environments)</li> <li>Client devices - task sequence deployment (for hybrid environments)</li> <li>Client devices - WDAC policy creation</li> <li>Client devices - Windows Firewall rules import</li> </ul>"},{"location":"blueprint/automation/","title":"Automation","text":""},{"location":"blueprint/automation/#automation","title":"Automation","text":"<p>9 minutes to read - 30 March 2023</p> <p>Microsoft offers programmatic and manual methods to getting and setting configuration within Microsoft Azure and Microsoft 365. This document focuses on the programmatic configuration utilising Microsoft 365 Desired State Configuration (M365DSC). M365DSC is an open source tool hosted on GitHub and maintained by Microsoft engineers and the community. It is able to configure settings within all major Microsoft 365 workloads such as Exchange Online, Teams, Power Platforms, SharePoint and Security and Compliance. A list of configurable resources within these workloads is available on the M365DSC website. M365DSC leverages Windows PowerShell Desired State Configuration. </p> <p>Currently, M365DSC is not able to fully configure a tenant to the specifications outlined in the blueprint. Configurations that cannot be configured via this method may need to be configured either manually or via another method such as the native M365 configuration PowerShell modules outside of DSC or Azure Command Line Interface.</p>"},{"location":"blueprint/automation/#windows-powershell-desired-state-configuration","title":"Windows PowerShell Desired State Configuration","text":"<p>Windows PowerShell Desired State Configuration is a feature of PowerShell version 4.0 and later. It leverages a Configuration Script, Resources, and the Local Configuration Manager on a Windows machine. </p> <p>The Configuration Script is a declarative PowerShell script which defines and configures resource instances. Resources contain the code required to configure and maintain the configuration in a specified state. The Local Configuration Manager is the engine which facilitates the interaction between resources and configurations. </p> <p>Windows PowerShell Desired State Configuration can be leveraged to implement and ensure configurations are maintained in their preferred state. The Local Configuration Manager can be configured to poll the configuration on a set time interval and alert or re-enforce if configuration drift has occurred. For details regarding the Local Configuration Manager on a computer, run the following command in a PowerShell console:</p> <pre><code>Get-DscLocalConfigurationManager\n</code></pre>"},{"location":"blueprint/automation/#scope","title":"Scope","text":"<p>The following blueprint components are available for automation. We hope to expand this list over time as the options mature. If you would like your script included in the blueprint, please let us know by raising a ticket in GitHub.</p> <ul> <li>Identity and access management</li> <li>Exchange Online</li> </ul>"},{"location":"blueprint/automation/#identity-and-access-management","title":"Identity and access management","text":"<p>The following table outlines the subsections of the blueprint and their automation status for identity and access management.</p> Component Automated / Manual Conditional Access Automated Group Naming Policy Automated Groups Settings Automated Group Lifecycle Policy Automated Group Creation Automated Sensitivity labels Automated (separate DSC script) Directory Contact Details Automated User Settings Manual Device Settings Manual External Collaboration Manual Custom Domains Manual Company Branding Manual Group Creation Restrictions Platform ABAC - delegate 365 group creation script Azure Active Directory Connect (if applicable) Manual"},{"location":"blueprint/automation/#exchange-online","title":"Exchange Online","text":"<p>The following table outlines the subsections of the blueprint and their automation status for Exchange Online. Configuration of Exchange Online is completed after identity and access management.</p> Component Automated / Manual Connectors Manual DKIM Manual Accepted domains Manual Remote domains (Default) Automated CAS mailbox plan Automated Per mailbox attributes Manual Authentication policy Office 365 ABAC - authentication policy Outlook Web Access policy Automated Mailbox archive Manual Mailbox auditing Manual Mailflow rules Manual Anti-spam connection filter Automated Anti-spam policies Automated Anti-malware policies Automated Anti-phishing policies Automated Safe-links and Safe attachments Automated Hybrid configuration Manual"},{"location":"blueprint/automation/#microsoft-365-desired-state-configuration-implementation-procedure","title":"Microsoft 365 Desired State Configuration implementation procedure","text":"<p>The following procedure is to implement a configuration using Microsoft 365 Desired State Configuration.</p>"},{"location":"blueprint/automation/#prerequisites","title":"Prerequisites","text":"<ul> <li>An account with Global Administrator privileges</li> <li>Pre-creation of the break glass/emergency admin accounts</li> <li>An account with a PowerShell execution policy of unrestricted</li> <li>A device with PowerShell Remoting enabled, internet access, and PowerShell 4.0 or greater installed</li> <li>Microsoft Graph for PowerShell app registration is available in the Azure AD tenant</li> <li>Device with WinRM configured with a HTTPS listener</li> </ul>"},{"location":"blueprint/automation/#procedure","title":"Procedure","text":"<p>The process to enforce a Microsoft 365 Desired State Configuration (M365DSC) can be broken down into 3 parts:</p> <ol> <li>Configuration file development</li> <li>Certificate creation</li> <li>Configuration deployment</li> </ol> <p>If the certificate creation part is skipped, the configuration file (MOF file) will contain credentials in clear text. Also the <code>CertificateFile</code> value within <code>configurationdata.psd1</code> would require removal.</p>"},{"location":"blueprint/automation/#configuration-file-development","title":"Configuration file development","text":"<p>The configuration files developed in accordance with the blueprint are available below. The configuration data file is required no matter the configuration script used.</p>"},{"location":"blueprint/automation/#configuration-data-file","title":"Configuration data file","text":"<p>The required <code>configurationdata.psd1</code> file for the M365DSC methods can be downloaded below:</p> <ul> <li>configurationdata.psd1</li> </ul>"},{"location":"blueprint/automation/#blueprint-configuration-scripts","title":"Blueprint configuration scripts","text":"<p>Blueprint configuration scripts are available in the table below.</p> <p>Note, each DSC script can be ran independently.</p> Script Configuration items Method Script parameters identity_dsc.ps1 Conditional AccessGroup Naming PolicyNamed LocationsGroup Lifecycle PolicyGroup CreationGroups SettingsDirectory Contact Details M365DSC -trustedip-organisation -organisationprefix-globaladminaccount-technicalcontactemail-technicalcontactphone sensitivity-labels_dsc.ps1 Sensitivity labels M365DSC -globaladminaccount exo_dsc.ps1 Anti-spam policiesAnti-malware policiesAnti-phishing policiesSafe-links and Safe attachmentsOutlook Web Access policyCAS mailbox plan M365DSC -gatewayip-organisation -globaladminaccount-technicalcontactemail"},{"location":"blueprint/automation/#certificate-creation","title":"Certificate creation","text":"<p>The process to create a certificate is as follows:</p> <ol> <li>Open a PowerShell console as administrator</li> <li>Install and import the PowerShell module <code>microsoft365dsc</code> using the following command: <pre><code>install-module microsoft365dsc -allowclobber -force\nimport-module microsoft365dsc\n</code></pre></li> <li>In PowerShell navigate to the directory containing the blueprint configuration PS1 file and the <code>configurationdata.psd1</code> file</li> <li>Create a Desired State Configuration local configuration manager certificate: <pre><code>Set-M365DSCAgentCertificateConfiguration\n</code></pre></li> <li>Validate that a certificate was created and assigned to the local configuration manager by matching the output of step 4 with <code>CertificateID</code> from the following: <pre><code>Get-DscLocalConfigurationManager\n</code></pre></li> <li>Export the certificate into the folder containing the blueprint configuration PS1 file and the <code>configurationdata.psd1</code> file <pre><code>$certificatethumbprint = Get-DscLocalConfigurationManager | select CertificateID\n$certpath =  \"cert:\\localmachine\\My\\\" + $certificatethumbprint.CertificateID\n$cert = Get-ChildItem -path $certpath\nExport-Certificate -Cert $cert -FilePath .\\M365dsc_DER.cer\ncertutil -encode M365dsc_DER.cer m365dsc.cer\nremove-item .\\M365dsc_DER.cer\n</code></pre></li> </ol>"},{"location":"blueprint/automation/#configuration-deployment","title":"Configuration deployment","text":"<p>The process to deploy the configuration is as follows:</p> <ol> <li>Open a PowerShell console as administrator</li> <li>Install and import the PowerShell module microsoft365dsc using the following command: <pre><code>Set-WSManQuickConfig\ninstall-module microsoft365dsc -allowclobber -force\nimport-module microsoft365dsc\n</code></pre></li> <li>In PowerShell navigate to the directory containing the blueprint configuration PS1 file and the <code>configurationdata.psd1</code> file. This <code>configurationdata.psd1</code>  file is the same for all other DSC scripts supplied</li> <li>In the PowerShell console, initiate the desired blueprint configuration PS1 and supply the required values, this will create the MOF file for the local configuration manager. If the script requires parameters, the required values are located in the <code>param</code> section of the DSC script to be ran. Some DSC scripts may not require parameters, refer to the <code>Blueprint configuration scripts</code> table for an overview. The following is an example for the identity configuration DSC script <code>identity_dsc.ps1</code>. In this example, the required values are: Global Admin credentials; organisation name; organisation prefix; and trusted IPs (in CIDR format). <pre><code>$pscredential = get-credential\n$organisationname = \"OrganisationName\" # note - organisation internet domain name\n$organisationprefix = \"OrganisationAcronym\"\n$technicalcontactemail = \"Organisation.Helpdesk\"  # note - recipient part of address\n$technicalcontactphone =\"+612111222\"\n$trustedIPs = @(\"X.X.X.X/X\",\"X.X.X.X/X\") # note - for one CIDR range use @(\"X.X.X.X/X\")\n.\\identity_dsc.ps1 -globaladminaccount $pscredential -trustedip $trustedIPs -organisation $organisationname -organisationprefix $organisationprefix -technicalcontactemail $technicalcontactemail -technicalcontactphone $technicalcontactphone \n</code></pre></li> <li>This step will enforce the DSC configuration. Run the following command within the PowerShell console: <pre><code>Start-DSCConfiguration M365TenantConfig -wait -verbose -force\n</code></pre></li> <li>Validate the successful deployment by viewing changes in the appropriate Admin console (e.g Azure Active Directory or M365 compliance)</li> <li>In the PowerShell console, run the following command to ensure the configuration is no longer enforced via the Desired State Configuration Local Configuration Manager <pre><code>Remove-DscConfigurationDocument -stage current\n</code></pre></li> <li>Repeat the process for other DSC scripts, each can be ran without overlapping configuration</li> </ol>"},{"location":"blueprint/automation/#deployment-troubleshooting","title":"Deployment troubleshooting","text":"<p>The following provides some common errors that might be encountered using the M365DSC and suggested remedy steps.</p> <p>Additional guidance and troubleshooting information can be found in the M365DSC wiki.</p> <p>Issue 1 - error: Undefined DSC resource 'M365DSCResource'. Use Import-DSCResource to import the resource. Resource 'break.glass_priv1@domain does not exist or one of its  queried reference-property objects are not present.</p> <p>Issue 1 - remedy: Ensure that  the emergency access admin account (break glass) identities exist prior to running the DSC script</p> <ul> <li>Check or create each emergency access admin account manually as per the the Platform - ABAC </li> </ul> <p>Issue 2 - error: Undefined DSC resource 'M365DSCResource'. Use Import-DSCResource to import the resource.</p> <p>Issue 2 - remedy: Confirm the M365DSC module versioning installed on the system and load the desired module</p> <ul> <li>The module version defined in the DSC script does not match the version installed on the system. Either remove the <code>-version</code> parameter on the <code>Import-DscResource</code> command or change the version to match the version installed. </li> <li>If there are multiple versions of the M365DSC, import the required version   <pre><code>Get-Module -Name Microsoft365DSC -ListAvailable |Select Version #list available versions\nImport-Module -FullyQualifiedName @{ModuleName = \"Microsoft365DSC\"; ModuleVersion = \"version\"} #import desired version\n</code></pre></li> </ul> <p>Issue 3 - error: Running the Get-Command command in a remote session reported the following error: Processing data for a remote command failed with the following error message: The SSL connection cannot be established</p> <p>Issue 3 - remedy: Ensure the local WinRM agent is configured and listening on HTTPS</p> <ul> <li>Confirm WinRM is setup for HTTPS. For further information, see How to configure WINRM for HTTPS - Microsoft Docs</li> <li>Confirm inbound Firewall port is open on 5586   <pre><code>$port=5986\nnetsh advfirewall firewall add rule name=\"Windows Remote Management (HTTPS-In)\" dir=in action=allow protocol=TCP localport=$port\n</code></pre></li> </ul> <p>Issue 4 - error: You cannot perform the requested operation, required scopes are missing in the token</p> <p>Issue 4 - remedy: Ensure that the required API permissions for the Microsoft Graph for PowerShell are granted admin consent</p> <ul> <li>Connect with the Microsoft Graph API and grant admin consent when prompted   <pre><code>Connect-MgGraph -TenantId \"Azure AD tenant id guid\" -Scopes \"Application.Read.All,Group.Read.All,Directory.Read.All,Policy.Read.All,Policy.Read.ConditionalAccess,Policy.ReadWrite.ConditionalAccess,RoleManagement.Read.All,RoleManagement.Read.Directory,User.Read.All\"\n</code></pre></li> </ul>"},{"location":"blueprint/automation/#microsoft-365-desired-state-configuration-auditing-procedure","title":"Microsoft 365 Desired State Configuration auditing procedure","text":"<p>The following procedure is to audit a configuration using Microsoft 365 Desired State Configuration.</p>"},{"location":"blueprint/automation/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>An account with Global Administrator privileges</li> <li>A device with PowerShell Remoting enabled, internet access, and PowerShell 4.0 or greater installed</li> <li>An account with a PowerShell execution policy of unrestricted</li> </ul>"},{"location":"blueprint/automation/#procedure_1","title":"Procedure","text":"<p>The process to audit a tenant based on the blueprints Microsoft 365 Desired State Configuration (M365DSC) is as follows:</p> <ol> <li>Download baseline.ps1</li> <li>Within <code>baseline.ps1</code>, update any organisation specific items (e.g. all areas where organisation name is specified)</li> <li>Open a PowerShell console as administrator and navigate to the directory containing the <code>baseline.ps1</code> file</li> <li>Run the following command in the PowerShell console: <pre><code>$outputlocation = \"\\Blueprint_Comparison $($(Get-Date).ToString(`\"yyyy-MM-dd hhmmss`\")).html\"\nAssert-M365DSCBlueprint -BluePrintUrl .\\baseline.ps1 -OutputReportPath $outputlocation\n</code></pre></li> <li>Review the html report to evaluate the configuration against the blueprint</li> </ol>"},{"location":"blueprint/automation/#blueprint-audit-baseline","title":"Blueprint audit baseline","text":"<p>Blueprint audit baselines are available below:</p> <ul> <li>baseline.ps1</li> </ul> <p>The above baseline requires updating to include organisation specific details prior to use.</p>"},{"location":"blueprint/client-devices/","title":"Client devices","text":""},{"location":"blueprint/client-devices/#client-devices","title":"Client devices","text":"<p>105 minutes to read - 15 September 2023</p> <p>This document covers the following topics.</p> Section Description Windows Hardware The Hardware Platform section includes the physical hardware, firmware drivers, and peripherals. Windows Deployment &amp; Management The Deployment &amp; Management section shows the typical deployment options for cloud &amp; hybrid as well as the management options that can be used in the application of the SOE and security. Windows Standard Operating Environment (SOE) The SOE section defines all the operating system components that are installed on the physical hardware. It includes the operating system and core services. Windows Security The Windows Security section describes the configuration and methods of locking down the configuration to align with Microsoft security best practices and ACSC guidance for Windows 10/11 clients. iOS The iOS section covers enrolment and security of the mobile devices. <p>For each component within the document there is a brief description of the contents of the section, a commentary on the things that have been considered in determining the decisions and the design decisions themselves.</p>"},{"location":"blueprint/client-devices/#assumptions","title":"Assumptions","text":"<ul> <li>The Microsoft Endpoint Manager (MEM) Console is the preferred method to manage all settings regardless of a cloud native or hybrid implementation. Although a combination of the Microsoft Endpoint Configuration Manager (MECM) Console and Group Policy Objects (GPOs) would be able to achieve the same settings in a hybrid environment, this blueprint does not include MECM and GPOs example configurations due to the level of dissimilarities and per organisation customisation in existing MECM and GPOs configurations across Commonwealth entities.</li> <li>Minimum version of MECM 1710 is required for co-management, recommended minimum version at is 2002 update version. See support for Configuration Manager current branch versions.</li> <li>Minimum version of MECM 2211 is required for management of Windows 11 devices. See support for Windows 11 in Configuration Manager.</li> </ul>"},{"location":"blueprint/client-devices/#windows-hardware","title":"Windows hardware","text":"<p>While most modern hardware will be capable of running Windows 10, making sure the right choice of hardware is made will ensure that the Standard Operating Environment (SOE) runs efficiently. This section focuses on the technical requirements to support Windows features described in this design.</p> <p>Windows 11 has additional hardware requirements compared with Windows 10, including a specific set of supported processors (CPUs) and increased system firmware capabilities (e.g., TPM version 2.0).</p> <p>The style of hardware will also need to be considered, whether a typical desktop model which will be permanently located on a desk or a laptop model to facilitate a more mobile workforce. The DTA recommends that, within operational constraints, agencies consider a laptop deployment to increase the flexibility and mobility of an organisation workforce. </p>"},{"location":"blueprint/client-devices/#hardware-requirements","title":"Hardware requirements","text":"<p>The hardware platform chosen to support the SOE is key to its stability and provides the components that can be configured by the operating system and applications.</p> <p>The selected processor architecture and associated firmware capability directly influence the supportability of applications and security features of an operating system. The minimum hardware requirements listed below will ensure that the system runs reliably and is supported by the vendor, Microsoft.</p> <p>Agencies should select a reputable hardware platform that supports enterprise features, such as having an interface to provision zero-touch UEFI configuration and updates.</p> <p>Note: agencies that wish to implement virtual desktops or VDI (Virtual Desktop Infrastructure) should assess the chosen virtualisation or hypervisor (including cloud platforms) platform to determine the features available meet the desired security risk profile for the organisation.</p> Decision Point Design Decision Justification Laptop Model Any device that meets the below requirements and the organisation procurement processes To meet the organisation requirements. Desktop Model Any device that meets the below requirements and the organisation procurement processes To meet the organisation requirements. <p>Minimum physical hardware configuration for the Windows 10 SOE applicable to all agencies and implementation types.</p> Component Description Justification Architecture x64 Required to Support more than 4GB RAM. Processor At least 4 logical processors, VT-x (Intel) or AMD-V CPU extensions, 2 GHz or higher with Second Level Address Translation (SLAT) support SLAT is required to support Windows Defender Application Guard. RAM 8GB To meet design specifications. Graphics Card DirectX 9 WDDM 1.0 To meet design specifications. Integrated or dedicated. Input Device(s) KeyboardMouseMulti-touch display screen to enable Windows 10 touch screen features (optional) Keyboard and mouse may be built into a laptop, but touch screens are optional. Minimum HDD Space 128GB To meet design specifications. Microphone Required for speech recognition (optional) Speech recognition is not required to be enabled but may be needed for agencies with accessibility requirements. BIOS Minimum UEFI 2.3.1 Required to support Secure Boot, Windows Defender Device Guard, Windows Defender Credential Guard, Windows Defender Exploit Guard and Kernel DMA Protection. TPM Minimum version 2.0 (with device attestation preferred) Required to support Microsoft Endpoint Manager - Intune (Intune) Windows Autopilot and MECM. Note: TPM device attestation is preferred to allow Windows Autopilot Self-deploying mode. <p>In addition for Windows 11 SOEs, the processor must be selected from the supported list for Windows Processor Requirements.</p>"},{"location":"blueprint/client-devices/#drivers-and-peripherals","title":"Drivers and peripherals","text":"<p>Drivers allow hardware and software to function within a SOE. Drivers are essentially written code that allows Windows to recognise physical components of a computer such as printers, keyboards, mouse, graphics cards and peripherals. It is critical these drivers are supported on the Operating System version and are deployed at the right time.</p> <p>Drivers that are essential to the hardware platform can be deployed in the base reference image, during device deployment task sequence through MECM, via Microsoft Intune or later by Microsoft Windows Update. Drivers such as network drivers are critical during the deployment phase, whereas a microphone driver is not. The more generic a reference image, the lower the deployment and maintenance costs.</p> <p>Other drivers like printer drivers can be deployed after the end user has logged onto the device using either a \"Follow Me Print\" or \"Defined print queue list\" selected by the end user.</p> <p>Peripheral installation can natively be controlled through Group Policies or Intune (administrative templates or the Device installation CSP). As device identifiers may be spoofed, a defence in depth approach should be followed using additional methods of protection such as:</p> <ul> <li>denying write to removable media unless the device is encrypted by BitLocker, </li> <li>blocking of unsigned and untrusted executables, and </li> <li>ensuring Microsoft Defender is actively scanning for threats on removable media.</li> </ul> <p>When restricting the installation of peripherals, there are many common human input devices (HID) (e.g. mice, keyboards etc.) where a blanket allow approach may be taken to avoid additional operational overheads, see System-Defined Device Setup Classes. </p> <p>Bluetooth pairing and allowed services are also controllable. The default state of Windows allows all services, thus care should be taken to define only the Bluetooth services required.</p> <p>Drivers and Peripherals Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Driver Integration Configured Deployed via Microsoft Windows Update which aligns with the ACSC guidance. Approved Peripheral Devices Configured The SOE will enforce a list of organisation approved peripheral devices using Intune device installation policy. Unapproved Peripheral Devices Blocked The SOE will block installation of unapproved peripheral devices using Intune policy. Signed Device Driver Store Configured Deployed via Microsoft Windows Update which aligns with the ACSC guidance. Peripheral Drivers Configured Deployed via Microsoft Windows Update which aligns with the ACSC guidance. Unauthorised driver installation is blocked via WDAC (Windows Defender Application Control). Workstation Device Drivers Configured Deployed via Microsoft Windows Update which aligns with the ACSC guidance. Specific vendor updates can be deployed through Intune if Windows Update does not provide a suitable driver. Printer Drivers Configured Deployed via Microsoft Windows Update which aligns with the ACSC guidance. Bluetooth Restrictions Configured The organisation should define a list of approved Bluetooth services to only those necessary, using Intune device restrictions profile."},{"location":"blueprint/client-devices/#firmware-configuration","title":"Firmware configuration","text":"<p>The firmware is the software that provides the interface between the hardware and the operating system. Firmware configuration and capabilities can directly influence the security features of an operating system.</p> <p>Important firmware security capabilities are detailed below:</p> <ul> <li>UEFI - Unified Extensible Firmware Interface (UEFI) is a replacement for the older Basic Input / Output System (BIOS) firmware interface and the Extensible Firmware Interface (EFI) 1.10 specifications.</li> <li>Secure Boot - Secure Boot ensures that the device boots using only software that is trusted by the PC manufacturer. When the PC starts, the firmware checks the signature of each piece of boot software, including firmware drivers (Option ROMs) and the operating system. If the signatures are valid, the PC boots, and the firmware gives control to the operating system.</li> <li>Trusted Boot - Trusted Boot provides an additional level of protection for the Windows kernel by verifying its digital signature. Once the signature is verified the kernel is loaded, which then in turn verifies the remaining components of the Windows startup process. These components include boot drivers, startup files, and Early Launch Anti-Malware (ELAM).</li> <li>Measured Boot - Measured Boot provides a capability to detect if the firmware, bootloader, or boot drivers have been modified by comparing their hashes to those stored in the TPM. Measured Boot uses a trusted server - known as an attestation server - to determine if a client is healthy and can be permitted to access network resources or should be placed in a quarantine zone.</li> </ul> <p>Firmware that meets the UEFI 2.3.1 or newer specifications provides the following benefits:</p> <ul> <li>Faster boot and faster resume times.</li> <li>Use of security features such as Secure Boot and factory encrypted drives help prevent suspicious code from running before the operating system is loaded.</li> <li>Able to support 2 terabytes and greater hard drives with more than four partitions.</li> <li>Some UEFI-based PCs have a Compatibility Support Module (CSM) that can emulate earlier BIOS which provide greater flexibility and compatibility for end users.</li> </ul> <p>Note: Secure Boot must be disabled in order to use CSM.</p> <ul> <li>Capable of Multicast deployment whereby a PC image from a PC manufacturer can be received by multiple PCs without saturating the network or source image server.</li> <li>Support for UEFI firmware drivers, Option ROMs and applications.</li> </ul> <p>UEFI 2.3.1 is a requirement for the use of Device Guard.</p> <p>Secure Boot is required for the use of Credential Guard.</p> <p>Firmware Configuration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification UEFI version At least 2.3.1 This is minimum UEFI version required for Device Guard. Secure Boot Enabled Secure Boot is a requirement for the use of Windows Credential Guard and provides greater security protection for users. Secure Boot Configuration Method Configured via MEM or MECM To align with the ACSC Windows hardening guidance. Trusted Boot Enabled To provide additional protection from rootkits. Measured Boot Not configured Requires an attestation server that is not in scope of the blueprint. UEFI Password Configured To align with the ACSC Windows hardening guidance. USB Boot Disabled To align with the ACSC Windows hardening guidance. SD Card Boot Disabled To align with the ACSC Windows hardening guidance. Allow boot locations other than the internal hard disk drive Require password To align with the ACSC Windows hardening guidance."},{"location":"blueprint/client-devices/#trusted-platform-module","title":"Trusted platform module","text":"<p>A Trusted Platform Module (TPM) is a microchip designed to provide basic security-related functions, primarily involving encryption keys. The TPM is usually installed on the motherboard of a computer or laptop and communicates with the rest of the system using a hardware bus.</p> <p>With a TPM, private portions of key pairs are kept separate from the memory controlled by the Operating System. Keys can be sealed to the TPM, and certain assurances about the state of a system\u2014that define its \"trustworthiness\"\u2014can be made before the keys are unsealed and released for use. Because the TPM uses its own internal firmware and logic circuits for processing instructions, it does not rely upon the Operating System and is not exposed to external software vulnerabilities.</p> <p>A TPM of specific version number is required to support Windows features such as Windows Hello and BitLocker to help meet ACSC hardening guidelines for the OS. Windows 11 requires TPM version 2.0.</p> <p>Trusted Platform Module Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification TPM Enabled in BIOS/UEFI from hardware vendor or manually configured Required for Windows 10/11 and BitLocker. TPM Version 2.0 To align with the ACSC Windows hardening guidance and support Windows 11."},{"location":"blueprint/client-devices/#windows-deployment-management","title":"Windows deployment &amp; management","text":"<p>The type of deployment and management methods used for the SOE will vary depending on the use of either a cloud native or hybrid configuration. Cloud native will typically utilise pre-installed or offline custom images with Windows Autopilot for the deployment method and utilise Intune as the ongoing management method.</p> <p>Hybrid can benefit from enabling the MECM Co-management feature. Once enabled this allows additional deployment methods which can be utilised to ensure images remain light weight. Co-management provides a more staged approach to moving workloads into the cloud that may assist existing larger environments to complete a more gradual transition.</p>"},{"location":"blueprint/client-devices/#deployment","title":"Deployment","text":"<p>Windows 10 and 11 can be deployed via Intune or MECM, or a combination of both. The configuration of a Windows deployment will depend upon which technologies are available to an organisation and whether a hybrid deployment is required.</p> <p>Windows deployments will be based on either a deployment which is cloud native or hybrid.</p> <ul> <li>Cloud native \u2013 Image on the workstation will be modified using Windows Autopilot and Intune. The OEM image in use should be from a trusted vendor or custom-built by the organisation and provided to the OEM vendor for implementation prior to being dispatched to the organisation. Alternatively, an offline image will need to be created by the organisation and applied to the workstation prior to Windows Autopilot and Intune. The offline image should be light weight consisting of the base Windows image and required base drivers only.</li> <li>Hybrid \u2013 OEM image or MECM task sequence should be used as the base for Windows 10, with Intune and Windows Autopilot applied over the top of the image for further customisation. The OEM image in use should be from a trusted vendor or custom built by the organisation and provided to the OEM vendor for implementation prior to being dispatched to the organisation. Alternatively, an organisation specific MECM task sequence including the Windows image and base drivers. This image will then be further customised with Intune and Windows Autopilot.</li> </ul> <p>Deployment Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Deployment method Organisation light weight base image with Windows Autopilot and Intune deployments applied as during enrolment An organisation specific light weight base image provides the benefit of removing all OEM applications and firmware prior to onboarding to the organisation through Intune &amp; Windows Autopilot. <p>Deployment Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Deployment method Organisation light-weight base image with MECM deployment applied An organisation specific light weight base image provides the benefit of removing all OEM applications and firmware prior to onboarding to the organisation through MECM."},{"location":"blueprint/client-devices/#management","title":"Management","text":"<p>Windows 10 and 11 can be managed via Intune or MECM, or a combination of both. The configuration of Windows management will depend upon which technologies are available to an organisation and whether a hybrid deployment is required.</p> <p>Windows management options will be based on either a deployment which is cloud native or hybrid. This section provides detailed information on the different configuration options for Windows management.</p> <p>Cloud native deployments provides the organisation the immediate benefits of working with Intune and Windows Autopilot while also integrating directly with other cloud services including Microsoft 365 and Azure Active Directory (AAD). Using Intune will simplify the overall deployment and management of Windows to a single console which is also shared with the mobile device management of iOS devices.</p> <p>A hybrid deployment gives the option of co-management which enables the organisation to manage Windows by using both MECM and Intune. Enabling co-management within MECM allows the organisation to utilise their investment in MECM and take advantage of additional cloud capabilities. This allows the organisation additional flexibility to use the technology solution that works best for them and facilitates a more gradual move to cloud native as the organisation can pilot test various workloads in Intune first.</p> <p>Hybrid deployments can choose to enable MECM or Intune for client management depending on the cloud maturity level of the organisation or operational requirements. It is not a requirement of agencies undertaking hybrid implementations to use MECM. This blueprint provides guidance on integration between MECM and Intune for hybrid deployments however agencies with existing infrastructure may alternatively elect to migrate device management from MECM to Intune, which will not affect cyber security postures.</p> <p>Management methods that can be used to manage Windows in a Microsoft 365 environment.</p> Microsoft 365 Implementation MECM Implementation Management Method for Windows Benefits Cloud native MECM is not possible with cloud native Intune No on-premises infrastructure required for management. Well suited for Microsoft Entra ID joined workstations for a full cloud solution. Hybrid with Intune management Suitable for: * No MECM or* MECM with co-management enabled and Workloads set to Intune Intune Existing on-premises MECM infrastructure with Hybrid Microsoft Entra ID joined workstation. Well suited for an organisation that does not have MECM or does not want to use MECM to manage workstations. Hybrid with MECM management MECM with co-management enabled and Workloads set to MECM MECM Existing on-premises MECM infrastructure with Hybrid Microsoft Entra ID joined workstations. Well suited for an organisation that has a significant investment in MECM and requires a more gradual migration to Intune. Individual Workloads can be targeted and pilot-tested in Intune. <p>The following image displays an overview diagram of MECM Co-Management.</p> <p></p> <p>With co-management enabled, the organisation can choose which workloads remain on-premises and which workloads are offloaded to Intune. The workloads are:</p> <ul> <li>Compliance Policies \u2013 Compliance policies define the rules and settings that a device must comply with to be considered compliant by conditional access policies. Compliance policies will also monitor and remediate compliance issues with devices. </li> <li>Device Configuration \u2013 The device configuration workload includes settings that you manage for devices in your organization. Switching this workload also moves the Endpoint Protection and Resource Access workloads.</li> <li>Endpoint Protection \u2013 The Endpoint Protection workload includes the Windows Defender suite of antimalware protection features including Defender Advanced Threat Protection.</li> <li>Resource Access Policies \u2013 Resource access policies configure VPN, Wi-Fi, email, and certificate settings on devices.</li> <li>Client Apps \u2013 Use Intune to manage client apps and PowerShell scripts on co-managed Windows devices. After transitioning this workload, any available apps deployed from Intune will be available in the Company Portal. Apps that are deployed from Configuration Manager are available in Software Centre.</li> <li>Office Click-to-Run Apps \u2013 This workload manages Office 365 apps on co-managed devices.</li> <li>Windows Update Policies \u2013 Windows Update for Business policies allow deferral policies for Windows feature updates or quality updates for Windows devices managed directly by Windows Update for Business.</li> </ul> <p>With co-management disabled and no cloud integration, the organisation will rely on on-premises management of the Windows workstations. These could include utilising MECM task sequencing, MECM Compliance and Endpoint Protection policies, various scripting methods and Group Policy Preferences. </p> <p>There are many benefits to going cloud native or hybrid co-management utilising workloads weighted to Intune. The workstations can be managed from any internet-connected location whether that be in the office or a remote location (home, client site etc).</p> <p>Management Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Management method Cloud native Intune management Cloud native implementation offers a simple and efficient implementation. Single console to manage both Windows and iOS. <p>Management Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Management method Hybrid with MECM co-management enabled. Intune integration is required to enable features such as Conditional Access. MECM co-management offers flexibility for the organisation to take advantage of cloud services immediately or pilot and move individual workloads across when ready while leveraging existing configuration on-premises. Management tool Organisation preference for Intune or MECM managing endpoints in co-management. Each organisation has a different level of investment and different maturity in MECM and cloud products. Co-management has several options to meet the unique requirements of each organisation."},{"location":"blueprint/client-devices/#windows-standard-operating-environment","title":"Windows standard operating environment","text":"<p>The Standard Operating Environment (SOE) consists of the customisations to Windows 10/11 that will vary between environments. The customisations are largely cosmetic and functional in nature to ensure that end users can operate efficiently.</p>"},{"location":"blueprint/client-devices/#operating-system","title":"Operating system","text":"<p>The operating system allows software application to interface with the hardware. The operating system manages input and output device components like the mouse, keyboard, network and storage.</p> <p>Windows 10 and 11 are available in several editions, including:</p> <ul> <li>Home \u2013 minimal management and deployment features and cannot be joined to either an on-premises or Microsoft Entra ID domain. It is targeted from home use only</li> <li>Professional \u2013 this edition includes management and deployment features and can be joined to both an on-premises and Microsoft Entra ID domain</li> <li>Enterprise \u2013 this edition has additional enterprise security features as well as the UE-V and App-V clients built in and only distributable through Microsoft's Volume Licensing Program</li> </ul> <p>Servicing of Windows 10 and 11 falls into three distinct channels (previously known as rings):</p> <ul> <li>Windows Insider Program \u2013 Windows Insider Program receive feature updates immediately allowing pilot machines to evaluate early builds than the General Availability channel. A business must opt-in for this service and install a specific Windows Insider Program for Business Preview build.</li> <li>General Availability \u2013 General Availability Channel receives feature update annually and is designed for the broad population of general-purpose devices within an organisation. The General Availability Channel is the default servicing channel for all Windows 10 and 11 devices with the exception of Long Term Servicing Channel (LTSC) release of Windows 10/11 Enterprise.</li> <li>Long-Term Servicing Channel \u2013 Long-Term Servicing Channel (LTSC) receives releases much more gradually (expected every 2 - 3 years) and is designed for special purpose devices such as those used in Point of Sale (POS) systems or controlling factory or medical equipment, and those machines without Microsoft Office. Additionally, a number of applications are not supported on LTSC Windows devices, for example Microsoft Edge, Microsoft Store, and Microsoft Mail, amongst others.</li> </ul> <p>Operating System Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Windows 10/11 Edition Enterprise (64-bit) Enterprise is required to support BitLocker.The 64-bit edition of Windows is required to support security such as BitLocker and Windows Defender Application Control (WDAC) as specified by ACSC Windows hardening guide. Windows 10/11 Servicing Channel General Availability Channel The General Availability Channel is the recommended ring to deploy to most enterprise clients, especially those with Office 365. Windows 10 Build 22H2 Microsoft recommends deploying the latest General Availability version, please refer to (Windows 10 release information). Windows 11 Build 22H2 Microsoft recommends deploying the latest General Availability version, please refer to (Windows 11 release information)."},{"location":"blueprint/client-devices/#activation-and-licencing","title":"Activation and licencing","text":"<p>Licence keys and activation processes are leveraged by Microsoft to ensure that the device or user is eligible to use the feature or run the product (i.e. Windows 10).</p> <p>Windows 10/11 licensing has evolved significantly since the initial release by Microsoft. In addition to the traditional activation methods for on-premises networks (KMS, MAK and AD Based Activation) it is also possible to use Windows Subscription Activation. The evolution of Windows 10 activation is described below:</p> <ul> <li>Starting from Windows 10 Pro version 1703, Windows 10 Subscription Activation feature enables a step up from Windows 10 Pro edition to Windows 10 Enterprise for those with a qualifying Windows 10 or Microsoft 365 subscription.</li> <li>Microsoft Entra ID available for identity management.</li> </ul> <p>Office 365 products require licensing to enable full functionality and support. The available activation methods are:</p> <ul> <li>Office 365 based activation - Office 365 is Microsoft's productivity solution in the cloud. Office 365 has two sets of suites: one for the small and medium business segment and one for the enterprise segment. These suites are sold across different channels and programs designed to meet each segment's needs. Products are assigned to users and then activated through the online Microsoft Office 365 licensing service.</li> </ul> <p>Activation and Licencing Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Licencing for Microsoft Windows 10/11 Enterprise Microsoft Office 365 E5 Microsoft 365 E5 which includes Windows 10/11 E5, Office 365 E5 and EM+S E5 per user For agencies to meet their obligations under the ISM, PSPF, and ACSC cloud guidance as they relate to PROTECTED security classification. It is recommended in this design that agencies purchase a Microsoft 365 E5 licence for each user. Windows Activation Method Windows Subscription All devices will meet the requirements for Subscription Activation (a supported Windows 10 version or Windows 11 version and internet access), as this is the simplest solution to implement and manage as part of the licensing entitlement. Office Activation Method Office 365 Subscription All devices meet the requirement for Office 365 activation (internet access) as this is the simplest solution to implement and manage as part of the licensing entitlement."},{"location":"blueprint/client-devices/#windows-features","title":"Windows features","text":"<p>Windows 10 and 11 incorporates optional features that can be enabled to offer additional functionality.</p> <p>When deploying a Windows SOE, removing unnecessary features from the standard installation creates a simpler image to maintain. In Windows if a feature is not required or used within an environment, its removal means a faster deployment and a simpler user experience.</p> <p>Windows Features Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification .Net Framework 3.5 Disabled Disabled by default to meet user application hardening guidelines in the ACSC Essential Eight. .Net Framework 4.8 Enabled This is to support modern .Net applications on the Windows SOE device. Internet Explorer 11 Disabled Disabled by default to meet user application hardening guidelines in the ACSC Essential Eight. and the deprecation of the IE 11 feature. Note, this is not applicable to Windows 11. Windows Media Features Enabled Support media content functionality. Windows Ink Workspace Enabled Required to support full functionality of devices to be deployed, including Handwriting support. Print and Document Services - Windows Fax and Scan Enabled Support scanning functionality. Printing Enabled Printing enabled for office use only. Printer drivers must be supported by Windows 10. Microsoft Print to PDF Enabled Enables user support for Print to PDF. Microsoft XPS Doc Writer Enabled Enables user support for Microsoft XPS Doc Writer functionality. Remote Differential Compression Application Programming Interface (API) Support Enabled Required for application compatibility. Windows PowerShell Enabled Support administration scripting activities, with Constrained Language Mode. Note: PowerShell version 2.0 should be disabled or removed."},{"location":"blueprint/client-devices/#universal-windows-platform-applications","title":"Universal Windows Platform applications","text":"<p>Universal Windows Platform (UWP) applications are applications that run on Windows 10 and newer devices. Developers can build line of business Windows Store apps using standard programming languages. The Windows Runtime (WinRT) supports C#, C++, JavaScript and Visual Basic.</p> <p>UWP applications cannot access user resources unless the application specifically declares a need to use those resources. This ensures a clear connection between apps and the types of resources the app has access to.</p> <p>Universal Windows Platform Applications Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Windows SOE Footprint Reduce The organisation will reduce the size of the Windows SOE footprint by configuring the settings in the next table unless the organisation has a specific requirement for these applications to be enabled. <p>Universal Windows Platform Application configuration applicable to all agencies and implementation types</p> Configuration Value Description Alarms and Clock Provisioned A versatile combination of alarm clock app, world clock, timer, and stopwatch. Bing Removed Weather and News. Calculator Provisioned A calculator that includes standard, scientific, and programmer modes, as well as a unit converter. Camera Removed The redesigned Camera is faster and simpler than ever before. Mail and Calendar Removed The Mail and Calendar apps provides access to a user's email, schedule, and contacts. This access will be granted through Outlook. Maps Removed Provides search functionality for places to get directions, contact numbers, business info, and reviews. Microsoft OneDrive OneDrive personal removed. OneDrive for Business will be used. OneDrive is a cloud storage, file hosting service that allows a user to synchronise files and later access them from a web browser or mobile device. Microsoft Solitaire Collection Removed Microsoft Solitaire Collection on Windows 10. Microsoft Video Removed The Movies &amp; TV app brings a user the latest entertainment in one simple, fast, and elegant app on Windows. Mixed Reality Removed 3D Viewer, Print 3D, Mixed Reality Portal. Mobile Removed Your Phone, Mobile Plans, Connect App. OfficeHub Removed MyOffice. OneNote Provisioned Microsoft OneNote Application. Paint3D Provisioned Microsoft Paint3D Application. People Removed The People app in Windows is a modern take on the flat contact lists of the past. It is built for the way people communicate today and is connected to cloud services. Photos Provisioned The best place to enjoy, organise, edit, and share digital memories. Snip and Sketch Provisioned Capture a specific area of the screen. MS Paint Provisioned Creative paint and drawing tool. Sticky Notes Provisioned Sticky Notes. Store Microsoft Store for Business will be used. Shopfront for purchasing and downloading applications. Microsoft Xbox Removed The Xbox experience on Windows. The Xbox app brings together friends, games, and accomplishments across Xbox One and Windows devices. Zune Removed Groove Music and Movies."},{"location":"blueprint/client-devices/#microsoft-store","title":"Microsoft Store","text":"<p>The Microsoft Store is an online store for applications available for Windows 8 and newer operating systems. The Microsoft Store has been designed to be used in both public and enterprise scenarios depending on whether the Microsoft Public Store or Microsoft Store for Business is configured.</p> <p>The Microsoft Public Store is the central location for browsing the library of available Windows UWP Applications that can be installed on Windows 10. The Microsoft Public Store includes both free and paid applications. Applications published by Microsoft and other developers are available.</p> <p>The Microsoft Store for Business (private store) allows organisations to purchase applications in larger volumes and customise which applications are available to users. Applications which are made available can either be distributed directly from the store or through a managed distribution approach. Applications which have been developed within the organisation can also be added and distributed as required.</p> <p>Licencing can also be managed through the Microsoft Store for Business and administrators can reclaim and reuse application licences.</p> <p>Microsoft Store Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Public Store Disabled To align with the ACSC Windows hardening guidance. Microsoft Store for Business Enabled To allow the delivery of enterprise volume purchased apps including the Intune Company Portal."},{"location":"blueprint/client-devices/#enterprise-applications","title":"Enterprise applications","text":"<p>Enterprise applications provide organisations and end users the functionality they require to perform day to day activities.</p> <p>Applications can be delivered to the user's desktop by one of the following methods:</p> <ul> <li>Intune \u2013 Ideally suited for Windows 10/11 only deployments. The only option for delivering application to iOS clients.</li> <li>MECM \u2013 Ideally suited where an organisation has a large existing investment of packaged applications. The only option for delivering application to servers. Only option for delivering virtual applications. </li> </ul> <p>Self-Service applications are requested by users directly. They can be delivered via Software Centre which is installed as part of the MECM client or Company Portal which is available as part of Intune and the Microsoft 365 tenant. As of MECM version 1802 \"user-available\" apps now appear in Software Centre under the applications tab where they were previously available in the Application Catalogue</p> <p>Packaging methodology should be inherited from existing organisation procedures as each application has unique requirements. It is possible to repacked existing applications into an msix format which is compatible with both Intune and MECM delivery.</p> <p>Enterprise Applications Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Application Delivery Technologies Deployed via Intune Applications deployed via Intune and will be installed during the build deployment. Self Service Company Portal Allow users to install the apps needed while ensuring the SOE remains as light weight as possible. Packaging Methodology Organisation preference Applications will be packaged according to organisation internal packaging standards and delivered via Intune. <p>Enterprise Applications Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Application Delivery Technologies Deployed via Intune or MECM Applications deployed via Intune and will be installed during the build deployment.MECM can continue to be used for existing applications, however consideration should be made to migrate these to Intune in future. Self Service Company Portal or MECM Software Center Allow users to request install of specific apps while ensuring the SOE remains as light weight as possible. Packaging Methodology Organisation preference Applications will be packaged according to organisation internal packaging standards and delivered via MECM or Intune."},{"location":"blueprint/client-devices/#power-management","title":"Power Management","text":"<p>The power settings in Windows can be fully managed by Intune, MECM, or Group Policy. Individual settings can be enforced or set as defaults that can then be changed by the user as desired.</p> <p>Users can adjust power and performance options via the system tray power slider icon to:</p> <ul> <li>Better Battery / Recommended - Better Battery / Recommended provides extended battery life than the default settings on previous versions of Windows</li> <li>Better Performance - Better Performance is the default slider mode that slightly favours performance over battery life and is appropriate for users who want to trade-off power for better performance of applications</li> <li>Best Performance - Best Performance prioritizes performance over battery life</li> </ul> <p>Power Management Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Power Management technology Intune, MECM or Group Policy Organisation preference of technology to configure power options. If using MECM or GPO, consideration should be made to migrate these to Intune in future. Default Power Option Battery Balanced Default setting, no requirement to change has been identified. Default Power Option Powered Better Performance Default setting, no requirement to change has been identified. Allow standby states when sleeping (on battery) Disabled To align with the ACSC Windows hardening guidance. Allow standby states when sleeping (plugged in) Disabled To align with the ACSC Windows hardening guidance. Require a password when a computer wake (on battery) Enabled To align with the ACSC Windows hardening guidance. Require a password when a computer wakes (plugged in) Enabled To align with the ACSC Windows hardening guidance. Specify system hibernate timeout (on battery) EnabledSystem Hibernate Timeout (seconds): 0 To align with the ACSC Windows hardening guidance. Specify system hibernate timeout (plugged in) EnabledSystem Hibernate Timeout (seconds): 0 To align with the ACSC Windows hardening guidance. Specify system sleep timeout (on battery) EnabledSystem Sleep Timeout (seconds): 0 To align with the ACSC Windows hardening guidance. Specify system sleep timeout (plugged in) EnabledSystem Sleep Timeout (seconds): 0 To align with the ACSC Windows hardening guidance. Specify the unattended sleep timeout (on battery) EnabledUnattended Sleep Timeout (seconds): 0 To align with the ACSC Windows hardening guidance. Specify the unattended sleep timeout (plugged in) EnabledUnattended Sleep Timeout (seconds): 0 To align with the ACSC Windows hardening guidance. Turned off hybrid sleep (on battery) Enabled To align with the ACSC Windows hardening guidance. Turned off hybrid sleep (plugged in) Enabled To align with the ACSC Windows hardening guidance. Show hibernate in the power options menu Disabled To align with the ACSC Windows hardening guidance. Show sleep in the power options menu Disabled To align with the ACSC Windows hardening guidance."},{"location":"blueprint/client-devices/#windows-search-and-cortana","title":"Windows Search and Cortana","text":"<p>The Windows Search feature of Windows 10/11 provides indexing capability of the operating and file system allowing rapid searching for content stored on an attached hard disk. Once indexed, a file can be searched using either the file name or the content contained within the file.</p> <p>Cortana is a voice search capability of Windows 10. Cortana's features include being able to set reminders, recognise natural voice without the user having to input a predefined series of commands, and answer questions using information from Bing (like current weather and traffic conditions, sports scores, and biographies).</p> <p>Cortana can be used to perform tasks like setting a reminder, asking a question, or launching the app.</p> <p>Configuration of Cortana features can be managed by GPO or modern management (such as Microsoft Intune).</p> <p>Windows Search is text-based and is built into the local operating system.</p> <p>Windows Search and Cortana Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Cortana Disabled As per the ACSC hardening guidelines the Cortana feature will be disabled to comply with security requirements. Windows Search Enabled and configured for local content Windows search will be limited to local items only to prevent data leakage."},{"location":"blueprint/client-devices/#internet-browser","title":"Internet browser","text":"<p>The internet browser is a software application used for accessing web pages. This browser may be built into the operating system or installed later.</p> <p>Microsoft Edge Chromium is a web browser for Windows 10. It has been developed to modern standards and provides greater performance, security, and reliability. It also provides additional features such as Web Note and Reading View.</p> <p>Alternate browsers may also be deployed to support specific business needs or requirements.</p> <p>Internet Browser Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Default Browser Microsoft Edge Chromium \u2013 Stable edition To ensure compatibility and performance with modern web pages. Legacy support Microsoft Edge with IE mode To support legacy web pages not compatible with Edge."},{"location":"blueprint/client-devices/#tablet-mode","title":"Tablet mode","text":"<p>Tablet Mode is an adaptive user experience feature in Windows that optimises the look and behaviour of applications and the Windows shell for the physical form factor and end-user's usage preferences.</p> <p>Tablet Mode is a feature that switches a device experience from tablet mode to desktop mode and back. The primary way for an end-user to enter and exit \"tablet mode\" is manually through the Action Centre. In addition, Original Equipment Manufacturers (OEMs) can report hardware transitions (for example, transformation of 2-in-1 device from clamshell to tablet and vice versa), enabling automatic switching between the two modes.</p> <p>Tablet Mode Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Tablet Mode Enabled by default on devices that support it. To provide the option to manipulate Tablet Mode behaviour through the Action Centre on supported devices."},{"location":"blueprint/client-devices/#fast-user-switching","title":"Fast user switching","text":"<p>Fast User Switching allows more than one concurrent connection to a Windows device, however only one session can be active at a time.</p> <p>Fast User Switching creates potential security risks around session-jacking and credential breaches. If one user reboots or shuts down the computer while another user is logged on, the other user may lose work as applications may not automatically save documents.</p> <p>Fast User Switching Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Fast User Switching Disabled To minimise potential attack surface of the SOE."},{"location":"blueprint/client-devices/#corporate-branding","title":"Corporate branding","text":"<p>Organisational branding enables a consistent corporate user experience.</p> <p>Windows 10/11 permits the image displayed at the lock screen, logon screen, and desktop wallpaper to be customised and support various resolutions. The appropriate resolution is selected based on an image file name. Windows will automatically select the appropriate image based on the current screen resolution. If a file matching the screen resolution cannot be found, a default image file is used, and the picture stretched to fit the screen.</p> <p>Custom themes can be deployed to workstations either enforcing the theme or allowing a user to customise it after the initial SOE deployment. Each client organisation would be required to provide information necessary to customise the branding.</p> <p>Although a system is capable of being assessed as PROTECTED, banners and backgrounds should not be set to PROTECTED in the SOE or desktop background until an IRAP assessment has been completed.</p> <p>Corporate Branding Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Lock Screen Custom Corporate wallpaper Customised to the organisation corporate wallpaper to provide a corporate look and feel. Logon Screen Custom Corporate wallpaper Customised to the organisation corporate wallpaper to provide a corporate look and feel. Wallpaper Custom Corporate wallpaper Customised to the organisation corporate wallpaper to provide a corporate look and feel. Default Account Picture Custom organisation logo Customised to the organisation logo to provide a corporate look and feel. Theme Organisation choice Customised to the organisation's requirements. Theme Colour Organisation choice Customised to the organisation's requirements. Windows Colour Default Customised to the organisation's requirements. Corporate Account Picture Default The default account picture will be displayed as the user account picture to provide a consistent look and feel. User Ability to Change Account Picture Disabled Disabled to provide a consistent configuration for all organisation users."},{"location":"blueprint/client-devices/#system-properties","title":"System properties","text":"<p>The System Properties window can be customised in several ways. Within the System Properties window, the Manufacturer and Model values can be displayed.</p> <p>Support information can also be populated which includes:</p> <ul> <li>Support phone.</li> <li>Support hours.</li> <li>Support website.</li> </ul> <p>A custom OEM logo can also be displayed below the Windows logo.</p> <p>The system Computer Description can also be used to display the build date, time and SOE version.</p> <p>The Manufacturer value is used in the title string displayed in the support section, being \"Manufacturer support\". If the actual computer manufacturer were to be populated, then the support section heading would be \"HP support\", for example, which would be misleading for users. Setting the Manufacturer value to \"Organisation\" would set the support section heading to \"Organisation support\".</p> <p>System Properties Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Company Name Not Configured Not required to support deployments. OEM Logo Configured \u2013 Australian Government crest To identify that the equipment is under Australian Government jurisdiction. Manufacturer Value Configured \u2013 the Organisation Name To identify the organisation as the device owner. Model Value Configured \u2013 Asset Number To identify the device via asset label. Support Hours Value Configured \u2013 Support hours of internal ICT support To simplify organisation desktop support. Support Phone Value Configured To simplify organisation desktop support. Support URL Value Configured To simplify organisation desktop support. Computer Description Configured \u2013 Asset type and model To simplify organisation desktop support."},{"location":"blueprint/client-devices/#start-menu","title":"Start Menu","text":"<p>The Windows 10 Start Menu contains tiles that represent different programs that a user can launch by clicking on the tile. The Windows 11 Start Menu has been further updated to include both pinned applications and recommended documents by default.</p> <p>The default Start Menu layout can be configured for all users that use the device. Applications can be pinned to the start menu by administrators to ensure a consistent user experience across the environment. There are three levels of enforcement which are possible within the start menu:</p> <ul> <li>Full enforcement \u2013 The start menu is deployed centrally and cannot be altered by users in any way. Applications dictated by administrators are the only items which are present in the start menu. </li> <li>Partial enforcement \u2013 The start menu is deployed centrally and can be altered by users. An application group is deployed for corporate shortcuts and users can then add applications to the start menu in a separate application group. The centrally deployed application group cannot be altered.</li> <li>No enforcement \u2013 No start menu is defined centrally, and users can make any modification to the start menu.</li> </ul> <p>Start Menu Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Start Menu Layout Enforced Partially Corporate application group will be enforced, with the rest of the application group able to be customised by users. End-users can customise the Start Menu to suit specific needs, including the ability to resize, reorganise and choose whether to list most recent shortcuts."},{"location":"blueprint/client-devices/#screen-saver","title":"Screen saver","text":"<p>The screen saver was originally designed prevent burn-in on Cathode Ray Tube (CRT) and plasma screens. Modern usage of the screen saver allows the operating system to detect a period of inactivity and lock or blank the screen reducing power usage.</p> <p>Screensavers should be applied at regular intervals in instances that a user may walk away from their endpoint and leave their workstation unlocked. Screensavers can also be used in some circumstances as a communication mechanism to users. Microsoft does not recommend enabling a screen saver on devices. Instead, Microsoft recommends using automatic power plans to dim or turn off the screen as this can help reduce system power consumption. </p> <p>Configuration can be applied to restrict the end-user ability to configure or change the screen saver settings.</p> <p>Screen Saver Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Screen Saver Disabled Not required, the device will be configured to sleep after 15 minutes. Machine Inactivity Configured \u2013 900 seconds To align with the ACSC Windows hardening guidance. Users Can Configure the Screen Saver No Disable the ability for users to configure the screen saver for all Windows SOE devices. Require Password on Wake Configured Users will be required to enter their password on machine wake up to align with the ACSC Windows hardening guidance."},{"location":"blueprint/client-devices/#profiles-personalization-and-folder-redirection","title":"Profiles, personalization, and folder redirection","text":"<p>Profiles are a collection of data and settings for each user of a Windows computer. Examples of data captured as part of a user's profile are user settings, desktop shortcuts, and application settings.</p> <p>Profile configuration values are specific to a single user and are stored in a single folder known as the 'User Profile'. These configuration parameters (themes, window colour, wallpapers, and application settings) determine the look and feel of the operating environment for a specific user.</p> <p>Microsoft includes several standard options for user profiles. Alternatively, technologies such as Microsoft UE-V or FSLogix can be used to address user profile and personalisation requirements. If no user profile is configured, a desktop local profile is used, which does not backup options but performs well.</p> <p>Microsoft provide the following profile management solutions:</p> <ul> <li>Local Profiles \u2013 Local user profiles are stored on the workstation. When the user logs on for the first time, a local user profile is created for the user and stored by default in <code>C:\\Users\\%USERNAME%</code>. Whenever a user logs on to the workstation, the user's local user profile is loaded. When the user logs off the workstation, any configuration changes made to the user's profile are saved in the user's profile</li> <li>Mandatory Profiles \u2013 Mandatory profiles are a profile that does not save profile changes and are enforced at each logon</li> <li>Roaming Profiles \u2013 Roaming user profiles are stored in a central location on the network, which is generally a shared folder on a server. When the user logs on to a workstation, the roaming user profile is downloaded from the network location and loaded onto the workstation. When the user logs off the workstation, any profile changes are saved to the network share. In addition to maintaining a copy of the roaming profile on the network share, Windows also keeps a locally cached copy of the roaming profile on each workstation that the user logs on. </li> </ul> <p>Windows 10/11 provides two main roaming profile technologies in User Experience Virtualization (UE-V) and FSLogix. FSLogix is now the preferred Roaming Profile option as it provides a consistently higher performance than UE-V and can provide a cloud-based roaming profile when configured with suitable Azure cloud storage blobs.</p> <p>Profiles, Personalization, and Folder Redirection Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Folder Redirection Redirect Windows Known Folders Users can continue using the folders they are familiar with. Files are automatically backed up to the users OneDrive folder in the cloud. <p>Additional Profiles, Personalization, and Folder Redirection Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Profile Type Local Profiles Local profiles will be configured to support end-user assigned devices. This configuration assumes that users will not share devices and do not require profile backups.Enterprise State Roaming will be enabled for key backup of key user settings. Known Folder Redirection Configuration Configured as listed below To enable user personalisation and provide backup of essential user data. <p>Additional Profiles, Personalization, and Folder Redirection Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Profile Type Roaming Profiles Roaming profiles will be configured to support end-user assigned devices. A roaming profile management product is recommended by the vendor, Microsoft.This configuration assumes that users can share devices. Known Folder Redirection Configuration Configured as listed below in Table 76 To enable user personalisation and backup of essential user data <p>Known Folder Redirection Configuration applicable to agencies leveraging a cloud native implementation.</p> Folder Path AppData Not Configured Contacts Not Configured Desktop <code>C:\\Users\\%username%\\OneDrive\\Desktop</code> Documents <code>C:\\Users\\%username%\\OneDrive\\Documents</code> Downloads Not Configured Favourites Not Configured Links Not Configured Searches Not Configured Music Not Configured Pictures <code>C:\\Users\\%username%\\OneDrive\\Pictures</code> Videos Not Configured <p>Known Folder Redirection Configuration applicable to agencies leveraging a hybrid implementation.</p> Folder Path AppData Not Configured Contacts Not Configured Desktop <code>\\\\\\\\server\\share\\Users\\%username%\\OneDrive\\Desktop</code> Documents <code>\\\\\\\\server\\share\\Users\\%username%\\OneDrive\\Documents</code> Downloads Not Configured Favourites Not Configured Links Not Configured Searches Not Configured Music Not Configured Pictures <code>\\\\\\\\server\\share\\Users\\%username%\\OneDrive\\Pictures</code> Videos Not Configured"},{"location":"blueprint/client-devices/#operational-support","title":"Operational support","text":"<p>Windows 10/11 and supporting management tools offer various SOE support features to allow support personnel to access a machine remotely or provide users with the option to perform automated repairs.</p> <p>The following support components are available to support Windows 10/11:</p> <ul> <li>Intune \u2013 Intune can remotely wipe, reset and remove a device from Microsoft Entra ID. These functions are controlled by role-based administration, permitting only certain administrators to control these settings.</li> <li>Windows Remote Management (WinRM) \u2013 WinRM is the Microsoft implementation of the WS-Management Protocol, a standard Simple Object Access Protocol (SOAP) based, firewall-friendly protocol that allows hardware and Operating Systems from different vendors to interoperate.</li> <li>WS-Management protocol - The WS-Management protocol specification provides a common way for systems to access and exchange management information across an IT infrastructure. WinRM and Intelligent Platform Management Interface (IPMI), along with the Event Collector are components of the Windows Hardware Management features.</li> <li>Windows Remote Assistance \u2013 Windows Remote Assistance in Windows uses the Remote Desktop Protocol (RDP) protocol to provide a Remote Desktop connection that is interactive between the locally logged on user and a remote user.</li> <li>Remote Desktop \u2013 Remote Desktop enables a user to remotely logon interactively to a workstation from another computer with a supported Remote Desktop client.</li> <li>Remote Control \u2013 Remote control options are limited to the following:</li> <li>TeamViewer which is a paid service that fully integrates in Intune.</li> <li>Remote Control within MECM is this is configured in a hybrid deployment.</li> <li>Microsoft Teams assuming the user can share the desktop.</li> </ul> <p>Operational Support Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Intune Enabled Intune management functions cannot be disabled when a device is enrolled in Intune and Microsoft Entra ID. WinRM Enabled To meet operating support requirements for the organisation. Consideration should be made to harden the use of WinRM in the organisation environment to increase the security of Windows 10/11 endpoints. Windows Remote Assistance Disabled To align with the ACSC Windows hardening guidance and reduces the attack surface. Remote Desktop Disabled To align with ACSC recommendations and reduce the risk of unauthorised access by a malicious actor. Remote Desktop Client Enabled The Remote Desktop Client will be enabled for Windows 10/11 devices to enable access to remote services (e.g., servers). Remote Control via Teams Enabled Users can share the desktop within the Microsoft Teams application."},{"location":"blueprint/client-devices/#windows-update-and-patching","title":"Windows update and patching","text":"<p>Many updates released for operating systems and application contain bug fixes and security updates. Vulnerabilities can be exploited by malicious code or hackers and need to be patched as soon as possible.</p> <p>A risk assessment of a vulnerability is essential in determining the timeframe for applying patches. There are many different sources and indicators that will help with this assessment, for example if the vendor releases a patch outside of their normal patching cycle and its marked as a critical update then it is worth immediate investigation and deployment to see how it could affect an organisation.</p> <p>It is vital to have a robust and reliable patch management solution based on industry best practices.</p> <p>For Microsoft Windows environments the primary patching technologies are:</p> <ul> <li>Windows Server Update Service \u2013 WSUS enables administrators to deploy the most recent Microsoft updates. A WSUS server connects directly to Microsoft Update or an \"upstream\" WSUS server. This allows administrators to control what updates are applied and when, rather than having every computer on the network going to the Internet and installing every available update immediately.</li> <li>Microsoft Endpoint Configuration Manager (MECM) \u2013 MECM integrates with a WSUS server to deliver patch management. WSUS obtains updates from the internet and MECM is used to approve and deploy the updates. Using MECM to deploy software updates allows for more control over many aspects of the process such as targeting, maintenance windows, scheduling, and reporting.</li> <li>Microsoft Intune \u2013 Windows Update for Business provides management policies for several types of updates to Windows devices.</li> <li>Feature updates: feature updates contain security and quality revisions, significant feature additions and changes; they are released semi-annually in March and September.</li> <li>Quality updates: these are traditional operating system updates, typically released the second Tuesday of each month (though they can be released at any time). These include security, critical, and driver updates. Windows Update for Business also treats non-Windows updates (such as those for Microsoft Office or Visual Studio) as quality updates. These non-Windows Updates are known as \"Microsoft updates\" and can configure devices to receive or not receive such updates along with their Windows updates.</li> <li>Driver updates: these are non-Microsoft drivers that are applicable to the devices. Driver updates can be turned off by using Windows Update for Business policies.</li> <li>Microsoft product updates: these are updates for other Microsoft products, such as Office. These updates can be enabled or disabled by using Windows Update for Business policy.</li> </ul> <p>Update rings are policies that are assigned to groups of devices. Intune can define update rings that specify how and when service updates are deployed to Windows devices. By using update rings, it is possible to create an update strategy that mirrors business needs.</p> <p>To deploy patches to endpoints as quickly as possible, client-side settings should not restrict or delay the installation of patches where it does not interfere with critical operation or cause loss of data due to unexpected reboots.</p> <p>Windows Update and Patching Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Patching technology Organisation preference of Intune, MECM or WSUS For cloud native deployments, Intune is the only option available.For hybrid deployments, all three options are available for implementation. Intune provides a simpler approach to patching whilst MECM and WSUS provide more granular control of patch deployment. Patching Testing Method Pilot and Production Allows early deployment and test of Windows updates to selected users prior to the full release of updates to the remaining users.The Pilot group will be a select number of users who will actively provide feedback on updates before rollout to all users. Feature Updates Enabled To align with the ACSC Windows hardening guidance. Quality Updates Enabled To align with the ACSC Windows hardening guidance. Driver Updates Enabled To align with the ACSC Windows hardening guidance. Microsoft Product Updates Enabled To align with the ACSC Windows hardening guidance. Patching Frequency Existing organisation patch scheduling based on Essential Eight guidance The Agencies existing patch schedule should reflect:Patches, updates or vendor mitigations for security vulnerabilities in operating systems are applied two weeks of release, or within 48 hours if an exploit exists. Meets ACSC Essential Eight guidance for patching Operating Systems."},{"location":"blueprint/client-devices/#networking","title":"Networking","text":"<p>Windows 10/11 contains networking technologies built into the operating system. These features allow Windows to communicate with other networked devices including those on the Internet.</p> <p>IPv6 can be enabled or disabled within Windows 10/11 depending on the network to which the device will be connected. IPv6 should be disabled unless it is exclusively used throughout the network. </p> <p>Windows provides support for several wireless networking technologies that allow devices to connect to a wireless network. The two most popular technologies supported in Windows currently are Wi-Fi and Mobile Broadband networking.</p> <p>802.1x ensures that only appropriate users or devices can connect to a protected network and that data is secure at the radio transmission level. The Single Sign-On (SSO) feature executes Layer 2 network authentication at the appropriate time given the network security configuration, integrating with the user's Windows logon experience.</p> <p>Networking Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification IPv6 Disabled To align with the ACSC Windows hardening guidance.Exceptions to this rule are if IPv6 is wholly deployed within an organisation network with no IPv4. Wireless Enabled Where applicable, wireless capable devices will have Wi-Fi enabled to allow use case of mobile working. Wireless Configuration Refer to Table below for wireless configuration recommendations. To align with the ACSC Windows hardening guidance. Broadband Not Configured If organisation devices have Subscriber Identity Module (SIM) capability this can be enabled without affecting an agencies cyber security posture. Network Bridging Disabled To align with the ACSC Windows hardening guidance. Wake on LAN (WoL) Configured via existing MECM solution if in use Wake on LAN configured to allow existing MECM management tasks to operate on computers regardless of power status. <p>Wireless Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Connect to Wireless Hotspots Enabled Allows users to connect to wireless hotspots when working remotely. Automatically Connect to Suggested Open Hotspots Disabled To align with the ACSC Windows hardening guidance. Prohibit installation and configuration of Network Bridge Enabled To align with the ACSC Windows hardening guidance. Single Sign On 802.1x Enabled To align with the ACSC Windows hardening guidance. Wireless Profile Configuration Configured Will be configured depending on the organisation requirements."},{"location":"blueprint/client-devices/#delivery-optimisation","title":"Delivery optimisation","text":"<p>Delivery optimisation makes use of configurable peer-to-peer or caching technologies to decrease the internet bandwidth consumed by patches and updates.</p> <p>Within an organisation application deployments and patch updates can occur daily to keep an organisation secure and provide the end users the capabilities to perform their work. These application deployments and patch updates can consume high levels of bandwidth, increasing the cost to an organisation. To allow organisations to decrease bandwidth use and cost organisations can implement Delivery Optimisation solutions within their main and remote offices. Delivery Optimisation is essentially a peer-to-peer client service that allows end clients to source installation packages and updates from other clients/servers within the network as opposed to always obtaining them from the source servers or the internet. There are two types of configuration options for Delivery Optimisation:</p> <p>The following options apply to cloud native and Hybrid (configured in Intune):</p> <ul> <li>HTTP only, no peering: Delivery Optimisation cloud service used to provide metadata only. Content to be retrieved from the downloads original source with peer-to-peer disabled. </li> <li>HTTP blended with peering behind same NAT: Peer-to-peer sharing within the same network. Delivery Optimisation cloud service locates peers that connect to the internet using the same public IP and attempts to connect peers using their private subnet IP. </li> <li>HTTP blended with peering across private group: Peers are automatically grouped by using the Active Directory Domain Services site or domain they reside in. Custom groups can also be used with peers being either manually or dynamically added to the group. Peers within the same group are connected.</li> <li>HTTP blended with internet peering: Enabled Internet peer sources for Delivery Optimisation.</li> <li>Simple download mode with no peering: Delivery Optimisation cloud services are disabled. This mode is automatically used with the Delivery Optimisation cloud service is not accessible or when the content file size is less than 10 MB.</li> <li>Bypass mode: Microsoft BITS will be used instead and should only be used if WSUS is in use and the preference is for BranchCache. </li> </ul> <p>The following options apply to Hybrid (configured in MECM):</p> <ul> <li>BranchCache: Allows systems within the same subnet and separated from a content source to share downloaded content locally instead of traversing a latent network link back to the MECM content source. </li> </ul> <p>BranchCache provides two modes of operation being:</p> <ul> <li>Distributed Cache Mode - Content cache at a remote office is distributed among client systems.</li> <li>Hosted Cache Mode - Content cache at a remote office is hosted on one or more hosted cache servers.</li> <li>Peer Cache: Is a built-in Configuration Manager solution that allows the clients to share content with other clients directly from their local cache providing Delivery Optimisation. </li> <li>Microsoft Connected Cache: With MECM version 1910 a MECM distribution point can be configured as a Microsoft Connected Cache server allowing it to act as an on-demand cache for content downloaded by Delivery Optimisation. </li> </ul> <p>Delivery Optimisation Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Delivery Optimisation Method / Feature - single subnet per physical office HTTP blended with peering behind same NAT Good for single subnet per office as content will be peered per office only. This will not saturate WAN connections. Delivery Optimisation Method / Feature - single subnet spanning multiple physical offices HTTP blended with peering across private group Provides the ability to group workstations so only the groupings can peer content. <p>Delivery Optimisation Design Decisions for hybrid implementations where MECM is the update delivery mechanism.</p> Decision Point Design Decision Justification Delivery Optimisation Method / Feature BranchCache Existing MECM solution exists with BranchCache Delivery Optimisation feature enabled. Mode of operation Distributed Cache Mode Existing MECM solution exists with BranchCache configured in Distribute Cache Mode."},{"location":"blueprint/client-devices/#microsoft-office-edition","title":"Microsoft Office edition","text":"<p>Microsoft Office is available in two release cycles and within those release cycles there are multiple editions.</p> <p>Microsoft Office has two release cycles:</p> <ul> <li>Microsoft 365 Apps for enterprise \u2013 Microsoft 365 Apps for enterprise combines the Microsoft Office desktop suite with cloud-based versions of Microsoft's communications and collaboration services\u2014including Microsoft Exchange Online, Microsoft SharePoint Online, Office Online, and Microsoft Teams. Microsoft 365 Apps for enterprise is upgraded with new features on a regular basis via feature update channels.</li> <li>Traditional Microsoft Office \u2013 Traditional Microsoft Office is sold as a one-time purchase and provides Office applications for a single computer. There are no upgrade channel options which means to upgrade to the next major release, another copy of MS Office will have to be procured. Traditional Microsoft Office is not upgraded with new features for the life of the release. Microsoft Office 2019 is the latest traditional version available.</li> </ul> <p>Within these release cycles, you can choose the architecture of 32-bit or 64-bit. Microsoft Office provides 32-bit or 64-bit version to be installed on Windows devices. Microsoft 64-bit version of Office will be automatically chosen to be installed, unless 32-bit version is installed. The 64-bit version of Office provides ability working with larger datasets and files. However, 64-bit version of Office does not support legacy macros, and COM Add-In.</p> <p>Microsoft 365 Apps for enterprise provides three feature update channels for customers to choose:</p> <ul> <li>Current Channel - new Office features are available as soon as they are released, not on a set schedule.</li> <li>Monthly Enterprise Channel: new office features are released in a predictable monthly schedule.</li> <li>Semi-annual Enterprise Channel: new Office features are released twice a year. </li> </ul> <p>Microsoft Project and Visio (365 and 2019) are available as click-to-run editions that can be either licenced through Microsoft 365 or through hybrid licensing. Regardless of the licence type, they can be installed through Intune or MECM (for hybrid deployments). The installation media is configured using the Office Deployment Tool (ODT) which generates the installer and configuration options for the deployment. Microsoft Office 365 E3/E5 licensing does not include the rights to use these applications. There are some caveats to what combination of Office versions are supported alongside Project and Visio, please see the supported scenarios.</p> <p>Microsoft Office Edition Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Office Version Microsoft 365 Apps for Enterprise 64-bit Aligns with modernisation vision and provides access to the latest and most updated features. Microsoft 365 Apps Update channel Monthly Enterprise Provides the latest features for Office apps, such as Excel and Word, on a regular predictable basis. This will ensure new features are available but can be planned within the organisation's change management process."},{"location":"blueprint/client-devices/#office-features","title":"Office features","text":"<p>The Microsoft 365 Apps for Enterprise - formerly Office 365 ProPlus - features include the application set that will be provided to the users.</p> <p>The Microsoft Office feature section includes the details of the following components:</p> <ul> <li>Microsoft Access.</li> <li>Microsoft Excel.</li> <li>Microsoft Teams.</li> <li>Microsoft Office OneNote.</li> <li>Microsoft Outlook.</li> <li>Microsoft Publisher.</li> <li>Microsoft PowerPoint.</li> <li>Microsoft Word.</li> <li>Microsoft OneDrive Desktop.</li> </ul> <p>Office Features Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Office Word Enabled Required to enable user productivity. Microsoft Office Excel Enabled Required to enable user productivity. Microsoft Office Outlook Enabled Required to enable user productivity. Microsoft Office PowerPoint Enabled Required to enable user productivity. Microsoft Office OneNote Enabled Required to enable user productivity. Microsoft Office Publisher Enabled Required to enable user productivity. Microsoft Teams Enabled Required to enable user productivity. Microsoft Office Access Disabled Not installed by default."},{"location":"blueprint/client-devices/#office-language-pack","title":"Office language pack","text":"<p>Language packs add additional display, help, and proofing tools to Microsoft Office. Multiple language packs can be installed to support specific user requirements.</p> <p>If additional language packs are installed it is also likely that keyboards other than US will be required.</p> <p>Office Language Pack Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Default Language English (UK) \u2013 AU Default Required to support the Microsoft Office deployment and allow user productivity.English (US) language pack is removed from the SOE as part of the English (UK) install. English (UK) contains the AU region language pack which is then set as default. Additional Language Not Configured Additional languages will be installed if required to meet organisation requirements."},{"location":"blueprint/client-devices/#onedrive-for-business","title":"OneDrive for Business","text":"<p>OneDrive for Business provides a robust cloud storage platform for government agencies.</p> <p>This OneDrive for Business section considers the client component only. The configuration of the server component of OneDrive for Business is contained in the Office 365 Solution Overview document.</p> <p>OneDrive enables the secure sharing of files inside and outside an organisation, and on any compatible device. Compliance settings allow administrators to control the level of security within the application.</p> <p>OneDrive also facilitates collaboration between users. Co-authoring is available via Office web apps, Office mobile apps, and Office desktop apps, helping users maintain a single working version of any file and edit concurrently.</p> <p>The OneDrive for Business client has access to two distinct primary rings and an additional preview ring:</p> <ul> <li>Production Ring \u2013 The Production ring provides new features and improvements as soon as they are released by Microsoft.</li> <li>Enterprise Ring \u2013 The enterprise ring rolls out changes after validated in the Production ring, reducing the risk of issues. This ring enables administrators to deploy updates from an internal network location and control the timing of the deployment (within a 60-day window). This is the recommended update ring for most large scale or high-risk organisations.</li> <li>Insiders Ring \u2013 Insider ring users will receive builds that let them preview new features coming to OneDrive.</li> </ul> <p>The Windows Known Folder feature of OneDrive for Business enables administrators to easily move files in a users' Desktop, Documents, and Pictures folders to OneDrive.</p> <p>OneDrive Files On-Demand enables users to view, search for, and interact with files stored in OneDrive from within File Explorer without downloading them all to the local device. The feature delivers a unified look and feel for both OneDrive and local files whilst saving on space normally taken up on the local hard drive.</p> <p>OneDrive allows users to work on content that is stored online in the cloud as well as store and synchronise content locally through the OneDrive for Business client. Synchronising this content between the client device and OneDrive storage can consume a considerable amount of bandwidth especially if the internet connection is slow. The OneDrive for Business client provides the capability to shape upload and download rates for synchronising content hence reducing the impact on the network. If the internet connection is too slow the end user can continue to work on the content locally and the content will be automatically synchronised by OneDrive for Business client when the internet connection speed improves.</p> <p>OneDrive for Business Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification OneDrive for Business Enabled and silently configured OneDrive will be configured without user intervention on sign in. Sync Client Update Ring Enterprise As per Microsoft recommendations for large environments. OneDrive Personal Account Disabled Personal accounts will be disabled. OneDrive for Business accounts will be used. Default Location <code>%userprofile%</code> Default OneDrive folder location is suitable for the Windows SOE. Allow Changing Default Location Disabled As per Microsoft recommendation for shared devices users will be prevented from changing the default OneDrive folder location. Files On-Demand Enabled Files On-Demand will be configured to save storage space on users' computers and minimise the network impact of sync. Backup - Sync Windows Known Folders Enabled Syncing Windows known folders to OneDrive for Business will be configured for the Windows SOE. This will enable the users Documents, Pictures and Desktop folders to be saved in OneDrive automatically. Network settings \u2013 Upload Do not limit Allow dynamic network configuration to provide best performance. Network settings \u2013 Download Do not limit Allow dynamic network configuration to provide best performance. File Collaboration Policy Enabled File collaboration will be enabled to allow users to work collaboratively and increase productivity. Sync Conflict Policy Let me choose to merge changes or keep copies The OneDrive sync conflict policy will be configured to allow the user to choose."},{"location":"blueprint/client-devices/#ease-of-access","title":"Ease of Access","text":"<p>Where required, accessibility features can be configured to accommodate user needs by IT support staff.</p> <p>Ease of Access Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Vision accessibility features Default setting are enabled:DisplayMouse pointerText cursorMagnifierColor filtersHigh contrastNarrator To aid in accessibility and does not conflict with ACSC hardening recommendations. Hearing accessibility features Default setting are enabled:AudioClosed captions To aid in accessibility and does not conflict with ACSC hardening recommendations. Interaction accessibility features Default setting are enabled:SpeechKeyboardMouseEye control To aid in accessibility and does not conflict with ACSC hardening recommendations."},{"location":"blueprint/client-devices/#windows-security","title":"Windows security","text":"<p>Security settings are applied to the SOE largely to slow down and prevent malicious adversaries and payloads from causing harm to an organisation. The security settings should not prevent legitimate users from conducting work and should provide them with the correct amount of access to the environment to allow them to operate without impeding the work.</p>"},{"location":"blueprint/client-devices/#microsoft-defender","title":"Microsoft Defender","text":"<p>Microsoft delivers several threat protection and mitigation capabilities in Windows Enterprise devices delivered through Microsoft Defender.</p> <p>These capabilities do not require additional agents and are manageable via Intune Endpoint Protection Profiles.</p> <p>The following details the Microsoft Defender capabilities:</p> <ul> <li>Microsoft Defender Antivirus \u2013 Provides anti-malware and spyware protection including always-on scanning, dedicated protection updates and cloud-delivered protection. Integration with Internet Explorer and Microsoft Edge browsers enable real time scanning of files as they are downloaded to detect malicious software.</li> <li>Microsoft Defender Exploit Guard \u2013 Provides Host-based Intrusion Protection System (HIPS) capabilities and replaces the Microsoft Enhanced Mitigation Experience Toolkit (EMET).</li> <li>Microsoft Defender Application Guard \u2013 Provides hardware isolation of Microsoft Edge to protect against malicious websites. Protection is provided through the use of Hyper-V enabled containers isolated from the host operating system for opening untrusted websites.</li> <li>Microsoft Defender Credential Guard \u2013 Provides virtualisation-based security to isolate credentials to protect against identity theft attacks. Much like Device Guard, Credential Guard uses Virtual Secure Mode (VSM) to isolate processes, in this case the Local Security Authority (LSA). The LSA performs various security operations, including the storage and management of user and system credentials. Unauthorised access to the LSA can lead to credential theft attacks, such as Pass-the-Hash or Pass-The-Ticket.</li> <li>Microsoft Defender Remote Credential Guard \u2013 Provides protection of credentials used over a Remote Desktop connection by redirecting the Kerberos authentication request back to the device requesting the remote connection. Remote Credential Guard cannot be used when connecting to remote desktops that are are not joined to the same Active Directory Domain Services domain as the client, or where there is no trust relationship between the client device and the remote desktop.</li> <li>Microsoft Defender Firewall \u2013 Provides stateful packet inspection and blocking of network traffic. Windows Defender Firewall blocks unauthorized network traffic flowing into and out of the client endpoint reducing the attack surface of the device.</li> <li>Microsoft Defender SmartScreen \u2013 Provides malware and phishing website protection including downloaded files. SmartScreen protects users by performing the following.</li> <li>Analysing webpages for signs of distrustful behaviour and shows a warning page if it identifies suspicious activity.</li> <li>Validates sites against a dynamic list of known phishing and malicious software sites and shows a warning page if it identifies page.</li> <li>Validates downloaded files against a list of known software sites and programs and shows a warning page if it identifies the site or program may be malicious.</li> <li>Validates downloaded files against a list of files that are known and used by a large number of windows users. If not found on the list SmartScreen shows a warning.</li> </ul> <p>Microsoft Defender Exploit guard comprises of the below features:</p> <ul> <li>Exploit protection \u2013 Exploit protection applies exploit mitigation mechanisms to applications. Works with third-party antivirus solutions and Windows Defender Antivirus.</li> <li>Attack surface reduction \u2013 Attack Surface Reduction (ASR) rules reduce the attack surface of applications with rules that stop the vectors used by Office, script, and mail-based malware.</li> <li>Network protection \u2013 Network protection extends the malware and social engineering protection offered by Microsoft Defender SmartScreen in Microsoft Edge to cover network traffic and connectivity on organisation devices.</li> <li>Controlled Folder Access \u2013 Controlled folder access protects files in key system folders from changes made by malicious and suspicious apps.</li> </ul> <p>Microsoft Defender Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Defender Enabled Microsoft Defender will be enabled to align with ACSC guidance. Microsoft Defender Capabilities Enabled in the SOE Components:Microsoft Defender AntivirusMicrosoft Defender Exploit GuardMicrosoft Defender Application ControlMicrosoft Defender SmartScreenMicrosoft Defender Application GuardMicrosoft Defender Credential GuardMicrosoft Defender Remote Credential Guard (hybrid only)Microsoft Defender Firewall Provides required security controls for the SOE. Microsoft Defender Antivirus Exclusions Enabled and configured To align with the ACSC Windows hardening guidance. Microsoft Defender Exploit Guard Configuration Enabled and configured To align with the ACSC Windows hardening guidance. Microsoft Defender Application Control Configuration Enabled and configured To align with the ACSC Windows hardening guidance. Microsoft Defender Smart Screen Configuration Enabled and configured To align with the ACSC Windows hardening guidance. Microsoft Defender Credential Guard Configuration Enabled and configured Aligns with security and compliance requirements. Enabled without lock allows Microsoft Defender Credential Guard to be managed remotely. Microsoft Defender Firewall Configuration Enabled and configured To align with the ACSC Windows hardening guidance."},{"location":"blueprint/client-devices/#windows-hardening","title":"Windows hardening","text":"<p>The following design components apply to the hardening of Microsoft Windows 10 21H1 and above, including Windows 11.</p> <p>The Windows security settings detailed in this section are based on Microsoft best practice and the ACSC Hardening Microsoft Windows 10 version 21H1 Workstations (Oct-2021) guidance.</p> <p>Note, the ACSC Government Uplift team have advised that the controls in their Windows 10 hardening guide also apply to Windows 11, and therefore should continue to be used. </p> <p>Windows Hardening Design Decisions for all agencies and implementation types.</p> <ul> <li>Attack Surface Reduction</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Attack Surface Reduction rules \u2013 Enabled   <code>(BE9BA2D9-53EA-4CDC-84E5-9B1EEEE46550,D4F940AB-401B-4EFC-AADC-AD5F3C50688A,3B576869-A4EC-4529-8536-B80A7769E899,75668C1F-73B5-4CF0-BB93-3ECF5CB7CC84,D3E037E1-3EB8-44C8-A917-57927947596D,5BEB7EFE-FD9A-4556-801D-275E5FFC04CC,92E97FA1-2EDF-4476-BDD6-9DD0B4DDDC7B,01443614-CD74-433A-B99E-2ECDC07BFC25E,C1DB55AB-C21A-4637-BB3F-A12568109D35,9E6C4E1F-7D60-472F-BA1A-A39EF669E4B2,D1E49AAC-8F56-4280-B9BA-993A6D77406C,B2B3F03D-6A65-4F7B-A9C7-1C7EF74A9BA4,26190899-1602-49E8-8B27-EB1D0A1CE869,7674BA52-37EB-4A4F-A9A1-F0F9A1619A2C,E6DB77E5-3DF2-4CF1-B95A-636979351E5B)</code></li> <li>Credential caching</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Interactive logon: Number of previous logons to cache: 1 logon</li> <li>Network access: Do not allow storage of passwords and credentials for network authentication: Enabled</li> <li>WDigest Authentication: Disabled</li> <li>Turn On Virtualization Based Security: Enabled</li> <li>Select Platform Security Level: Secure Boot and DMA Protection</li> <li>Credential Guard Configuration: Enabled with UEFI lock</li> <li>Controlled Folder Access</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Configure allowed applications: Enabled</li> <li>Configure Controlled folder access: Enabled</li> <li>Configure protected folders: Enabled</li> <li>Credential entry</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Do not display network selection UI: Enabled</li> <li>Enumerate local users on domain-joined computers: Disabled</li> <li>Do not display the password reveal button: Enabled</li> <li>Enumerate administrator accounts on elevation: Disabled</li> <li>Require trusted path for credential entry: Enabled</li> <li>Prevent the use of security questions for local accounts: Enabled</li> <li>Disable or enable software Secure Attention Sequence: Disabled</li> <li>Sign-in last interactive user automatically after a system-initiated restart: Disabled</li> <li>Interactive logon: Do not require CTRL+ALT+DEL: Disabled</li> <li>Early Launch Antimalware</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Boot-Start Driver Initialization Policy: Enabled</li> <li>Choose the boot-start drivers that can be initialized: Good and unknown</li> <li>Elevating privileges</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>User Account Control<ul> <li>Admin Approval Mode for the Built-in Administrator account: Enabled</li> <li>Allow UIAccess applications to prompt for elevation without using the secure desktop: Disabled</li> <li>Behavior of the elevation prompt for administrators in Admin Approval Mode: Prompt for credentials on the secure desktop</li> <li>Behavior of the elevation prompt for standard users: Automatically deny elevation requests</li> <li>Detect application installations and prompt for elevation: Enabled</li> <li>Only elevate UIAccess applications that are installed in secure locations: Enabled</li> <li>Run all administrators in Admin Approval Mode: Enabled</li> <li>Switch to the secure desktop when prompting for elevation: Enabled</li> <li>Virtualize file and registry write failures to per-user locations: Enabled</li> </ul> </li> <li>Exploit protection</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Use a common set of exploit protection settings: Enabled</li> <li>Prevent users from modifying settings: Enabled</li> <li>Turn off Data Execution Prevention for Explorer: Disabled</li> <li>Enabled Structured Exception Handling Overwrite Protection (SEHOP): Enabled</li> <li>Local administrator accounts</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Accounts: Administrator account status: Disabled</li> <li>Apply UAC restrictions to local accounts on network logons: Enabled</li> <li>Password policy</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Turn off picture password sign-in: Enabled</li> <li>Turn on convenience PIN sign-in: Disabled</li> <li>Maximum password age: 365 days</li> <li>Minimum password length: 14 characters</li> <li>Password must meet complexity requirements: Enabled</li> <li>Store passwords using reversible encryption: Disabled</li> <li>Accounts: Limit local account use of blank passwords to console logon only: Enabled</li> <li>Account lockout policy</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Account lockout duration: 0</li> <li>Account lockout threshold: 5 invalid login attempts</li> <li>Reset account lockout counter after: 15 minutes</li> <li>Anonymous connections</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Enable insecure guest logons: Disabled</li> <li>Network access:<ul> <li>Allow anonymous SID/Name translation: Disabled</li> <li>Do not allow anonymous enumeration of SAM accounts: Enabled</li> <li>Do not allow anonymous enumeration of SAM accounts and shares: Enabled</li> <li>Let Everyone permissions apply to anonymous users: Disabled</li> <li>Restrict anonymous access to Named Pipes and Shares: Enabled</li> <li>Restrict clients allowed to make remote calls to SAM - O:BAG:BAD:(A;;RC;;;BA)</li> </ul> </li> <li>Network security:<ul> <li>Allow Local System to use computer identity for NTLM: Enabled</li> <li>Allow LocalSystem NULL session fallback: Disabled</li> </ul> </li> <li>Access this computer from the network: Administrators, Remote Desktop Users</li> <li>Deny access to this computer from the network - NT AUTHORITY\\Local Account</li> <li>Antivirus software</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Turn off Windows Defender Antivirus: Disabled</li> <li>Configure local setting override for reporting to Microsoft MAPS: Disabled</li> <li>Configure the 'Block at First Sight' feature: Enabled</li> <li>Join Microsoft MAPS: Enabled (Advanced MAPS)</li> <li>Send file samples when further analysis is required: Enabled (Send safe samples)</li> <li>Configure extended cloud check: Enabled (High blocking level)</li> <li>Configure removal of items from Quarantine folder: Disabled</li> <li>Scan all downloaded files and attachments: Enabled</li> <li>Turn off real-time protection: Disabled</li> <li>Turn on behavior monitoring: Enabled</li> <li>Turn on process scanning whenever real-time protection is enabled: Enabled</li> <li>Allow users to pause scan: Disabled</li> <li>Check for the latest virus and spyware definitions before running a scheduled scan: Enabled</li> <li>Scan archive files: Enabled</li> <li>Scan packed executables: Enabled</li> <li>Scan removable drives: Enabled</li> <li>Turn on e-mail scanning: Enabled</li> <li>Turn on heuristics: Enabled</li> <li>Attachment Manager</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Do not preserve zone information in file attachments: Disabled</li> <li>Hide mechanisms to remove zone information: Enabled</li> <li>Audit event management</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Audit event management: Enabled</li> <li>Audit Application: Enabled (65535KB)</li> <li>Audit Security: Enabled (2097152KB)</li> <li>Audit System: Enabled (65535KB)</li> <li>Manage auditing and security log: Administrators</li> <li>Autoplay and AutoRun</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Disallow Autoplay for non-volume devices: Enabled</li> <li>Set the default behavior for AutoRun: Enabled (Default AutoRun Behavior: Do not execute any autorun commands)</li> <li>Turn off Autoplay: Enabled (Turn off Autoplay on: All drives)</li> <li>Bridging networks</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Prohibit installation and configuration of Network Bridge on your DNS domain network: Enabled</li> <li>Prohibit use of Internet Connection Sharing on your DNS domain network: Enabled</li> <li>Route all traffic through the internal network: Enabled (Select from the following states: Enabled State)</li> <li>Prohibit connection to non-domain networks when connected to domain authenticated network: Enabled</li> <li>Built-in guest accounts</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Accounts: Guest account status: Disabled</li> <li>CD burner access</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Remove CD Burning features: Enabled</li> <li>Command Prompt</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Prevent access to the command prompt: Enabled (Disable the command prompt script processing also: Yes)</li> <li>Direct Memory Access</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Prevent installation of devices that match any of these device IDs: Enabled<ul> <li>Prevent installation of devices that match any of these Device IDs: <code>PCI\\CC_0C0010, PCI\\CC_0C0A</code></li> <li>Also apply to matching devices that are already installed.</li> </ul> </li> <li>Prevent installation of devices using drivers that match these device setup classes: Enabled<ul> <li>Prevent installation of devices using drivers for these device setup classes: <code>{d48179be-ec20-11d1-b6b8-00c04fa372a7}</code></li> <li>Also apply to matching devices that are already installed.</li> </ul> </li> <li>Drive encryption</li> <li>Justification: To align with the ACSC Windows hardening guidance. Note, the encryption key strength exceeds the requirements of the ACSC guidance.</li> <li>BitLocker Drive Encryption:<ul> <li>Choose drive encryption method and cipher strength: Enabled (XTS-AES 256-bit) </li> <li>Disable new DMA devices when this computer is locked: Enabled</li> <li>Prevent memory overwrite on restart: Disabled</li> </ul> </li> <li>Fixed Data Drives:<ul> <li>Choose how BitLocker-protected fixed drives can be recovered: Enabled (Allow data recovery agent)</li> <li>Configure use of passwords for fixed data drives: Enabled (Require password for fixed data drive)</li> <li>Deny write access to fixed drives not protected by BitLocker: Enabled</li> <li>Enforce drive encryption type on fixed data drives: Enabled (Full encryption)</li> </ul> </li> <li>Operating System Drives<ul> <li>Allow devices compliant with InstantGo or HSTI to opt out of pre-boot PIN: Disabled</li> <li>Allow enhanced PINs for startup: Enabled</li> <li>Allow network unlocked at startup: Enabled</li> <li>Allow Secure Boot for integrity validation: Enabled</li> <li>Choose how BitLocker-protected operating system drives can be recovered: Enabled (Allow data recovery agent)</li> <li>Configure minimum PIN length for startup: Enabled</li> <li>Configure use of passwords for operating system drives: Enabled</li> <li>Disallow standard users from changing the PIN or password: Disabled</li> <li>Enforce drive encryption type on operating system drives: Enabled (Fully encryption)</li> <li>Require additional authentication at startup: Enabled (Allow BitLocker without a compatible TPM)</li> <li>Reset platform validation data after BitLocker recovery: Enabled</li> </ul> </li> <li>Removable Data Drives<ul> <li>Choose how BitLocker-protected removable drives can recovered: Enabled (Allow data recovery agent)</li> <li>Configure use of passwords for removable data drives: Enabled</li> <li>Control use of BitLocker on removable drives: Enabled</li> <li>Deny write access to removable drives not protected by BitLocker: Enabled</li> <li>Enforce drive encryption type on removable data drives: Enabled (Fully encryption)</li> </ul> </li> <li>Account Lockout Policy<ul> <li>Interactive logon Machine account lockout threshold: 10</li> </ul> </li> <li>Endpoint device control</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>All Removable Storage classes: <ul> <li>Deny all access: Enabled</li> </ul> </li> <li>CD and DVD:<ul> <li>Deny execute access: Enabled</li> <li>Deny read access: Disabled</li> <li>Deny write access: Enabled</li> </ul> </li> <li>Custom Classes:<ul> <li>Deny read access: Disabled</li> <li>Deny write access: Enabled</li> </ul> </li> <li>Floppy Drives:<ul> <li>Deny execute access: Enabled</li> <li>Deny read access: Disabled</li> <li>Deny write access: Enabled</li> </ul> </li> <li>Removable Disks:<ul> <li>Deny execute access: Enabled</li> <li>Deny read access: Disabled</li> <li>Deny write access: Enabled</li> </ul> </li> <li>Tape Drives:<ul> <li>Deny execute access: Enabled</li> <li>Deny read access: Disabled</li> <li>Deny write access: Enabled</li> </ul> </li> <li>WPD Devices:<ul> <li>Deny read access: Disabled</li> <li>Deny write access: Enabled</li> </ul> </li> <li>File and print sharing</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Prevent the computer from joining a homegroup: Enabled</li> <li>Prevent users from sharing files within their profile: Enabled</li> <li>Installing applications and drivers</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Configure Windows Defender SmartScreen: Enabled (Warn and prevent bypass)</li> <li>Allow user control over installs: Disabled</li> <li>Always install with elevated privileges: Disabled</li> <li>Devices: Prevent users from installing printer drivers: Enabled</li> <li>Always install with elevated privileges: Disabled</li> <li>Legacy and run once lists</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Do not process the legacy run list: Enabled</li> <li>Do not process the run once list: Enabled</li> <li>Run these programs at user logon: Disabled</li> <li>Microsoft accounts</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Block all consumer Microsoft account user authentication: Enabled</li> <li>Prevent the usage of OneDrive for file storage: Enabled</li> <li>Accounts: Block Microsoft accounts: Users can't add or log on with Microsoft accounts</li> <li>MSS settings</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>IP source routing protection level: Enabled</li> <li>Allow ICMP redirects to override OSPF generated routes: Disabled</li> <li>Allow the computer to ignore NetBIOS name release requests except from WINS servers: Enabled</li> <li>Network authentication</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Configure encryption types allowed for Kerberos: AES128_HMAC_SHA1, AES256_HMAC_SHA1</li> <li>LAN Manager authentication level: Send NTLMv2 response only. Refuse LM &amp; NTLM</li> <li>Minimum session security for NTLM SSP based clients: Require NTLMv2 session security, Require 128-bit encryption</li> <li>Minimum session security for NTLM SSP based servers: Require NTLMv2 session security, Require 128-bit encryption</li> <li>No LM Hash policy</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Do not store LAN Manager hash value on next password change: Enabled</li> <li>PowerShell</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Turn on PowerShell Script Block Logging: Enabled</li> <li>Turn on Script Execution: Enabled (Allow only signed scripts)</li> <li>Registry editing tools</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Prevent access to registry editing tools: Enabled (Disable regedit from running silently: Yes)</li> <li>Remote Assistance</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Configure Offer Remote Assistance: Disabled</li> <li>Configure Solicited Remote Assistance: Disabled</li> <li>Remote Desktop Services</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Allow users to connect remotely by using Remote Desktop Services: Disabled</li> <li>Allow log on through Remote Desktop Services: blank</li> <li>Deny log on through Remote Desktop Services: Administrators, NT AUTHORITY\\Local Account</li> <li>Remote Procedure Call</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Restrict Unauthenticated RPC clients: Enabled (RPC Runtime Unauthenticated Client Restriction to Apply: Authenticated)</li> <li>Reporting system information</li> <li>Justification: To align with the ACSC Windows hardening guidance.   Note, additional telemetry is required for Desktop Analytics and Agencies may choose to enable it to aid in Microsoft Support troubleshooting.</li> <li>Microsoft Support Diagnostic Tool:<ul> <li>Turn on MSDT interactive communication with support provider: Disabled</li> </ul> </li> <li>Turn off Inventory Collector: Enabled</li> <li>Turn off Steps Recorder: Enabled</li> <li>Allow Telemetry: Enabled (0: Security)</li> <li>Configure Corporate Windows Error Reporting: Enabled</li> <li>Safe Mode</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>SafeModeBlockNonAdmins: <code>REG_DWORD 0x00000001 (1)</code></li> <li>Secure channel communications</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Digitally encrypt or sign secure channel data (always): Enabled</li> <li>Digitally encrypt secure channel data (when possible): Enabled</li> <li>Digitally sign secure channel data (when possible): Enabled</li> <li>Require strong (Windows 2000 or later) session key: Enabled</li> <li>Security policies</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Turn off multicast name resolution: Enabled</li> <li>Allow Windows to automatically connect to suggested open hotspots, to networks shared by contacts, and to hotspots offering paid services: Disabled</li> <li>Turn off Microsoft consumer experiences: Enabled</li> <li>Turn off heap termination on corruption: Disabled</li> <li>Turn off shell protocol protected mode: Disabled</li> <li>Prevent downloading of enclosures: Enabled</li> <li>Allow indexing of encrypted files: Disabled</li> <li>Enables or disables Windows Game Recording and Broadcasting: Disabled</li> <li>Disable machine account password changes: Disabled</li> <li>Maximum machine account password age: 30 days</li> <li>Allow PKU2U authentication requests to this computer to use online identities: Disabled</li> <li>Force logoff when logon hours expire: Enabled</li> <li>LDAP client signing requirements: Negotiate signing</li> <li>Require case insensitivity for non-Windows subsystems: Enabled</li> <li>Strengthen default permissions of internal system objects: Enabled</li> <li>Server Message Block sessions</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Configure SMB v1 client driver: Enabled (Configure MrxSmb10 driver: Disable driver)</li> <li>Configure SMB v1 server: Disabled</li> <li>Digitally sign communications (always): Enabled</li> <li>Digitally sign communications (if server agrees): Enabled</li> <li>Send unencrypted password to third-party SMB servers: Disabled</li> <li>Amount of idle time required before suspending session: 15 minutes</li> <li>Session locking</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Prevent enabling lock screen camera: Enabled</li> <li>Prevent enabling lock screen slide show: Enabled</li> <li>Allow users to select when a password is required when resuming from connected standby: Disabled</li> <li>Turn off app notifications on the lock screen: Enabled</li> <li>Show lock in the user tile menu: Enabled</li> <li>Allow Windows Ink Workspace: Enabled (On, but disallow access above lock)</li> <li>Machine inactivity limit: 900 seconds</li> <li>Enable screen saver: Enabled</li> <li>Password protect the screen saver: Enabled</li> <li>Screen saver timeout: Enabled (Seconds: 900)</li> <li>Turn off toast notifications on the lock screen: Enabled</li> <li>Do not suggest third-party content in Windows spotlight: Enabled</li> <li>Sound Recorder</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Do not allow Sound Recorder to run: Enabled</li> <li>System backup and restore</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Back up files and directories: Administrators</li> <li>Restore files and directories: Administrators</li> <li>System cryptography</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Force strong key protection for user keys stored on the computer: User must enter a password each time they use a key</li> <li>Use FIPS compliant algorithms for encryption, hashing, and signing: Enabled</li> <li>User rights policies</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Access Credential Manager as a trusted caller: blank</li> <li>Act as part of the operating system: blank</li> <li>Allow log on locally: Administrators, Users</li> <li>Create a pagefile: Administrators</li> <li>Create a token object: blank</li> <li>Create global objects: Administrators, LOCAL SERVICE, NETWORK SERVICE, SERVICE</li> <li>Create permanent shared objects: blank</li> <li>Debug programs: Administrators</li> <li>Enable computer and user accounts to be trusted for delegation: blank</li> <li>Force shutdown from a remote system: Administrators</li> <li>Impersonate a client after authentication: Administrators, LOCAL SERVICE, NETWORK SERVICE, SERVICE</li> <li>Load and unload device drivers: Administrators</li> <li>Lock pages in memory: blank</li> <li>Modify firmware environment values: Administrators</li> <li>Perform volume maintenance tasks: Administrators</li> <li>Profile single process: Administrators</li> <li>Take ownership of files or other objects: Administrators</li> <li>Windows Remote Management</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Allow Basic authentication: Disabled</li> <li>Allow unencrypted traffic: Disabled</li> <li>Disallow Digest authentication: Enabled</li> <li>Disallow WinRM from storing RunAs credentials: Enabled</li> <li>Windows Remote Shell access</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Allow Remote Shell Access: Disabled</li> <li>Windows Search and Cortana</li> <li>Justification: To align with the ACSC Windows hardening guidance.</li> <li>Allow Cortana: Disabled</li> </ul>"},{"location":"blueprint/client-devices/#microsoft-edge-hardening","title":"Microsoft Edge hardening","text":"<p>The Microsoft Edge security settings support Edge version 90 and later.</p> <p>The Microsoft Edge security settings detailed in this section are based on Microsoft best practice and the ACSC Hardening Microsoft Windows 10 version 21H1 Workstations (Oct-2021) guidance.</p> <p>Microsoft Edge Hardening Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Allow download restrictions Block potentially dangerous or unwanted downloads To align with the ACSC Windows hardening guidance. Configure Do Not Track Enable To align with the ACSC Windows hardening guidance. Control the mode of DNS-over-HTTPS Disable DNS-over-HTTPS To align with the ACSC Windows hardening guidance. Control where developer tools can be used Don't allow using the developer tools To align with the ACSC Windows hardening guidance. DNS interception checks enabled Disabled To align with the ACSC Windows hardening guidance. Default pop-up window setting Do not allow any site to show popups To align with the ACSC Windows hardening guidance. Enable saving passwords to the password manager Disable To align with the ACSC Windows hardening guidance. Configure Windows Defender SmartScreen Enabled To align with the ACSC Windows hardening guidance. Prevent bypassing Microsoft Defender SmartScreen prompts for sites Enabled To align with the ACSC Windows hardening guidance. Prevent bypassing of Microsoft Defender SmartScreen warnings about downloads Enabled To align with the ACSC Windows hardening guidance. Prevent users and apps from accessing dangerous websites Enabled (Block) To align with the ACSC Windows hardening guidance. Turn on Windows Defender Application Guard in Managed Mode Enabled To align with the ACSC Windows hardening guidance."},{"location":"blueprint/client-devices/#web-advertisement-blocking","title":"Web advertisement blocking","text":"<p>Web advertisements may be used by threat actors to deliver malicious code or to attempt to phish legitimate users.</p> <p>The ACSC recommends blocking browsers from processing web advertisements as part of the Essential Eight. Microsoft Edge's native web advertisement capability is limited and does not provide an effective mitigation against the risk of malicious web advertisement. Edge supports third-party add-ons to provide greater web advertisement blocking with examples including uBlock Origin and Ad Block Plus. However, please note that the DTA does not explicitly recommend either product or other third-party add-ons. Instead, agencies should perform their own risk-based assessment prior to using them as part of a blueprint deployment.</p> <p>If supported by their existing web content filtering implementations, agencies may also implement web advertisement blocking at the proxy level for additional protection against web advertisement-based threats.</p> <p>Web Advertisement Blocking Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Native Edge advertisement blocking Enabled - BlockAds (default) To leverage native capabilities within the browser. Third-party add-on Deployed via MEM To align with Essential Eight user application hardening guidance."},{"location":"blueprint/client-devices/#windows-defender-application-control","title":"Windows Defender Application Control","text":"<p>Application control is a crucial line of defence for protecting enterprises given today's threat landscape, and it has an inherent advantage over traditional antivirus solutions. Specifically, application control moves away from the traditional application trust model where all applications are assumed trustworthy by default to one where applications must earn trust in order to run. ASD frequently cite application control as one of the most effective means for addressing the threat of executable file-based malware (.exe, .dll, etc.).</p> <p>Windows Defender Application Control (WDAC) helps mitigate these types of security threats by restricting the applications that users can run and the code that runs in the System Core (kernel). WDAC policies also: - Enforce Constrained Language mode for Windows PowerShell. - Enforce the use of drivers signed by Windows Hardware Quality labs and produced by partners who have an Extended Verification certificate. - Block unsigned and unapproved scripts, MSIs, Universal Windows Store Applications, and .NET applications.</p> <p>To reduce management overhead, WDAC allows for the use of managed installers; such as Microsoft Endpoint Configuration Manager. When configured, items deployed via the managed installer are added into the allow list. </p> <p>When deploying WDAC it is important that it is deployed utilising audit mode prior to enforcement. </p> <p>Application Control Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Application Whitelisting Product WDAC Microsoft recommended product for application control and aligns with ACSC Essential Eight guidance. User Mode Code Integrity Enabled Restricts both kernel-mode and user-mode binaries. To align with the ACSC Windows hardening guidance. Windows Hardware Quality Labs Signing Required Blocks the execution of legacy drivers and ensures drivers have passed Windows Hardware Certification Testing. Flight Signing Disabled Restricts the use of non production release binaries. Flightroot-signed binaries will not be trusted. Unsigned System Integrity Policy Organisation Decision The use of signed policies prevent administrative tampering and kernel mode exploit access. However, it does increase the administrative overhead associated with management and updating of policies. There is no current ACSC guidance on the configuration of signed integrity polices. EV Signers Required Blocks the execution of drivers created by a partner without a Extended Verification (EV) certificate. Advanced Boot Options Menu Disabled Restricts access to the advanced boot options menu. Boot Audit on Failure Enabled Enables investigation when a driver fails on boot. Script Enforcement Enabled Restricts PowerShell scripts and interactive sessions to constrained language mode. This aligns with the ACSC guidance on hardening PowerShell. Enforce Store Applications Enabled Enforces WDAC policies on Universal Windows applications. Update Policy No Reboot Enabled Ensures new policies can be applied without reboot. Allow Supplemental Policies Intune deployed: Enabled; Group Policy deployed: Disabled Supplemental polices allow for policies to be targeted to users/groups. This is however not supported when policies are deployed by Group Policy. Dynamic Code Security Enabled Enforces WDAC policies on .NET applications and dynamically-loaded libraries. Managed Installer Enabled Allow lists applications deployed using a managed installer such as Microsoft Endpoint Configuration Manager. Hypervisor-protected code integrity Enabled To align with the ACSC Windows hardening guidance. Application Control method A combination of publisher certificate and path rules and will be used. Controlled via Intune for cloud managed devices and Group policy for hybrid devices. Microsoft Block Rules Configured To align with the ACSC Windows hardening guidance. The latest Microsoft recommended block rules for Windows and Drivers are available online at Microsoft. Intelligent Security Graph connection Disabled The Intelligent Security Graph connection allows applications to be run if they are deemed as good and there is no explicit block rule configured. Blocking of browsers and email clients for administrators Configured via AppLocker blocklist To provide technical controls to prevent administrators from accessing internet content or emails."},{"location":"blueprint/client-devices/#identity-providers","title":"Identity providers","text":"<p>The identity providers section considers the different methods of logging on to the Windows 10/11 device. The local administrator account is addressed in a separate section.</p> <p>Windows 10/11 provides various user account types or identity providers. This section outlines the identity providers that can be implemented for a Windows 10/11 device.</p> <ul> <li>Local Accounts - A local account is an account on a single Windows system. Local accounts are not replicated and cannot access to corporate resources. They allow access to local storage only. It may be desirable to disable, rename and scramble the passwords for the in-built local accounts.</li> <li>Active Directory Domain - Domain identities are used to grant access to corporate resources and are implemented using Active Directory Domain Services. Administrators manage domain identities and ensure that users have access to the appropriate resources when group policies or any profile management solution is applied to the account. Domain identities are recommended if personalisation data will be stored in a corporate datacentre and will be synchronised to multiple corporate devices.</li> <li>Microsoft Entra ID - Microsoft Entra ID is Microsoft's cloud directory and identity management service. Microsoft Entra ID includes a full suite of identity management capabilities. Microsoft Entra ID is a prerequisite for Microsoft Intune mobile device management including Conditional Access.</li> <li>Microsoft Account - A Microsoft Account is an email address issued by or linked to a Microsoft authentication service. A Microsoft Account is a public version of a Microsoft Entra IDy account. If this account is disabled certain features such as Windows Store cannot function.</li> </ul> <p>Identity Providers Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Guest Account (Local) Disabled To align with the ACSC Windows hardening guidance. Guest Account Name Renamed To align with the ACSC Windows hardening guidance. Microsoft Accounts Disabled To align with the ACSC Windows hardening guidance. Windows Hello for Business Organisation decision As per the ACSC Windows hardening guidance, Agencies may consider if Windows Hello for Business is suitable for their environment. Windows Hello for Business Configuration Method Organisation decision As per the ACSC Windows hardening guidance, Agencies may consider if Windows Hello for Business is suitable for their environment. <p>Additional Identity Providers Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Azure Active Directory Accounts Enabled Machines will be Microsoft Entra ID Joined. Domain Accounts Disabled Machine will be Microsoft Entra ID Joined. <p>Additional Identity Providers Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Azure Active Directory Accounts Enabled Machines will be Hybrid Microsoft Entra ID Joined. Domain Accounts Enabled Users will log onto devices using credentials which originate in an on-premises domain.Machines will also be joined to the organisation domain."},{"location":"blueprint/client-devices/#desktop-analytics","title":"Desktop analytics","text":"<p>Desktop Analytics is a service which provides insight and intelligence to an organisation to make informed decisions about the update readiness of the Windows clients. Desktop Analytics is a Microsoft cloud service that integrates with Configuration Manager (MECM). The data collected from the organisation is pooled together with many of other systems that are connected to the Microsoft cloud services.</p> <p>Desktop Analytics can be used with Configuration Manager to:</p> <ul> <li>Capture application inventory for an organisation.</li> <li>Analyse application compatibility with latest Windows 10/11 feature updates.</li> <li>Determine compatibility issues and provide potential resolutions.</li> <li>Analyse the data to provide pilot groups consisting of devices which cover most of the organisation's application set.</li> <li>Deploy Windows 10/11 to pilot and production-managed devices.</li> </ul> <p>Desktop Analytics is replacing Windows Analytics and Configuration Manager (MECM) is a pre-requisite to enabling Desktop Analytics. Desktop Analytics provides:</p> <ul> <li>Device and software inventory - collect information such as application information and Windows versions.</li> <li>Pilot identification - Identifying the devices which have the most coverage of components for the pilot of Windows upgrades and updates.</li> <li>Issue identification - Potential issues are highlighted with upgrading and patching Windows by analysing captured data from Microsoft clients and organisational data. Potential mitigations can then be recommended.</li> <li>Configuration Manager integration - Extends the on-premises infrastructure by allowing data to be analysed in order to assist in the deployment and management of Windows devices.</li> </ul> <p>Desktop Analytics Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Desktop Analytics Enable and configure In line with the ACSC hardening guideline policy recommendations and meets requirements for future Desktop Analytics use. Data Location United States The Windows diagnostic data (non-business data) is encrypted using SSL and sent to and processed at a Microsoft-managed secure data centre located in the United States. This service is only hosted in the United States.The diagnostic data cannot be seen by another customer nor unauthorised Microsoft personnel.Note: As the diagnostic data is located offshore this may raise data sovereignty questions for the organisation, for which internal decisions might need to be made."},{"location":"blueprint/client-devices/#telemetry-collection","title":"Telemetry collection","text":"<p>Windows 10/11 and Windows Server include the Connected User Experiences and Telemetry component, which uses Event Tracing for Windows (ETW) trace logging technology that gathers and stores diagnostic data events and data.</p> <p>The operating system and some Microsoft management solutions, such as MECM use the same logging technology.</p> <p>Windows uses telemetry information to analyse and fix software problems. It also helps Microsoft improve its software and provide updates that enhance the security and reliability of devices within organisations.</p> <p>Telemetry level options are:</p> <ul> <li>Off \u2013 Disable telemetry data collection.</li> <li>Security \u2013 Information that is required to help keep Windows secure, including info about telemetry client settings, the Malicious Software Removal Tool, and Windows Defender. This level is available only on Windows 10/11 Enterprise and Windows 10/11 Education, and Windows 10/11 IoT Core.</li> <li>Basic \u2013 Basic device info, including quality-related info, application compatibility, and info from the Security level.</li> <li>Enhanced \u2013 Additional insights, including how Windows and Windows apps are used, how they perform, advanced reliability info, and info from both the Basic and the Security levels.</li> <li>Full \u2013 All info necessary to identify and help to fix problems, plus info from the Security, Basic, and Enhanced levels.</li> </ul> <p>The following image shows the information in each of the different Telemetry Collection levels.</p> <p></p> <p>Telemetry Collection Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Allow Telemetry Enabled In line with the ACSC hardening guideline policy recommendations and meets requirements for future Desktop Analytics use. Telemetry Level 2 \u2013 Enhanced Microsoft recommend Enhanced Limited for Desktop Analytics."},{"location":"blueprint/client-devices/#microsoft-office-hardening","title":"Microsoft Office hardening","text":"<p>The following design components apply to the hardening of Microsoft 365 Apps for Enterprise.</p> <p>The Microsoft Office security settings detailed in this section are based on Microsoft best practice and the ACSC Hardening Microsoft 365, Office 2021, Office 2019 and Office 2016 (Oct-2021) guidance.</p> <p>Microsoft Office Hardening Design Decisions for all agencies and implementation types.</p> <ul> <li>Attack Surface Reduction</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Attack Surface Reduction rules: Enabled</li> <li>Block executable content from email client and webmail <pre><code>BE9BA2D9-53EA-4CDC-84E5-9B1EEEE46550\n</code></pre></li> <li>Block all Office applications from creating child processes <pre><code>D4F940AB-401B-4EFC-AADC-AD5F3C50688A\n</code></pre></li> <li>Block Office applications from creating executable content <pre><code>3B576869-A4EC-4529-8536-B80A7769E899\n</code></pre></li> <li>Block Office applications from injecting code into other processes <pre><code>75668C1F-73B5-4CF0-BB93-3ECF5CB7CC84\n</code></pre></li> <li>Block Win32 API calls from Office macro <pre><code>92E97FA1-2EDF-4476-BDD6-9DD0B4DDDC7B\n</code></pre></li> <li>Block Office communication application from creating child processes <pre><code>26190899-1602-49E8-8B27-EB1D0A1CE869\n</code></pre></li> <li>Flash content</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Block Flash activation in Office documents: Block all activation</li> <li>Loading external content</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Always prevent untrusted Microsoft Query files from opening: Enabled</li> <li>Don't allow Dynamic Data Exchange (DDE) server launch in Excel: Enabled</li> <li>Don't allow Dynamic Data Exchange (DDE) server lookup in Excel: Enabled</li> <li>Update automatic links at Open: Disabled</li> <li>Macros</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>See following section.</li> <li>Object Linking and Embedding packages</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>See following section.</li> <li>ActiveX</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Disable All ActiveX: Enabled</li> <li>Add-ins</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Disable Trust Bar Notification for unsigned application add-ins and block them: Enabled</li> <li>Require that application add-ins are signed by Trusted Publishers: Enabled</li> <li>Extension Hardening</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Force file extension to match file type: Enabled - Always match file type</li> <li>File Type Blocking</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Set default file block behavior: Enabled - Blocked files are not opened</li> <li>Excel: File Block Settings <pre><code>  dBase III / IV files, \n  Dif and Sylk files, \n  Excel 2 macrosheets and add-in files, \n  Excel 2 worksheets, \n  Excel 3 macrosheets and add-in files, \n  Excel 3 worksheets, \n  Excel 4 macrosheets and add-in files, \n  Excel 4 workbooks, \n  Excel 4 worksheets, \n  Excel 95 workbooks, \n  Excel 95-97 workbooks and templates, \n  Excel 97-2003 workbooks and templates, \n  Web pages and Excel 2003 XML spreadsheets\n</code></pre></li> <li>PowerPoint: File Block Settings <pre><code>  PowerPoint 97-2003 presentations, shows, templates and add-in files\n</code></pre></li> <li>Visio: File Block Settings <pre><code>  Visio 2000-2002 Binary Drawings, Templates and Stencils,\n  Visio 2003-2010 Binary Drawings, Templates and Stencils, \n  Visio 5.0 or earlier Binary Drawings, Templates and Stencils \n</code></pre></li> <li>Word: File Block Settings <pre><code>  Word 2 and earlier binary documents and templates, \n  Word 2000 binary documents and templates, \n  Word 2003 binary documents and templates, \n  Word 2007 and later binary documents and templates, \n  Word 6.0 binary documents and templates, \n  Word 95 binary documents and templates, \n  Word 97 binary documents and templates, \n  Word XP binary documents and templates\n</code></pre></li> <li>Office File Validation</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Turn off file validation: Disabled (Excel, PowerPoint and Word)</li> <li>Running external programs</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Run Programs: Disable (Don't run any programs)</li> <li>Protected View</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Always open untrusted database files in Protected View: Enabled</li> <li>Do not open files from the Internet zone in Protected View: Disabled</li> <li>Do not open files in unsafe locations in Protected View: Disabled</li> <li>Set document behaviour if file validation fails: Enabled (Block files)</li> <li>Turn off Protected View for attachments opened from Outlook: Disabled</li> <li>Trusted documents</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Turn off trusted documents: Enabled</li> <li>Turn off trusted documents on the network: Enabled</li> <li>Hidden markup</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Make hidden markup visible: Enabled (PowerPoint and Word)</li> <li>Reporting information</li> <li>Justification: To align with the ACSC Microsoft Office hardening guidance.</li> <li>Allow including screenshot with Office Feedback: Disabled</li> <li>Automatically receive small updates to improve reliability: Disabled</li> <li>Configure the type of diagnostic data sent by Office to Microsoft: Enabled (Basic)</li> <li>Disable Opt-in Wizard on first run: Enabled</li> <li>Enable Customer Experience Improvement Program: Disabled</li> <li>Send Office Feedback: Disabled</li> <li>Send personal information: Disabled</li> </ul>"},{"location":"blueprint/client-devices/#office-macro-hardening","title":"Office macro hardening","text":"<p>Microsoft Office files can include Visual Basic for Applications (VBA) programming code (macro) embedded into the document.</p> <p>A macro can comprise of several repeatable actions that can be coded or recorded and rerun later to automate repetitive tasks. Macros are powerful tools that can be easily created by novice users to greatly improve their productivity. However, an adversary can also create macros to perform a variety of malicious activities, such as assisting in the compromise of workstations to exfiltrate or deny access to sensitive information.</p> <p>The ACSC provides guidelines in securing systems against malicious macros and recommend they are implemented in all Windows environments. The ACSC recommends that one of the following approaches is implemented:</p> <ul> <li>All macros are disabled.</li> <li>Only macros from trusted locations or sandboxed environment are enabled.</li> <li>Only macros digitally signed by trusted publishers are enabled.</li> </ul> <p>Where trusted locations are used, ACSC recommends that when using trusted locations, only privileged users that are responsible for validating that the macros are free from malicious code can write to and modify contents within the trusted location. </p> <p>Microsoft Office products can log macro execution attempts (both successful and failures) by enabling the Trust Center logging feature. This provides valuable information for incident response and digital forensics activities. The Trust Center logs are not written to the Windows Event Log but instead as an individual file per Microsoft Office product to the C:\\Users\\USERNAME\\AppData\\Local\\Microsoft\\Office\\TCDiag directory.</p> <p>Office Macro Hardening Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Implementation approach Only macros digitally signed by a trusted publisher are enabled To align with the ACSC Microsoft Office Macro Security guidance and enable organisations to leverage macros securely with the least business impact. Macro execution logging Enabled via Trust Center logging To align with the Essential Eight and provide detailed logs in the event of an incident. Configuration method Organisation preference Macro hardening (including ASR rules) can be configured via either Group Policies or Intune. Specific configuration See below To align with the ACSC Microsoft Office Macro Security guidance. <ul> <li>Microsoft Office Security Settings</li> <li>Automation Security: Enabled (Use application macro security level)</li> <li>Disable all Trust Bar notifications for security issues: Enabled</li> <li>Disable VBA for Office applications: Disabled</li> <li>Macro Runtime Scan Scope: Enable for all documents</li> <li>Allow mix of policy and user locations: Disabled</li> <li>Microsoft Access </li> <li>Turn off trusted documents: Enabled</li> <li>Turn off Trusted Documents on the network: Enabled</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Allow Trusted Locations on the network: Disabled</li> <li>Disable all trusted locations: Enabled</li> <li>Disable commands: Enabled (19092)</li> <li>Microsoft Excel </li> <li>Disable commands: Enabled (19092)</li> <li>Scan encrypted macros in Excel Open XML workbooks: Scan encrypted macros (default)</li> <li>Block macros from running in Office files from the Internet: Enabled</li> <li>Trust access to Visual Basic Project: Disabled</li> <li>Turn off trusted documents: Enabled</li> <li>Turn off Trusted Documents on the network: Enabled</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Allow Trusted Locations on the network: Disabled</li> <li>Disable all trusted locations: Enabled</li> <li>Microsoft Outlook </li> <li>Disable commands: Enabled (19092)</li> <li>Apply macro security settings to macros, add-ins and additional actions: Enabled</li> <li>Security settings for macros: Enabled (Security Level: Warn for signed, disable unsigned)</li> <li>Microsoft PowerPoint </li> <li>Disable commands: Enabled (19092)</li> <li>Scan encrypted macros in PowerPoint Open XML presentations: Scan encrypted macros (default)</li> <li>Block macros from running in Office files from the Internet: Enabled</li> <li>Trust access to Visual Basic Project: Disabled</li> <li>Turn off trusted documents: Enabled</li> <li>Turn off Trusted Documents on the network: Enabled</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Allow Trusted Locations on the network: Disabled</li> <li>Disable all trusted locations: Enabled</li> <li>Microsoft Project </li> <li>Allow Trusted Locations on the network: Disabled</li> <li>Disable all trusted locations: Enabled</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Microsoft Publisher </li> <li>Disable commands: Enabled (19092)</li> <li>Publisher Automation Security Level: Enabled (By UI (prompted))</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Microsoft Visio </li> <li>Disable commands: Enabled (19092)</li> <li>Enable Microsoft Visual Basic for Applications project creation: Disabled</li> <li>Load Microsoft Visual Basic for Applications projects from text: Disabled</li> <li>Allow Trusted Locations on the network: Disabled</li> <li>Block macros from running in Office files from the Internet: Enabled</li> <li>Disable all trusted locations: Enabled</li> <li>Turn off trusted documents: Enabled</li> <li>Turn off Trusted Documents on the network: Enabled</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Microsoft Word </li> <li>Disable commands: Enabled (19092)</li> <li>Scan encrypted macros in Word Open XML documents: Scan encrypted macros (default)</li> <li>Block macros from running in Office files from the Internet: Enabled</li> <li>Trust access to Visual Basic Project: Disabled</li> <li>Turn off trusted documents: Enabled</li> <li>Turn off Trusted Documents on the network: Enabled</li> <li>VBA Macro Notification Settings: Enabled (Disable all except digitally signed macros)</li> <li>Allow Trusted Locations on the network: Disabled</li> <li>Disable all trusted locations: Enabled</li> </ul>"},{"location":"blueprint/client-devices/#ole-hardening","title":"OLE hardening","text":"<p>Object Linking and Embedding (OLE) is a functionality within Microsoft Office which allows for the embedding and linking to documents and other objects. OLE is utilised to seamlessly integrate several types of data or components within a Microsoft Office file. </p> <p>Adversaries have leveraged the OLE functionality to enable and download malicious content or execute a malicious payload. Within Microsoft Office 365 and Microsoft Office 2019 clients, the activation of objects that link to extensions that are considered high risk are blocked from executing. The list of high risk extensions can be configured through the use of Intune or GPOs.</p> <p>The ACSC provides guidance around securing systems against malicious OLE packages and recommend they are implemented in all Windows environments. The guidance is to block all OLE packages from executing in Word, PowerPoint, and Excel.</p> <p>Office OLE Hardening Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification OLE configuration Block all To align with the ACSC Microsoft Office hardening guidance."},{"location":"blueprint/client-devices/#local-administrator","title":"Local administrator","text":"<p>The default local Administrator account is a highly privileged user account found on every Windows operating system. The Administrator account is the first account that is created during the installation for all Windows client operating systems.</p> <p>The Administrator account can be used to create local users and assign user rights and access control permissions. It can also be used take control of local resources at any time simply by changing the user rights and permissions.</p> <p>The default Administrator account cannot be deleted or locked out, but it can be renamed and / or disabled. It is Microsoft best practice and an ACSC hardening guideline recommendation to leave the Administrator account disabled and renamed.</p> <p>If there is a requirement to utilise the local Administrator account in an on-premises environment, Microsoft provides Local Administrator Password Solution (LAPS), an Active Directory integrated Access Control List (ACL) protected password management tool.</p> <p>LAPS allows system administrators the ability to set a different, random password for the common local administrator account on each computer in the domain and store the password for the computer's local administrator account in Active Directory, secured in a confidential attribute in the computer's corresponding Active Directory object.</p> <p>Local Administrator Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Local Administrator Account Disabled The local administrator account will be disabled to align with the ACSC Windows hardening guidance. Local Administrator Account Name Renamed The local administrator account will be renamed during the image deploymentIn line with Microsoft recommendations for securing the local administrator account. Local Administrator Account Password Randomised To align with the ACSC Windows hardening guidance. Additional Local Administrator Accounts Not Configured Additional administrator accounts will not be created during the image deployment. LAPS Not Configured Not required for the solution. The local Administrator account will be disabled and renamed."},{"location":"blueprint/client-devices/#ios","title":"iOS","text":"<p>The blueprint's recommendation is to utilise iOS for organisation devices following the design decisions based on the ACSC Security Configuration Guide \u2013 Apple iOS 14 Devices (Oct-2021) guidance.</p>"},{"location":"blueprint/client-devices/#ios-devices","title":"iOS devices","text":"<p>iOS follows a yearly major release cycle. With every major release of iOS, older iPhone devices are deprecated from support, hence security updates will not be available to these devices. </p> <p>Update policies control the update frequency of managed devices. Intune can define update policies that specify how and when service updates are deployed to iOS devices. By using update rings, it is possible to create an update strategy that mirrors business needs.</p> <p>iOS devices should be configured to adhere to the ACSC hardening requirements to provide secure access to corporate information. ACSC recommends that the latest version of iOS is used in order to have the most secure operating system present on the device.</p> <p>iOS Devices Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification iOS version iOS 14 or above To align with the ACSC Security Configuration guide \u2013 iOS version enforcement of n or n-1 will allow for testing of patches and internal applications before deploying operating system updates.Apple applies the n-1 rule to incremental updates, all other versions are no longer signed. Once a version is not signed a device cannot be restored to it. iOS 15 is the latest version at time of writing, but a security configuration guide for that version has not yet been released by the ACSC. Agencies should review security update notifications from Apple for resolved vulnerabilities and determine an appropriate minimum supported version. iOS Devices iPhone XS and above iPhone X and older are all vulnerable to the exploit Checkm8 and should be avoided. Update Policies Configured To align with the ACSC Security Configuration guide. Jailbroken/rooted devices Blocked Prevents jail broken devices from accessing organisation information."},{"location":"blueprint/client-devices/#enrolling-ios-devices","title":"Enrolling iOS devices","text":"<p>Device enrolment registers the iOS devices into the corporate device management solution and ensures the device is then able to be managed by administrators.</p> <p>Microsoft Intune provides a mechanism for enrolling devices into Microsoft Entra ID. Once registered the device is populated into Intune policy groups using dynamic membership. This ensures that the device meets the compliance policy, monitored, and secured to the Agencies security requirements. </p> <p>Microsoft Intune provides three separate experience in enrolling the iOS devices into the Agencies Azure Active directory. The enrolment experiences are: </p> <ul> <li>Automated device enrollment (ADE) (formerly Device Enrolment Program (DEP)) \u2013 Device Enrolment Program is a managed device enrolment process. The devices serial number is registered with Apple Business Manager allows Intune to bypass Assisted Setup by preconfigure device settings. The user's account will be assigned to the device. The device will be marked as a Supervised device.</li> <li>Device Enrolment Manager (DEM) \u2013 Device Enrolment Manager assigns a single Azure Active Directory account as the owner of the device. The end users cannot administer or purchase any apps on the device.</li> <li>User Enrolment \u2013 User enrolment process requires users set up the iOS device and manually install Company Portal to register the device as Intune enrolled device. The device will be marked as a BYOD device.</li> </ul> <p>Enrolling iOS Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Enrolment method Automated device enrollment through Apple Business Manager Devices will be pre-configured before the device is handed over to the end user. This in line with the ACSC iOS Secure Configuration Hardening guide for PROTECTED devices."},{"location":"blueprint/client-devices/#securing-ios-devices","title":"Securing iOS devices","text":"<p>Intune provides ability to configure iOS configuration settings for securing, configuring and applications on iOS devices. These configurations are managed via Mobile Device Management (MDM) as an Intune policy. MDM allows the organisation to deploy consistent configuration on enrolled iOS devices.</p> <p>MDM provides the capability to configure iOS devices. These devices must be configured to meet ACSC iOS Secure Hardening guide to ensure the device can access and store the Agencies data. These configurations can be categories as:</p> <ul> <li>Security \u2013 Ensure device has up to date and secure authentication policies and encryption devices that meets ACSC Secure iOS guide. </li> <li>Branding \u2013 The Agencies branding for lock screen, wallpapers, and reporting if the device is lost can be configured.</li> <li>Device features \u2013 Configures device features, for example, AirDrop and Bluetooth pairing, within iOS devices.</li> </ul> <p>Using Intune together with Apple Business Manager provides the ability to restrict applications deployed to iOS devices. They improve the user experience during the onboarding process and remove the requirement for an Apple ID and the public Apple App Store. When restricting application deployments, the App Store is blocked and all application management is completed through the Intune Company Portal. All applications must be licenced within Apple Business Manager and use device based licensing. </p> <p>Securing iOS devices Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Mobile Device Management Mobile devices will be managed using Intune Leveraging the capabilities already available in the licensing agreement. Intune and Apple Business Manager will be adopted to manage mobile devices. Security policies and hardening requirements Security policies will be enforced on all mobile devices managed by the organisation Security policies will be configured in line with the ACSC Security Configuration Guide \u2013 Apple iOS 14 Devices. Apple Business Manager Enrollment Token App Delivery Organisation licenced apps purchased under the Volume Purchase Program (VPP) are installed directly to devices, without needing an Apple ID on the device Configured inline with ACSC iOS hardening guidance, simplifies management and improves user experience with device onboarding. Public App Store access Disabled Configured inline with ACSC iOS hardening guidance. Applications are installed under the VPP. Device Features Configured Device features configured in line with ACSC hardening guidance. <p>Mobile Device Management Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Security Supervised Mode Enable Organisation iPhones are managed devices. This is in line with the ACSC iOS Secure Configuration Hardening guide for PROTECTED devices. Device passcode Device passcode of 14 characters or above. Alphanumeric in nature and must contain a minimum of 1 special character iOS devices, by default, is encrypted once a passcode is provided to the device. Configured in line with ISM requirements on password length. Biometrics Disable This is in line with the ACSC iOS Secure Configuration Hardening guide for PROTECTED devices. Mobile Device Management Enable Mobile Device Management provides the organisation better auditing tools on the device. In line with ACSC iOS Secure Configuration Hardening guide for PROTECTED devices. Maximum Auto-Lock 2 minutes Auto Lock will lock a device if it is inactive for specified time. Virtual Private Network (VPN) Configured Per-app VPN will be set up to secure communication between the device and the Agencies data. This is in line with ACSC iOS Secure Configuration Hardening guide. Branding Lock Screen and background branding Configured Organisation branding will be applied to endpoints. It is recommended that agencies include the contact information of the relevant IT Support in the event that a device is lost. Device Features Disable Screenshot and screen recording Disable Disablement of screenshot and screen recording, disable users from taking a snapshot of protected documents. Allow iCloud backup, document data and Keychain Disable The Agencies data on mobile devices must be uploaded into the Agencies tenant. This is done to prevent accidental information being backed up to iCloud or another unsecure data store. Managed Open-In Enable Managed Open-In is enable segregates between corporate managed and personal application in an iOS device. This in line with the ACSC iOS Secure Configuration Hardening guide for PROTECTED devices. Allow documents from managed sources in unmanaged destination Disable The Agencies data cannot be moved between managed and unmanaged application destination. This is to prevent PROTECTED from being transferred to an unmanaged application or location. Treat AirDrop as unmanaged destination Disable AirDrop provides the ability to wirelessly transfer documents between Apple devices. Setting AirDrop as an unmanaged destination prevents users from accidentally transferring organisation data to unsecure applications or locations. Restricted Application List Configured Unapproved application installs will be alerted upon. App Store is also disabled as applications will be delivered through the VPP."},{"location":"blueprint/client-devices/#securing-ios-applications","title":"Securing iOS applications","text":"<p>Mobile Application Management (MAM) in Intune allows configuration of managed applications within an iOS device. Managed applications enclose organisation applications within an application bubble. This bubble prevents accidental data spillage by preventing cutting and pasting, as well as allowing data sharing within the application bubble.</p> <p>MAM provides the capability to configure iOS device applications. These configurations include:</p> <ul> <li>Managed Applications \u2013 List of organisation business applications.</li> <li>Managed Application configuration \u2013 Configure and secure managed application configuration within the device. These configurations allow and isolate managed applications to resides next to unmanaged applications.</li> <li>Per-app VPN - Secure communication between applications on devices, and the Office 365 tenant. This will require the Agencies VPN device setup to accept communication from the VPN connection from managed apps.</li> </ul> <p>Securing iOS Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Managed Applications Microsoft Corporate PortalMicrosoft Azure Information ProtectionMicrosoft WordMicrosoft ExcelMicrosoft OutlookMicrosoft PowerPointMicrosoft TeamsMicrosoft EdgeAdobe ReaderMicrosoft OneDriveMicrosoft OneNoteMicrosoft WhiteboardMicrosoft PlannerPowerApps This is to meet the Agencies requirement for managed applications. Application VPN configuration Configured for Managed Applications Managed applications will use VPN to secure its connection to the Agencies Office 365 tenant. Disable organisation data to be backed up to iCloud Disable PROTECTED must be stored within the Agencies environment / corporate data store. Encrypt organisation data in mobile device Configured To ensure encryption requirements are met based on ACSC hardening requirements. Send organisation data to unmanaged apps Policy managed apps with Open In/Share Filtering Prevents data to be shared between managed application stated above and other unmanaged application on the device. Save copies of organisation data SharePoint and OneDrive for Business only Ensure all data is saved within the Agencies tenant. Organisation data notification Block organisation Data Prevents organisation information being displayed on the lock screen. Microsoft Edge Configuration Configured.Set Microsoft Edge proxy and homepage URL to Agencies Intranet Configured so Microsoft Edge is able to access Agencies internal websites. Microsoft Outlook Configured.Ensure Contact list is added into Outlook Contact list rather than device Configured so Agencies contact list is maintained within managed application rather than the phone's contact details."},{"location":"blueprint/client-devices/#remote-wipe-ios-devices","title":"Remote wipe iOS devices","text":"<p>iOS devices can be used to access information while away from the office. The device is used to access the Agencies intranet, documents and for collaboration purpose. </p> <p>Intune provides the ability to reset the device (factory reset) or remove managed application data from the device. The Factory reset option remotely wipes and resets the iOS device. The Intune manage application wipe does not clear the device of non-managed application data which allow for potential security issues.</p> <p>The organisation has indicated that the device must be able to be remotely wipe in case it is lost. This is to ensure information cannot be recovered in any circumstances.</p> <p>Remote wipe iOS devices Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Device Lost Mode Enabled Lost mode sends notification to the device's lock screen. Device remote wipe Device will be remote wiped of corporate data (Factory Reset). To minimize the security if the device is lost or not return to the organisation.Intune remotely wipe and reset the iOS device when a user is off-boarded. This allows the device to be reassign to other users in the organisation."},{"location":"blueprint/essential-eight-maturity/","title":"Essential eight maturity","text":""},{"location":"blueprint/essential-eight-maturity/#essential-eight-maturity","title":"Essential Eight maturity","text":"<p>14 minutes to read - 30 March 2023</p> <p>The Essential Eight represents security guidance from the ACSC. It prioritises mitigation strategies to assist organisations in protecting their systems against a range of cyber threats.</p> <p>This section summarises the blueprint's maturity level against the Essential Eight. It is important to note that any modifications outside of the blueprint will require a gap analysis to determine the security implications.</p> <p>The previous Essential Eight assessment for the DTA Protected Utility blueprint was performed in June 2020 against that version of the maturity model. This was documented in the Solution Overview (June-2020).</p> <p>Since then, both the blueprint and Essential Eight have been updated by the DTA and the ACSC respectively. Additional functionality and capabilities have been added to the blueprint, and additional controls to the maturity model. Maturity level 0 has also been re-introduced to the Essential Eight.</p> <p>The assessments presented in this document includes Windows 10 and the supporting Microsoft 365 (M365) services as described in the blueprint. These assessments do not include iOS or any server infrastructure used by agencies to support the blueprint (e.g. in a hybrid deployment). The exclusion of iOS from this assessment is due to the following:</p> <p>\"The Essential Eight are designed to protect Microsoft Windows-based internet-connected networks. While the Essential Eight may be applied to cloud services and enterprise mobility... it was not primarily designed for such ... In such cases, organisations should consider alternative guidance provided by the ACSC\" - Essential Eight Maturity Model (Oct-2021).</p> <p>The ACSC has provided an assessment of iOS devices against the Essential Eight in the Security Configuration Guide - Apple iOS 14 Devices (Oct-2021). </p> <p>Server infrastructure used by agencies to support hybrid deployments of the blueprint are not included in this assessment as they are bespoke to those agencies. It is recommended that agencies operating a hybrid deployment of the blueprint perform their own Essential Eight assessments of supporting server infrastructure.</p> Mitigation Strategy Maturity Level Application control 3 Patch applications 3 Configure Microsoft Office macro settings 3 User application hardening 3 Restrict administrative privileges 3 Patch operating systems 3 Multi-factor authentication 2 Regular backups N/A <p>Each of the individual assessments against the Essential Eight are described in detail in the following sections. These sections detail the rationale for each maturity level assessment, agency responsibilities, and recommendations to achieving greater maturity levels where applicable.</p>"},{"location":"blueprint/essential-eight-maturity/#application-control","title":"Application control","text":"Maturity level:  3 <p>Windows Defender Application Control (WDAC) is used for application control on Windows 10 devices within the blueprint. WDAC restricts the execution of executables, software libraries, scripts, drivers, and applications to an approved set, including code which runs in the system core (kernel). WDAC is managed via Microsoft Endpoint Manager (MEM) or via Group Policies, allowing applications deployed via MEM to also be added to the allowed list automatically.</p> <p>WDAC cannot manage control panel applets. Restricting control panel applets to an approved set is achieved in the blueprint through MEM configuration profiles or Group Policy.</p> <p>WDAC can also implement Microsoft's latest recommended block rules and driver block rules.</p> <p>WDAC policies are also configured to enforce Constrained Language Mode (CLM) for Windows PowerShell, enforce the use of drivers signed by Windows Hardware Quality Labs (WHQL) and produced by partners who have an Extended Verification certificate, and block unsigned and unapproved scripts, MSIs, Universal Windows Store Applications, and .NET applications.</p> <p>Defender for Endpoint (which is enabled as part of the blueprint) can be used to centrally query WDAC events on all connected devices. Microsoft provides sample queries to assist with monitoring and alerting based on WDAC events.</p> <p>For additional information on WDAC within the blueprint, see Windows Defender Application Control.</p> <p>As all required technical controls are implemented by the blueprint, the maturity level has been assessed at 3. Note, this assessment assumes agencies undertake the recommendations below.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations","title":"Recommendations","text":"<p>To achieve and maintain maturity level 3 it is recommended agencies validate their WDAC rule sets at least annually. In addition, agencies are expected to review application control events via either Defender for Endpoint or a third-party centralised logging platform to detect and action cyber security events.</p>"},{"location":"blueprint/essential-eight-maturity/#patch-applications","title":"Patch applications","text":"Maturity level:  3 <p>Microsoft (first party) application updates are automatically deployed and installed on blueprint devices via MEM. This includes the Edge internet browser and Microsoft Office productivity suite. By default, the blueprint does not include any third-party applications. If required, MEM can also be used to deploy third-party application packages, including manually packaged patches.</p> <p>Microsoft Defender for Endpoint provides an automated vulnerability management capability. Application vulnerabilities, such as missing patches, are reported to the Microsoft 365 Defender portal and email alerts can be configured to notify cyber security personnel of newly detected vulnerabilities.</p> <p>The blueprint does not include any unsupported or legacy applications.</p> <p>As all required technical controls are implemented by the blueprint, the maturity level has been assessed at 3*. Note, this assessment assumes agencies undertake the recommendations presented below.</p> <p>* If agencies do not license and configure Defender for Endpoint as recommended by the blueprint, their maturity will be reduced to 0 unless alternative third-party vulnerability scanner is used.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations_1","title":"Recommendations","text":"<p>It is recommended that agencies monitor the success of application patching, via either MEM or Defender for Endpoint, to ensure patches are applied within the target deployment timeframe (e.g., within 48 hours for exploitable vulnerabilities).</p> <p>If agencies deploy third-party applications to blueprint devices, they are responsible for ensuring patches are deployed within the required timeframes to maintain maturity level 3. Agencies should consider enabling automatic update features for applications or deploy an automated third-party application patching solution.</p>"},{"location":"blueprint/essential-eight-maturity/#configure-microsoft-office-macro-settings","title":"Configure Microsoft Office macro settings","text":"Maturity level:  3 <p>The blueprint restricts macro execution to only those signed by a trusted digital certificate in accordance with the ACSC Microsoft Office Macro Security guidance. This includes blocking Microsoft Office macros originating from the internet and preventing standard users from modifying macro security settings in all Microsoft Office applications. The blueprint does not provide any recommendations for the use of trusted locations.</p> <p>Microsoft Defender Antivirus and Defender for Endpoint provide antivirus scanning of all Microsoft Office file types, including embedded macros. This leverages the Antimalware Scan Interface (AMSI) to enable inspecting macros at runtime. In addition, the Safe Documents feature of Defender for Office 365 is also enabled as part of the blueprint to scan documents that are opened in Protected View.</p> <p>Microsoft Office macros are blocked from making Win32 API calls using Attack Surface Reduction (ASR) rules as per the ACSC Windows 10 and Microsoft Office hardening guides.</p> <p>Defender for Endpoint centrally stores Endpoint Detection &amp; Response (EDR) logs for all Windows 10 blueprint devices, which includes the execution of macro-enabled documents and resulting behaviours (such as attempts to make Win32 API calls).</p> <p>As all required technical controls are implemented by the blueprint, the maturity level has been assessed at 3*. Note, this assessment assumes agencies undertake the recommendations presented below.</p> <p>* If agencies do not license and configure Defender for Endpoint as recommended by the blueprint, their maturity will be reduced to 2 unless a central logging facility is implemented to retrieve macro execution logs from the registry.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations_2","title":"Recommendations","text":"<p>If users do not have a valid business requirement, it is recommended that macros are disabled for them. The blueprint provides an additional MEM policy that blocks macros for all Microsoft Office applications that agencies can deploy for those users that do not require macros.</p> <p>It is recommended that agencies review their list of trusted publishers at least annually. Agencies should also review macro execution events for any indications of malicious activity.</p>"},{"location":"blueprint/essential-eight-maturity/#user-application-hardening","title":"User application hardening","text":"Maturity level:  3 <p>The blueprint does not include the deployment of Java, so cannot process Java from the internet.</p> <p>Microsoft Edge provides limited web advertisement blocking from the internet, which is configured by MEM. However, this functionality is very limited and is not considered an effective control. To compensate for this, the blueprint provides guidance on the deployment of third-party web advertisement blocking add-ons for Edge via MEM.</p> <p>Internet Explorer 11 is removed from the Windows 10 blueprint SOE.</p> <p>The ASR rules are configured as per the ACSC Windows 10 and Microsoft Office hardening guides to prevent Microsoft Office from creating child processes, creating executable content, injecting code into other processes, and activating Object Linking and Embedding (OLE) packages.</p> <p>No third-party PDF software is included in the blueprint. Microsoft Edge is configured as the default PDF reader and hardened as per ACSC guidance.</p> <p>Standard users are not able to change security-related settings in Microsoft Office or Edge as these are configured by MEM.</p> <p>.NET Framework 3.5 (and all previous) versions are not included in the Windows 10 blueprint SOE. PowerShell version 2.0 is also removed from the SOE.</p> <p>WDAC is configured so that PowerShell runs in Constrained Language Mode (CLM).</p> <p>PowerShell script block logging is enabled via MEM in accordance with the ACSC Hardening Microsoft Windows 10 version 21H1 Workstations hardening guide. Defender for Endpoint also centrally stores EDR logs for all Windows 10 blueprint devices, which includes PowerShell script execution and resultant events.</p> <p>As all required technical controls are implemented by the blueprint, the maturity level has been assessed at 3*. Note, this assessment assumes agencies undertake the recommendations presented below.</p> <p>* If agencies do not license and configure Defender for Endpoint as recommended by the blueprint, their maturity will be reduced to 2 unless a central logging facility is implemented to retrieve PowerShell logs from Windows 10 devices.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations_3","title":"Recommendations","text":"<p>Agencies should review Defender for Endpoint alerts and logs to detect unauthorised PowerShell execution attempts.</p>"},{"location":"blueprint/essential-eight-maturity/#restrict-administrative-privileges","title":"Restrict administrative privileges","text":"Maturity level:  3 <p>The blueprint includes two types of users, standard and privileged users. Standard users are assigned mailboxes and can access the internet from Windows 10 devices, but do not have elevated privileges on those devices. Privileged users are not assigned an Office 365 license and therefore do not have mailboxes assigned to their accounts. AppLocker is configured by MEM to prevent privileged users from launching web browsers or mail clients from blueprint devices.</p> <p>The local administrator account is disabled as per the ACSC Windows 10 hardening guide. The local administrator account is renamed, the password set randomly, and the account disabled. The local administrator group is enabled and contains the Azure Active Directory (Azure AD) Global Admins and Device Admins roles. These roles are configured for Azure AD Privileged Identity Management (PIM), providing Just-in-Time (JIT) administration.</p> <p>Azure AD PIM Access Reviews provide automation to assist in the revalidation of privileged accounts and membership of Azure AD privileged roles. Azure AD does not provide a native capability to disable account after a period of inactivity. The blueprint provides a technical guide to implement this capability via the Graph API and Azure AD PowerShell modules. Note, at the time of writing the Graph API to query an account property is still in beta.</p> <p>All logins to blueprint devices are recorded and centralised to Defender for Identity. All privileged actions performed in the Microsoft 365 and Azure portals are also logged to the Audit Log, including changes to privileged accounts and groups. User activities for the Office 365 apps are also recorded in the Audit Log.</p> <p>Windows Defender Credential Guard is enabled in the Windows 10 blueprint SOE (on supported devices).</p> <p>Although not within the specific design scope of the blueprint, it provides general guidance for secure system administration for agencies leveraging the blueprint. This includes recommendations for the use of separate credentials for privileged and non-privileged users, deployment of hardened Privileged Access Workstations (PAWs) and jump boxes, use of a web filtering system, and the restriction of management traffic flows.</p> <p>As all required technical controls that are in scope of the blueprint are implemented, the maturity level has been assessed at 3*. Note, this assessment assumes agencies have implemented a compliant secure system administration solution and undertake the recommendations presented below.</p> <p>* If agencies have not deployed a separate privileged operating environment in accordance with the recommendations of the blueprint, then the maturity is capped at 0.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations_4","title":"Recommendations","text":"<p>Agencies should ensure that only the specific privileges required for a role are assigned to privileged accounts, leveraging Azure AD PIM where possible. Agencies are expected to review changes to privileged accounts and groups via either Defender for Identity or a third-party centralised logging platform to detect and action cyber security events.</p>"},{"location":"blueprint/essential-eight-maturity/#patch-operating-systems","title":"Patch operating systems","text":"Maturity level:  3 <p>Windows 10 operating system updates are automatically deployed and installed on blueprint devices using Windows Update for Business which is configured via MEM. For hybrid deployments, patches may be deployed to blueprint devices via Microsoft Endpoint Configuration Manager (MECM) or Windows Server Update Services (WSUS) rather than downloaded from the internet directly.</p> <p>Microsoft Defender for Endpoint provides an automated vulnerability management capability. Operating system vulnerabilities, such as missing patches, are reported to the Microsoft 365 Defender portal and email alerts can be configured to notify cyber security personnel of newly detected vulnerabilities.</p> <p>The Windows 10 blueprint SOE is built using the 21H2 General Availability release of Windows 10.</p> <p>The blueprint does not include any unsupported or legacy operating systems.</p> <p>As all required technical controls are implemented by the blueprint, the maturity level has been assessed at 3*. Note, this assessment assumes agencies undertake the recommendations presented below.</p> <p>* If agencies do not license and configure Defender for Endpoint as recommended by the blueprint, their maturity will be reduced to 0 unless a third-party vulnerability scanner is deployed.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations_5","title":"Recommendations","text":"<p>It is recommended that agencies monitor the success of operating system patching, via either MEM or Defender for Endpoint, to ensure patches are applied within the target deployment timeframe (e.g., within 48 hours for exploitable vulnerabilities).</p>"},{"location":"blueprint/essential-eight-maturity/#multi-factor-authentication","title":"Multi-factor authentication","text":"Maturity level:  2 <p>M365 products are considered as third-party internet-facing services that process and store both sensitive and non-sensitive data for agencies using the blueprint.</p> <p>Access to all M365 products for blueprint users requires an Azure Multi-Factor Authentication (Azure MFA) prompt to be completed using the Microsoft Authenticator app (something users have) along with their Azure AD password (something users know). The Azure MFA prompt can be completed by either responding to a push notification within the app, or by entering a six-digit code presented by the app.</p> <p>Privileged users are also required to complete an Azure MFA prompt when authenticating at either a web portal (e.g. Microsoft 365 admin center or Microsoft Azure) or when connecting to a service via PowerShell.</p> <p>The Microsoft Authenticator app authenticating to Azure AD is not considered verifier impersonation resistant. Microsoft recommend using a FIDO2 security key, smart card, or Windows Hello for Business with hardware Trusted Platform Model (TPM) to implement verifier impersonation resistant authentication.</p> <p>All authentication attempts to M365 services, including Azure MFA status, are logged within the Azure AD sign-in log. Defender for Identity and Microsoft Cloud App Security (MCAS) provide additional capabilities for agencies using the blueprint to detect unauthorised authentication attempts.</p> <p>As the blueprint's implementation of MFA is not considered verifier impersonation resistant, the maturity level is 2.</p>"},{"location":"blueprint/essential-eight-maturity/#recommendations_6","title":"Recommendations","text":"<p>It is recommended agencies review Azure AD sign-in logs and MCAS alerts to detect potentially malicious authentication attempts.</p> <p>Agencies seeking to reach maturity level 3 should consider alternative authentication methods not currently included in the blueprint.</p>"},{"location":"blueprint/essential-eight-maturity/#regular-backups","title":"Regular backups","text":"Maturity level:  N/A <p>The assessment of regular backups against the blueprint has been descoped and is now reported as Not Assessed. This is a result of the blueprint not including agency backup capabilities, and to reflect the need for agencies to implement their own backup strategy tailored to their unique business continuity requirements.</p> <p>Microsoft provide the Shared Responsibility Model to assist customers understand what responsibilities are held by Microsoft as the provider of cloud services, and which remain the responsibility of the agency using these services. Responsibility for 'Information and data' is described as 'always retained by the customer'. Therefore, agencies are responsible for the protection of data including backup and restoration.</p>"},{"location":"blueprint/office-365/","title":"Office 365","text":""},{"location":"blueprint/office-365/#office-365","title":"Office 365","text":"<p>105 minutes to read - 15 September 2023</p> <p>This document covers the following topics.</p> Section Description Office 365 Organisation Office 365 allows for the configuration of organisation wide settings through the use of a centralised management portal. Office 365 Connectivity Office 365 is a globally distributed service. The user experience with Office 365 involves connectivity through highly distributed service connection points that are scaled over many Microsoft locations worldwide. Exchange Online Exchange Online is a cloud hosted email solution that has the capabilities of on-premises Exchange Services. SharePoint Online SharePoint online is an online collaboration and file storage solution. SharePoint integrates heavily with Teams and OneDrive. OneDrive for Business OneDrive is a file hosting and file synchronisation solution. Microsoft Teams Teams is a cloud hosted unified communications platform. It provides chat, meetings, file storage, and application integrations. Power Platform The Power Platform includes PowerApps, Power BI, and Microsoft Power Automate. Security and Compliance Office 365 provides Security and Compliance tools which can be utilised to implement an organisation's Information Management Policy and to assist with information governance. Exchange Online Protection Exchange Online protection is a cloud hosted email security service (Mail Gateway) that acts to filter spam and scan for viruses on email entering and leaving Exchange Online. Microsoft Defender for Office 365 Microsoft Defender for Office 365 is a cloud-based mail threat protection service. The service provides protection against unknown malware and viruses through the use of robust zero-day protection and inclusion of features to safeguard an organisation from harmful links in real time. Microsoft Whiteboard Microsoft Whiteboard is a digital whiteboard that facilitates collaboration between users. It has integrations with the Office 365 suite and physical endpoints such as the Microsoft Surface hub. Microsoft Forms Microsoft Forms is an online survey and form tool. Microsoft Planner Microsoft Planner is a planning application with integrations into other components of the Office 365 suite. Viva Learning Viva Learning provides various content sources for user training. <p>For each component within the document there is a brief description of the contents of the section, a commentary on the items that have been considered in determining the decisions and the design decisions themselves.</p>"},{"location":"blueprint/office-365/#assumptions","title":"Assumptions","text":"<ul> <li>Where data for any Microsoft service does not reside in Australia this has been explicitly called out.</li> <li>Agencies can provide collateral for custom branding.</li> </ul>"},{"location":"blueprint/office-365/#office-365-organisation","title":"Office 365 Organisation","text":""},{"location":"blueprint/office-365/#residency","title":"Residency","text":"<p>Office 365 is a global service which is offered in many different physical regions. Choosing a region to store data is required to ensure that the data of the organisation does not get transferred or stored offshore.</p> <p>Office 365 tenant residency is critical when setting up the organisation's Office 365 tenant. The region where the Office 365 tenant is set up determines where the data is store. Details of Office 365 data residency can be found from Microsoft's site.</p> <p>Office 365 tenant data residency consideration is required to ensure the organisation's Office 365 tenant is created and data is stored in Australia.</p> <p>Office 365 Region Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Office 365 Region Australia Aligns with ACSC guidance of utilising cloud services located in Australia."},{"location":"blueprint/office-365/#licence","title":"Licence","text":"<p>Microsoft licences access to Office 365 and its security offerings through user-based licensing.</p> <p>Microsoft offers several enterprise licencing options for Office 365, Enterprise Mobility and Security (EMS), and Windows.</p> <p>These licencing options are summarised below:</p> <ul> <li>Microsoft 365 E5 (recommended for this blueprint). Microsoft 365 E5 includes everything inside Microsoft 365 E3 plus additional features and services (largely security and compliance related). In the case of Office 365 E5, the capabilities in Microsoft Defender for Office 365 suite as well as other services such as Office 365 Advanced Compliance are increased.</li> <li>Microsoft 365 E3. Microsoft 365 E3 provides access to core products with enhanced features and security features. In the case of Office 365 E3, the Office client suite is included, and the service limits are increased.</li> </ul> <p>To grant access to the services a licence is assigned to an individual user account. A licence can be assigned by an administrator at the time of the user account is created or through Microsoft Entra ID group-based licensing. Microsoft Entra ID group-based licensing allows an Administrator to associate a licence to a group. Any members within the group will be assigned that licence automatically. When a user is removed from the group the licence is removed.</p> <p>Licensing Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Products Licenced Microsoft 365 E5 Microsoft 365 E5 licences combines Office 365 E5, EMS E5, and Windows 10 E5 are required to ensure that Office 365 tenant can be rated up to Protected. Licence Allocation Method Automated Dynamic Security Groups in Microsoft Entra ID will be used to automatically assign licences and reduce the management overhead associated with licensing. <p>Licensing Configuration for all agencies and implementation types.</p> Configuration Value Description Admin Licence Group <code>rol-OrganisationName-Administrator</code> This is the group that the organisation administrators belong to. User Licence Groups <code>rol-OrganisationName-Users</code> This is the group that the organisation non-administrator users belong to."},{"location":"blueprint/office-365/#self-service-purchase","title":"Self service purchase","text":"<p>Self-Service purchase add-ins for Office 365 allows users of Office 365 to purchase 3rd party add-ins to be added into Office 365 tenancy.</p> <p>Self-service purchase of applications from the Microsoft Power Platform products was introduced in January 2020. By default, this is enabled for all users within the tenant and paid by credit card.</p> <p>These processing of data for these add-ins does not sit within Office 365 tenancy. This might cause the data to flow outside and/or stored outside of Australia.</p> <p>Self-Service Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Global self-service purchase Disabled Only administrators are permitted to purchase applications. Power BI self Service purchase Disabled Only administrators are permitted to purchase applications. Power Apps self-service purchase Disabled Only administrators are permitted to purchase applications. Power Automate self-service purchase Disabled Only administrators are permitted to purchase applications."},{"location":"blueprint/office-365/#themes","title":"Themes","text":"<p>Office 365 Themes provide a method to customise the portal's look and feel for users.</p> <p>The logo of the organisation can be added to the top navigation panel. Themes assist users with familiarisation and adoption of the new system.</p> <p>Theme Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Custom Portal Theme Configured Customising the Theme setting assists user to identify that they are in the correct portal. <p>Note: Themes will be the responsibility of the organisation and this table contains recommendations and restrictions for the themes.</p> <p>Theme Configuration for all agencies and implementation types.</p> Configuration Value Description Logo Image Organisation logo is recommended Under 10 KB, 200 x 30 pixels in JPG, PNG, GIF, or SVG format. SVG is the preferred format. Background Image Organisation logo is recommended 15 KB or less, 1366 x 50 pixels in JPG, PNG, or GIF format. This is in line with Microsoft best practice. Prevent users from overriding their theme Yes Flip this toggle to prevent users from choosing their own theme from the Microsoft theme gallery. This is enabled to maintain cadence between potential personal tenancies and the 'corporate' environment. Navigation bar colour Default Based on organisation branding standards. To maintain cadence with corporate standards. Text and icon colour Default Based on organisation branding standards. Accent Colour Default Based on organisation branding standards. Show the users name on the top navigation bar when the user is signed in Yes The users name will be shown to identify who is signed in."},{"location":"blueprint/office-365/#office-365-services-and-add-ins","title":"Office 365 services and add-ins","text":"<p>Office 365 centrally manages Office services and add-ins. Office services and add-ins can enhance both the way information is accessed and the way business is conducted. Enabling Services and Add-ins also comes with risks, such as the risk of data being shared with other Microsoft services outside of the tenant boundary, or shared outside of Australian data centre locations. Out of the box, several services and add-ins are configured within the portal.</p> <p>The design will take into consideration the services and add-ins that are part of Office 365. The design decision is based on the requirement provided by the organisation and application that is hosted on.</p> <p>Services and Add-ins Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Azure Speech Services Enabled Enabling the organization-wide language model allows Azure Speech service to gather data from emails and other locations to improve M365 applications that use Azure Speech services. The Azure Speech service has been IRAP assessed as part of Azure and enables greater accessibility features as part of the Blueprint. Bookings Disabled Exposes a public web page that provides access to user calendars for 3rd parties. There is no requirement to enable the feature as other methods of collaboration are in use. \u200eBriefing\u200e email from \u200eMicrosoft Viva\u200e Enabled Enabled by default to improve productivity, individual users can unsubscribe if desired. Calendar Disabled External sharing is disabled to prevent potential data spills. Cortana Disabled To align with ACSC Windows 10 hardening guidance to disable Windows web results and Cortana, to limit the risk of accidental disclosure of sensitive information. \u200eMicrosoft\u200e communication to users Disabled To prevent communication from Microsoft directly rather than via the organisation's IT team. Microsoft Graph Data Connect Disabled API connectivity with Azure Data Factory is not currently in scope of the blueprint. Microsoft Search in Bing Disabled Microsoft Search integrates with bing.com for Search. Office 365 data is indexed to provide bing.com search functionality and is therefore not desirable for this design. Microsoft Teams Enabled To enable both internal and external collaboration. Microsoft To Do Disabled To reduce the risk of user entering sensitive data into external lists. \u200eMicrosoft Viva Insights (formerly MyAnalytics)\u200e Enabled Provides users with details about their usage of Office 365. Microsoft 365 Group Enabled External collaboration will be conducted in Microsoft Teams and SharePoint Online, which relies on Microsoft 365 groups. Agencies should only select agencies that they trust to collaborate with after completing a risk assessment. Modern Authentication Enabled Modern authentication is a group of technologies that combines authentication, authorisation and conditional access policies to secure an Office 365 tenant. Enabling of Modern Authentication provides ability to use Multi Factor Authentication. News Disabled To prevent the display of Office 365 content and external news articles together in Edge. \u200eOffice\u200e installation options Enabled To manage the update and deployment of Office updates and components. Office on the web Third-party storage services: Disabled Do not allow users to open files in third-party storage services in Office on the web as this may introduce risk of information disclosure or malicious content. Office Scripts Disabled To prevent the execution of unapproved code. Reports Disabled Disable data reporting to Microsoft on Office 365 usage. SharePoint Enabled New and Existing guests must sign in or provide a verification code when accessing SharePoint data. Sway Disabled External collaboration will be conducted in Teams or SharePoint online. User consent to apps Disabled Require administrators to provide consent. User owned apps and services Disabled Applications will be delivered via the Business Store, there is no need to have the Official Store enabled."},{"location":"blueprint/office-365/#role-based-access-control","title":"Role based access control","text":"<p>Role Based Access Control (RBAC) defines what a user or administrator has access to (data or user actions) based on the user's job function (role) within the organisation. In relation to system administration, RBAC provides various roles each of which can only perform certain tasks. For example, help desk staff may be able to only view certain resources, whereas system administrators could view, create, and delete those resources. Office 365 provides a subset of administrative roles available in Microsoft Azure.</p> <p>Privileged Identity Management (PIM) can be leveraged to enhance the RBAC model for Azure Active Directory role-based management access, and parts of other Microsoft services like Office 365 and Microsoft Endpoint Manager. PIM requests are made through the Azure portal for elevated access only when they are required, and access is expired after a specified period.</p> <p>The following Office 365 roles can be assigned via PIM:</p> <ul> <li>Exchange administrator.</li> <li>Exchange recipient administrator.</li> <li>SharePoint administrator.</li> <li>Teams administrator.</li> <li>Teams Communications administrator.</li> <li>Teams Communications support engineer.</li> <li>Teams Communications support specialist.</li> <li>Power BI Administrator.</li> <li>Power Platform administrator.</li> <li>Customer Lockbox Administrator.</li> <li>Intune administrator.</li> <li>Office Apps administrator.</li> <li>Message Center Privacy Reader.</li> <li>Message Center Reader.</li> <li>Security administrator.</li> <li>Security reader.</li> </ul> <p>Note, using PIM for the SharePoint administrator role, the Device administrator role, and roles trying to access the Microsoft Security and Compliance Center might experience delays of up to a few hours after activating the role, see PIM Roles for further information.</p> <p>Role Based and Access Control Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification PIM Configured PIM provides time-based and approval-based role activation to mitigate the risks of excessive, unnecessary, or misused access permissions on resources that you care about. Office 365 administrative sub-roles Not Configured Office 365 administrative sub-roles will not be configured in favour of PIM. This ensures Azure is the location to manage Role Base Access Control permission for the organisation tenant."},{"location":"blueprint/office-365/#customer-lockbox","title":"Customer Lockbox","text":"<p>Customer lockbox provides a time-boxed, secure mechanism for Microsoft Support Engineers to assist in customers support query in Office 365. Microsoft Support engineers will have to request authorisation from the organisation to access the underlying data in Office 365 tenant.</p> <p>Customer Lockbox address situations where Microsoft Engineers require access to client data within Office 365 to resolve an incident. All access requests are recorded for auditing purpose.</p> <p>Customer Lockbox Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Customer Lockbox Enable This is to ensure that Microsoft support engineers cannot access the organisation's content to perform a service operation without the organisation's explicit approval."},{"location":"blueprint/office-365/#office-365-connectivity","title":"Office 365 Connectivity","text":"<p>Office 365 is a publicly facing SaaS offering and firewall ports are required to be opened to allow communication between infrastructure and desktops and Office 365. These ports configurations are updated frequently and are available online from Microsoft.</p> <p>It is important to note the traffic between the clients and the Office 365 offering is TLS 1.2 encrypted.</p> <p>Configuration will occur on the proxy and external gateway of the organisation as required.</p> <p>Further details on the firewall configuration for the solution can be found in the Network Configuration ABAC.</p>"},{"location":"blueprint/office-365/#mail-flow-and-gateway","title":"Mail flow and gateway","text":"<p>Mail flow is the path taken by an email from the sender to a receiver. A Mail Gateway acts as the central egress and ingress point for mail traffic into an organisation.</p> <p>For agencies implementing a PROTECTED environment, DTA recommends the use of a separate mail gateway to interface with GovLink for the following functions:</p> <ul> <li>Encryption.</li> <li>Message rules.</li> <li>Header modification.</li> </ul> <p>This will achieve the closest alignment to whole of government policy for Secure Internet Gateways, guidance of the Information Security Manual and the Protective Security Policy Framework.</p> <p>GovLink enables secure communication between Commonwealth entities across public infrastructure and is required for PROTECTED mail to be securely transferred between government organisations. When a GovLink mail gateway is required, Agencies can either use an existing gateway or a new gateway.</p> <p>It is not possible to configure Exchange Online to directly send email via GovLink. Exchange Online must resolve to a public facing IP address, which is not possible across the GovLink network. In this instance a Mail Relay would be required with a public facing interface and a second interface that is able to connect to GovLink. </p> <p>DTA is currently working with Microsoft and the Department of Finance to simplify an organisation's ability to achieve this, however at the time of writing there is no native solution to allow a direct interface between the Office365/Exchange Online environment and GovLink.</p> <p>The following image shows the high-level mail flow for agencies implementing without on-premises infrastructure.</p> <p></p> <p>The figure below shows the high-level mail flow for agencies leveraging on-premises infrastructure in a hybrid configuration. </p> <p></p> <p>Design Decisions summary for all agencies and implementation types.</p> Implementation Type Mail Gateway Mail Connectors Mail Ingress Mail Egress Sensitivity Labels Cloud Exchange Online Protection (EOP) Not required EOP EOP Required Hybrid Existing mail gateway EOL &lt;-&gt; Mail gateway Mail gateway Mail gateway Required <p>Note that Exchange Online Protection, a mail gateway may be required to interface with GovLink.</p>"},{"location":"blueprint/office-365/#optimisation","title":"Optimisation","text":"<p>Office 365 is a globally distributed service. The user experience with Office 365 involves connectivity through highly distributed service connection points that are scaled over many Microsoft locations worldwide. This section outlines two sets of design decisions, representing advice to achieve the highest level of maturity and adherence to existing Whole of Government policies and advice to maximise optimisation outside and user experience. The below information is to inform agencies, including on how best to maximise optimisation and user experience, however consideration should be given for the risk implications of implementing in such a way. While this approach of optimisation represents the current best practice published by Microsoft it is inconsistent with the previously referenced guidance of the ISM and PSPF relating to Secure Internet Gateways. We have provided configuration controls for both scenarios below.</p> <p>To minimise latency, a customer network can route user requests to the closest Office 365 service entry point, rather than connecting to Office 365 through an egress point in a central location or region.</p> <p>The following achieves optimal Office 365 connectivity and performance:</p> <ul> <li>Local DNS resolution and Internet egress - Provision local DNS servers in each location and ensure that Office 365 connections egress to the internet as close as possible to the user's location. This configuration minimises latency and improves connectivity to the closest Office 365 entry point.</li> <li>Add regional egress points - If the organisation network has multiple locations but only one egress point, add regional egress points to enable users to connect to the closest Office 365 entry point. This configuration minimises latency and improves connectivity to the closest Office 365 entry point.</li> <li>Bypass proxies and inspection devices - Configure browsers to send Office 365 traffic directly to egress points and bypass proxies. Configure edge routers and firewalls to permit Office 365 traffic without inspection. This configuration minimises latency and reduces the load on network devices.</li> <li>Enable split tunnelling connection for VPN users - If a VPN solution is required Always on VPN should be integrated into the organisation infrastructure. For VPN users, enable Office 365 connections to connect directly from the user's network rather than over the VPN tunnel by implementing split tunnelling. This configuration minimises latency and improves connectivity to the closest Office 365 entry point.</li> </ul> <p>Optimisation design considerations and decisions apply to all agencies and implementation types.</p> <p>Office 365 Connectivity Optimisation Design Decisions for an increased security posture.</p> Decision Point Design Decision Justification Workstation Connectivity VPN with central internet gateway Provides the highest level of auditing and monitoring. Local DNS resolution and Internet egress Not Configured All traffic will egress centrally through an internet gateway. Add regional egress points Not Configured All traffic will egress centrally through an internet gateway. Bypass proxies and inspection devices Configured Proxies and internet gateway will be configured following Microsoft best practice guidance to allow services to function correctly. Enable split tunnelling connection for VPN users Not Configured All traffic will always traverse the VPN and egress through the internet gateway. <p>Office 365 Connectivity Optimisation Design Decisions for an enhanced User Experience.</p> Decision Point Design Decision Justification Workstation Connectivity Direct connection to the internet Provides the best performance for users. Local DNS resolution and Internet egress Configured if required DNS will be resolved to the gateway of their internet device. Add regional egress points Configured if required Regional Egress Points are not configured in this solution due to the workstations being directly connected to the internet. Bypass proxies and inspection devices Configured Proxies are not configured in this solution due to the workstations being directly connected to the internet. Enable split tunnelling connection for VPN users Configured Split tunnelling is configured in this solution to enable workstations to directly connect to Microsoft services. If a VPN solution is required Always on VPN should be integrated into the organisation infrastructure."},{"location":"blueprint/office-365/#exchange-hybrid","title":"Exchange hybrid","text":"<p>This section is only relevant for agencies implementing a hybrid solution that leverages an on-premises Exchange Server(s).</p> <p>Exchange Online can be used standalone (cloud only) or integrated with an on-premises Exchange Server(s) and Active Directory Domain Services, extending the organisation's messaging farm in a hybrid configuration.</p> <p>A Hybrid configuration provides administrators with added flexibility to transition users to the Cloud without isolating them from the on-premises resources. A Hybrid configuration can also assist with transport routing for compliance reasons (e.g. Govlink) when \"centralized mail transport\" is enabled. The Edge Transport service may be deployed in scenarios where the organisation does not wish to expose Hybrid mail servers directly to Exchange Online Protection.</p> <p>Agencies wishing to synchronise their existing on-premises Active Directory Domain Services for identity (hybrid identity) must maintain an on-premises Exchange server for recipient management purposes, this is because most of the user attributes cannot be managed from Exchange online due to directory synchronisation rules, for more information see decommissioning on-premises Exchange servers.</p> <p>Establishing a hybrid deployment requires an Exchange hybrid server that is supported with your existing on-premises Exchange Server. Microsoft recommends the deployment of the newest Exchange Hybrid server for your environment to ensure the best compatibility with Exchange Online. </p> <p>Exchange 2010 has reached end of support, agencies that wish to use retain a Hybrid configuration after the Hybrid migration method should migrate those Exchange server roles to a supported version of Exchange. Microsoft also recommend that agencies still on Exchange 2010 that have not started or completed their Hybrid migration, upgrade from 2010 to 2016 before commencing the hybrid configuration. </p> <p>Exchange Hybrid Server Supported Configurations.</p> On-premises environment Exchange 2019 Hybrid Deployment Exchange 2016 Hybrid Deployment Exchange 2013 Hybrid Deployment Exchange 2010 Hybrid Deployment Exchange 2019 Supported Not supported Not supported Not supported Exchange 2016 Supported Supported Not supported Not supported Exchange 2013 Supported Supported Supported Not supported Exchange 2010 Not supported Supported Supported Supported <p>The following table outlines the Exchange server roles required to be installed based on on-premises Exchange environment version. The roles mentioned for Exchange 2013 and 2010 can be installed separately or on one server, Microsoft strongly recommend installing all roles on one server.</p> On-premises environment Mailbox server Client Access server Hub Transport Exchange 2016 and newer At least one instance Not required Not required Exchange 2013 At least one instance At least one instance Not required Exchange 2010 At least one instance At least one instance At least one instance <p>Exchange Hybrid design considerations and decisions only apply to agencies leveraging a hybrid implementation.</p> Decision Point Design Decision Justification Exchange Hybrid Deployment Exchange 2016-based The organisation will use their existing Exchange 2016 server to establish the hybrid connection. Edge Transport Server for hybrid mail transport Organisation decision The organisation can choose to leverage an Edge Transport server to prevent the exposure of internal Exchange servers directly to the internet, depending on their risk appetite and gateway environment."},{"location":"blueprint/office-365/#mail-exchange-records","title":"Mail Exchange records","text":"<p>Mail Exchange (MX) records specify the mail server responsible for accepting mail on behalf of the domain.</p> <p>The record is a resource in the Domain Name System (DNS), and it is possible for a single domain to have multiple MX records. Multiple records are largely configured for availability, redundancy, and load balancing reasons.</p> <p>Mail Exchange Records Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Authoritative DNS MX Record <code>&lt;Mail Gateway&gt;</code> This is the ingress point for the mail for the organisation, the mx records will point to the organisation gateway. Mail Exchanger/s <code>&lt;Mail Gateway&gt;</code> This is the ingress point for the mail for the organisation, the mx records will point to the organisation gateway. <p>Mail Exchange Records Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Authoritative DNS MX Record Configured If the organisation hosts mail for more than one domain a MX record for each is required. These records are listed. Mail Exchanger/s Configured If the organisation requires its on-premises mail gateways to continue to be used, the Virtual IP (VIP) of the gateways is used."},{"location":"blueprint/office-365/#mail-connectors","title":"Mail connectors","text":"<p>Mail connectors use TLS to secure communication and can customise the way mail flows into and out of the organisation.</p> <p>Generally mail connectors are required. An exception may be where an organisation does not use a mail gateway and relies on Exchange Online Protection. </p> <p>When the organisation intends to operate at the PROTECTED level, the blueprint assumes that all agencies are implementing the configuration with a Mail Gateway and as such, provides detailed configurations on implementing mail connectors via the relevant gateway.</p> <p>Mail Connector design considerations and decisions apply to all agencies and implementation.</p> Decision Point Design Decision Justification Mail Connectors Configured Mail connectors are required for all Exchange and Exchange Online implementations. Specific connectors are configured when implementing Exchange hybrid. <p>Mail Connector Configuration for all agencies and implementation types for environments intended to be used at the PROTECTED level</p> Configuration Value Description Certificate details Configured Certificate to be issued from the gateway hosting the GovLink connection. Virtual IP address (VIP) Configured Virtual IP Address details will be provided by the gateway provider. Exchange Online Receive Connector Name <code>Inbound-connector-from-&lt;GATEWAY&gt;</code> Describes the source and directionality of mail. Retain internal mail headers Unchecked Internal Mail headers are stripped off messages. On-premises server identification method and value Identify by Senders Domain. Reject email messages if they are not sent over TLS. Require subject name matching <code>&lt;DOMAIN&gt;</code> Ensures mail is being sent over an encrypted connection to a known domain. Exchange Online Send Connector Name <code>outbound-connector-to-&lt;GATEWAY&gt;</code> Describes the source and directionality of mail. Retain internal mail headers Checked When reporting spam that slips past the filters, it is essential that we receive the full message headers from a message. When to use the connector \\* (All Mail) All mail should use the connector. Message routing Route through these smart hosts. This should be used route mail to the gateway. Connector Authentication settings Always use TLS issued by a trusted Certificate Authority with a SAN matching <code>&lt;DOMAIN&gt;</code> Ensures mail is being sent over an encrypted connection to a known domain."},{"location":"blueprint/office-365/#autodiscover","title":"Autodiscover","text":"<p>Autodiscover is a mechanism for the configuration of a user's email client with minimal user input. The required input from the user is their email address and password.</p> <p>Autodiscover for a cloud environment varies from the process utilised when on-premises Exchange is leveraged. With a cloud environment, an Autodiscover Endpoint representing the domain is not available. Instead, DNS redirection and Hypertext Transfer Protocol Secure (HTTPS) redirection is leveraged to direct the Autodiscover client to a trusted Autodiscover Endpoint. The high-level process is:</p> <ul> <li>The Autodiscover endpoint looks for a host named autodiscover.{DomainName}.com</li> <li>DNS provides the Internet Protocol (IP) address of the host autodiscover.outlook.com</li> <li>The Autodiscover client attempts communication utilising HTTPS (This fails)</li> <li>The Autodiscover client requests redirection over Hypertext Transfer Protocol (HTTP) (This directs the client to autodiscover-s.outlook.com)</li> <li>The Autodiscover client attempts communication utilising HTTPS. The communication is successful. However, the new Autodiscover endpoint does not have a server certificate for the requested hostname. This communication is then redirected using HTTPS redirection to an additional Autodiscover endpoint which can provide the required Autodiscover information.</li> <li>The Autodiscover client completes the Autodiscover process with the new Autodiscover endpoint.</li> </ul> <p>To ensure this process functions as described above, appropriate DNS records are required.</p> <p>Autodiscover Design Decisions for all agencies and implementation types. </p> Decision Point Design Decision Justification DNS Records (CNAME) Autodiscover: autodiscover.outlook.com A DNS record that points clients to the Autodiscover service. <p>Autodiscover Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Autodiscover CNAME autodiscover autodiscover.outlook.com Autodiscover will improve the user experience and is required to configure a user's Outlook profile and inbox. <p>Autodiscover Design Decisions for the hybird solution.</p> Decision Point Design Decision Justification Autodiscover internally Configured - Service Connection Point Autodiscover will continue to point to the internal Exchange Servers until all mailboxes have been migrated to Office 365 to ensure functionality. Autodiscover externally Configured \u2013 DNS record To ensure autodiscover functions externally to the organisation."},{"location":"blueprint/office-365/#spf-dmarc-and-dkim","title":"SPF, DMARC and DKIM","text":"<p>Sender Policy Framework (SPF), Domain Key Identified Mail (DKIM), and Domain-based Message Authentication, Reporting and Conformance (DMARC) are tools for email authentication. These tools can coexist to provide enhanced capabilities.</p> <p>These tools can coexist to provide enhanced capabilities.</p> <ul> <li>SPF - SPF is a DNS entry which lists the servers which can send emails from a specific domain. It allows recipients to verify the identity of incoming mail.</li> <li>DKIM - DKIM, unlike SPF is a tool to verify whether the content of the message is trustworthy. This is completed using a public/private key signing process.</li> <li>DMARC - DMARC enables both SPF and DKIM using policy. A DMARC policy sets out how to handle messages which do not align to what the receiver knows about the sender. This can include rejecting the message; suggesting the message is quarantined; or allowing the message.</li> </ul> <p>While DKIM within Office 365 can sign messages, the organisation gateway may also be configured to do this which may cause issues with DMARC verification.</p> <p>Note, agencies that enable DKIM signing within Office 365 that also add additional business logic to email at the egress mail gateway, such as adding a default organisation email disclaimer, would fail DKIM authentication as the contents of the email had changed after the email had been sent from Exchange Online. In this scenario consider migrating the business logic from the mail gateway to native Exchange Online transport rules.</p> <p>SPF, DKIM, &amp; DMARC Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification SPF Configured Configuration of SPF record(s) are required as a baseline for the deployment and are configured to \"hard fail\" as per ACSC recommendations. The SPF record(s) are configured for all such authorised senders for that domain, including the Office 365 SPF sender address (spf.protection.outlook.com) if applicable to ensure mail sent from Exchange Online passes SPF. SPF record(s) are to be configured by the DNS provider that that organisation consumes. DKIM Configured DKIM is a public/private key signing process used to verify the content of an email. DKIM signing is enabled on emails originating from an organisation's domains as per ACSC recommendations. DKIM is either enabled on the organisation mail gateway solution (hybrid) or within Office 365 (cloud native). DMARC Configured One DMARC policy is to be configured per organisation domain as per ACSC recommendations. This is to be configured at the gateway that the organisation consumes. DMARC records are configured for all domains such that emails are rejected if they fail SPF or DKIM checks."},{"location":"blueprint/office-365/#accepted-domains","title":"Accepted domains","text":"<p>Accepted Domains are SMTP namespaces configured within Exchange Online. Only emails addressed to users within the nominated domains are accepted.</p> <p>Accepted Domains consist of the following types:</p> <ul> <li>Authoritative Domains - Authoritative Domains are domains where the Exchange Organisation accepts messages addressed to recipients and is responsible for generating non-delivery reports. On creation of an Exchange Online organisation the tenant domain Fully Qualified Domain Name (FQDN) and the <code>&lt;tenantname&gt;.mail.onmicrosoft.com</code> FQDN are automatically populated as an Authoritative Domains; and</li> <li>Relay Domains - Relay Domains are often called Non-Authoritative Domains. The Exchange Organisation will accept the messages addressed to the recipients; however, it is not responsible for generating non-delivery reports. Hybrid Exchange leverages Relay Domains and mail connectors to relay messages between both on-premises infrastructure and Exchange Online.</li> </ul> <p>Accepted Domain Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configure Additional Accepted Domains Configured Required to integrate with additional agencies. Any additional Agencies that require access to the system are to be included. Authoritative Domains Configured The <code>&lt;tenantname&gt;.onmicrosoft.com</code> authoritative domain is created during the enablement of Office 365 and represents the Exchange Online Organisations SMTP address space. The additional authoritative domains are required as each organisation will have a corresponding authoritative domain. <p>Additional Accepted Domain Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Relay Domains Configured This setting is required to be configured in a Hybrid Exchange scenario."},{"location":"blueprint/office-365/#remote-domains","title":"Remote domains","text":"<p>Remote Domains allow administrators to control the type of replies and format of messages users send to the destination domain.</p> <p>Administrators can configure Exchange to allow (or block) the following:</p> <ul> <li>Out of Office messages.</li> <li>Automatic replies and forwards.</li> <li>Read or delivery receipts.</li> <li>Non-delivery report to a specified domain.</li> </ul> <p>The default remote domain will apply the same settings to all messages; however, administrators can configure specific settings for specific domains.</p> <p>Remote Domain Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configure Remote Domains Default configuration applied The default configuration within Exchange Online will be leveraged. <p>Remote Domain Configuration for all agencies and implementation types</p> Policy Setting Configuration Description Name <code>Default</code> Name of the remote domain. Remote Domain <code>*</code> Note <code>*</code> means all external agencies. Out of Office automatic reply types Allow only external Out of Office replies - Selected Allows the limiting of the type of client automatic replies. Automatic replies Allow automatic replies \u2013 UncheckedAllow automatic forwarding - Unchecked Allows the limiting of automatic replies and automatic forwards. Message reporting Allow delivery reports - TickedAllow non-delivery reports \u2013 TickedAllow meeting forward notifications - Unchecked Allows the limiting of delivery reports, no-delivery reports, and meeting forward notifications. Use rich text format Follow user settings - Selected Allows the control over message format. Supported Character Set None Allows the control over the character set."},{"location":"blueprint/office-365/#certificates","title":"Certificates","text":"<p>There are additional specific certificate requirements when configuring Exchange Hybrid that only apply to agencies implementing a hybrid configuration as Exchange Online encrypts all traffic to the on-premises environment. Agencies implementing cloud only environments that do not leverage an on-premises Exchange Server do not need require these configurations.</p> <p>The following certificates are associated with an Exchange Hybrid deployment:</p> <ul> <li>Azure Active Directory Connect (Azure AD Connect) with Active Directory Federation Services (AD FS) \u2013 a third party certificate from a Trusted Authority (CA) is required to establish a trust between web clients and federations server proxies used to sign and decrypt security tokens.</li> <li>Exchange Federation \u2013 a self-signed certificate is used to create a secure connection between the on-premises Exchange server and Azure Active Directory authentication</li> <li>Exchange Services \u2013 a third party certificated from a Trusted Authority (CA) is required to secure the TLS communication between Exchange servers and clients. These include Outlook on the web, Exchange ActiveSync, Outlook Anywhere and secure message transport</li> <li>Existing Exchange Servers \u2013 might use self-signed or certificates issued by a Trusted Authority (CA) depending on Exchange server certificates. These certificates may need updating for Exchange Hybrid</li> </ul> <p>Suggested FQDNs for hybrid deployment</p> Service Suggested FQDN Field Primary shared Simple Mail Transfer Protocol (SMTP) domain organisation.com.au Subject name Autodiscover To be determined by the organisation. Label that matches the external Autodiscover FQDN on the Exchange Client Access server, such as Autodiscover.contoso.com Subject alternative name Transport To be determined by the organisation. Label that matches the external FQDN of the Edge Transport servers, such as edge.contoso.com Subject alternative name <p>Additional Certificate Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Hybrid Server Certificate New certificate to be purchased As the only new service which is being configured is the Exchange Hybrid Server, that is the only certificate which requires validation and updates as required."},{"location":"blueprint/office-365/#exchange-online","title":"Exchange Online","text":"<p>Microsoft Exchange Online is a cloud-hosted messaging solution that has the capabilities of on-premises Exchange services. Exchange Online provides email, calendar, contacts, and tasks. Exchange Online supports mailbox delegation, where a delegate can have send-on-behalf and management rights over other mailboxes. Shared mailboxes can be assigned to and administered by many users. Application mail sending is supported where the application can authenticate against the Simple Mail Transport Protocol (SMTP) message submission to users inside the managed environment or authenticated SMTP message relay to addresses outside the managed environment.</p> <p>Agencies should also refer to Mail Flow and Gateway for more information on mail flows, mail gateways and the use of GovLink.</p>"},{"location":"blueprint/office-365/#mail-migration","title":"Mail migration","text":"<p>The implementation of Exchange Online can be coupled with a migration from the existing on-premises Exchange infrastructure. If a migration is not required, the deployment is referred to as a greenfield deployment of Exchange Online.</p> <p>There are three migration options:</p> <ul> <li>Hybrid Migration \u2013 Often referred to as a staged migration, is where the on-premises Exchange environment is extended to Office 365 through departmental relationships or federation. During migration user mailboxes will be spread between the online and on-premises environments, this necessitates planning to ensure free/busy, calendar and mailbox sharing all continue to work.</li> <li>Cutover Migration \u2013 A cutover migration is only recommended for organisations with less than 150 mailboxes and occurs over one or a few days. During this period email access may be unavailable. Prior to the migration event, a connection between the on-premises Exchange organisation and Exchange Online needs to be established.</li> <li>PST Migration \u2013 A Personal Storage Table (PST) migration is where PST files with a mapping file are either shipped to or uploaded into Office 365. The Exchange Online instance is a greenfield deployment with no configuration required on the on-premises Exchange environment.</li> </ul> <p>Mail Migration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Office 365 Tenant Single tenant Exchange Online services will be hosted within the organisation's secure Office 365 tenant. <p>Additional Mail Migration Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Deployment Type Exchange Online only Exchange Online is suitable for agencies that are not leveraging any on- premises equipment. <p>Additional Mail Migration Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Deployment Type Hybrid Migration User mailboxes should be migrated from the on-premises Exchange environment."},{"location":"blueprint/office-365/#user-mailbox-configuration","title":"User mailbox configuration","text":"<p>User Mailboxes are Exchange Mailboxes that are associated with a user account. Usually one mailbox is associated to one user account.</p> <p>User mailboxes can be configured to:</p> <ul> <li>Allow or disallow Internet Message Access Protocol (IMAP) and Post Office Protocol (POP) connections to them.</li> <li>Prevent mail from deletion.</li> <li>Control ActiveSync connections to them.</li> <li>Control mail size limits.</li> <li>Control the use of mail archives.</li> </ul> <p>The above configuration can be completed on all new mailboxes using a Client Access Services (CAS) Mailbox Plan. A CAS Mailbox Plan is used to configure settings when a licence is assigned to a new user. If the licence is changed, the CAS Mailbox plan linked to that new licence is applied. CAS Mailbox plans will be inherited from the existing organisation plans.</p> <p>In addition to the above mailbox configuration, by default, standard user accounts have access to Exchange Online via Exchange Online PowerShell . ACSC guidance to disable unneeded features requires that this feature be disabled.</p> <p>User Mailbox Configuration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Disable IMAP Configured IMAP will be disabled to meet ACSC guidance to disable unneeded features. Disable POP Configured POP will be disabled to meet ACSC guidance to disable unneeded features. Exchange Mailbox Size 100GB per user Maximum mailbox size available. Language English The default language is English, users will have the ability to adjust this if required. Default time zone GMT +10 The default time zone is GMT +10 however this will be adjusted based on user location. Exchange Message Size Limits Up to 90MB Default setting. Note that message limits may be smaller when sending messages to external mail recipients (can be as low as 10MB). Custom Primary SMTP Addressing first.last@organisation.com.auUsernames are recommended to follow the Universal Principal Name (UPN) format of the user, which is <code>first.last@&lt;organisation&gt;.com.au</code> The primary SMTP address will be changed from <code>first.last@&lt;tenant&gt;.onmicrosoft.com</code> to ensure email continues to function in the same manner. Exchange Online PowerShell Disabled for standard users Standard users have no need to access Exchange Online via PowerShell."},{"location":"blueprint/office-365/#authentication-policies","title":"Authentication policies","text":"<p>Authentication policies control the authentication methods which can be used to access Exchange Mailboxes.</p> <p>Authentication policies can be leveraged to protect the organisation from brute force and password spray attacks. To protect against this, Basic Authentication can be blocked. Basic authentication is where a username and a password are leveraged for client access requests.</p> <p>Blocking Basic Authentication forces clients to use Modern Authentication. Blocking Basic Authentication can cause issues when clients within the environment do not support Modern Authentication. If this occurs, it is recommended to investigate whether the client can be upgraded to support Modern Authentication. If it can, then it is recommended that the client be upgraded. If it cannot then a separate authentication policy can be leveraged enabling Basic Authentication for that client only.</p> <p>Authentication Policy Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Basic Authentication Disabled Basic Authentication has known exploits, Modern Authentication is preferred. Authentication Policy Configuration Configured Authentication Policy will be deployed to meet the security requirements of the organisation and be deployed in conjunction with the organisation security requirements."},{"location":"blueprint/office-365/#outlook-on-the-web-policies","title":"Outlook on the Web policies","text":"<p>Formerly known as Outlook Web App or Outlook Web Access, Outlook on the Web (OWA) policies, are used to control the availability of features and settings in Outlook on the Web. There are no security concerns with enabling OWA however agencies may wish to consider internal organisation policies to inform decisions. A decision to disable OWA will not alter an organisation's cyber security posture.</p> <p>A mailbox can only be assigned one OWA policy and every mailbox must have a policy assigned.</p> <p>Features and settings which can be controlled by an OWA policy include:</p> <ul> <li>Third party file provider integration.</li> <li>Office 365 group creation from within OWA.</li> <li>Microsoft Satisfaction survey prompts.</li> </ul> <p>OWA Policy Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Outlook on the Web Enabled OWA will be enabled to allow users to access their email in a flexible manner. Third party file provider integration Disabled Only Microsoft file providers are approved for integration, no third-party file providers will be configured. This decreases security risk associated with third-party tools. Office 365 group creation by users Disabled Groups can only be created by administrators, not users. This will ensure that the GAL is the most up to date and that there is a consistent naming convention utilised."},{"location":"blueprint/office-365/#mailbox-archive","title":"Mailbox archive","text":"<p>Office 365 Mailbox Archives provide an unlimited email storage space for users. A mailbox archive is an additional mailbox storage space.</p> <p>This archive can be accessed through the web portal or the Outlook client. Users can move or copy mail between their primary and archive mailboxes. Administrators can enable archive and deletion policies. These policies automatically move mail to the archive and, if required, delete mail from the archive when the set criteria are met. Mailbox archives are also subject to retention policies.</p> <p>Mailbox Archive Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Mailbox Archive Enabled The archive mailbox is required to control primary mailbox cache sizes. Mailbox Archive Policy Enabled The use of automated archive mailbox policies improves the user experience and ensures that primary mailbox sizes are controlled."},{"location":"blueprint/office-365/#mailbox-auditing","title":"Mailbox auditing","text":"<p>Mailbox Auditing provides visibility into the access and modification of user mailboxes by owners, delegates, and administrators.</p> <p>Once enabled on a user's mailbox, the activities subject to audit appear within the Office 365 audit log. This information is then available for security to review and run analysis. It is recommended that this audit log be exported to a centralised logging service. The Microsoft Purview Audit (Premium) service requires the \"Microsoft 365 Advanced Auditing\" license allocated to each user in the tenant.</p> <p>Mailbox Auditing Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Mailbox Auditing Configured An event log auditing process, and supporting event log auditing procedures, is developed and implemented covering the scope and schedule of audits, what constitutes a violation of security policy, and actions to be taken when violations are detected, including reporting requirements. Centralised Logging Facility Not Configured Agencies should consider their operational and security requirements around the use of a SIEM separately to the implementation of the blueprint. This design will implement Microsoft Purview Audit (Premium) which can retain Exchange, SharePoint and Azure Active Directory audit records for up to ten years with audit log retention. These technologies also send alert emails to Global Administrators and selected Office 365 administrators. <p>Mailbox Auditing configuration applicable to all agencies and implementation types.</p> Configuration Value Description User Mailbox and Shared Mailbox Audit Configuration Admin Audited Actions ApplyRecordCopyCreateFolderBindHardDeleteMessageBindMoveMoveToDeletedItemsRecordDeleteSendAsSendOnBehalfSoftDeleteUpdateUpdateCalendarDelegationUpdateFolderPermissionsUpdateInboxRules All available audit actions will be selected in order to provide the required visibility of changes made to a mailbox. Delegate Audited Actions ApplyRecordCreateFolderBindHardDeleteMoveMoveToDeletedItemsRecordDeleteSendAsSendOnBehalfSoftDeleteUpdateUpdateFolderPermissionsUpdateInboxRules All available audit actions will be selected in order to provide the required visibility of changes made to a mailbox. Owner Audited Actions ApplyRecordCreateHardDeleteMailboxLoginMoveMoveToDeletedItemsRecordDeleteSoftDeleteUpdateUpdateCalendarDelegationUpdateFolderPermissionsUpdateInboxRules All available audit actions will be selected in order to provide the required visibility of changes made to a mailbox. Office 365 Group Mailbox Audit Configuration Admin Audited Actions CreateHardDeleteMoveToDeletedItemsSendAsSendOnBehalfSoftDeleteUpdate All available audit actions will be selected in order to provide the required visibility of changes made to a mailbox. Delegate Audited Actions CreateHardDeleteMoveToDeletedItemsSendAsSendOnBehalfSoftDeleteUpdate All available audit actions will be selected in order to provide the required visibility of changes made to a mailbox. Owner Audited Actions HardDeleteMoveToDeletedItemsSoftDeleteUpdate All available audit actions will be selected in order to provide the required visibility of changes made to a mailbox."},{"location":"blueprint/office-365/#journaling","title":"Journaling","text":"<p>Journaling within Exchange is the recording of email communications as part of an organisation's retention strategy.</p> <p>Journaling can assist with achieving compliance with government regulations. A Journal rule can be scoped to:</p> <ul> <li>Internal messages only.</li> <li>External messages only.</li> <li>All messages.</li> <li>Specific recipients.</li> </ul> <p>Office 365 supports the use of journaling with the caveat that an Exchange Online mailbox cannot be used as a journaling mailbox. When configuring a mailbox for journaling, it must reside on an Exchange server. Journal reports can be delivered to a separate system to the Exchange Online instance. </p> <p>Within Office 365, additional options are available to be leveraged in an organisation's retention strategy. These include:</p> <ul> <li>Retention Policies.</li> <li>Litigation hold.</li> </ul> <p>Retention Policies can also be leveraged across the Office 365 organisation, whereas litigation hold is configured on a per-mailbox basis. These options reduce the complexity and management overhead involved with recording email and backing up to separate systems.</p> <p>Journaling Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configure Journaling Not Configured In place of Journaling, Litigation hold and retention policies in conjunction with eDiscovery will be leveraged by the organisation to meet investigation requirements."},{"location":"blueprint/office-365/#litigation-hold","title":"Litigation hold","text":"<p>Litigation hold preserves a mailbox and its contents from being modified or removed for e-Discovery purposes. A user can continue to send and receive email whilst litigation hold is enabled, even delete an item from the mailbox, and Office 365 will retain the items for discovery purposes.</p> <p>Litigation hold is not enabled by default, and legal teams will need to proactively enable the feature to avoid users potentially deleting any critical data elements. You can also specify the duration for the hold, this is calculated from the date a mailbox item is received or created. If a duration is not set, items are held indefinitely or until the hold is removed.</p> <p>Litigation hold is not an alternative to backups. While it is true that it keeps a copy of your data elements it is not saved in a separate location and cannot be restored to its original location.</p> <p>Litigation Hold Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Litigation hold Configured as required on selected users Litigation hold requirements are unique to each organisation and user."},{"location":"blueprint/office-365/#shared-mailboxes","title":"Shared mailboxes","text":"<p>A Shared Mailbox is a mailbox which allows one or more users read and send messages. Shared Mailboxes also allow the sharing of a calendar between multiple people.</p> <p>Within Office 365 shared mailboxes do not require a licence to be assigned to them unless the mailbox has over 50GBs of data.</p> <p>Unlike user mailboxes, within AD, these mailboxes are represented by a disabled user account. These accounts can be enabled however this poses a security risk as the mailbox account is not related to a single user.</p> <p>User access to the mailbox is provided using mailbox delegation rights (Full Access, Send As, Send on Behalf). These rights can be assigned either directly or using a mail enabled security group.</p> <p>Shared Mailbox Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Shared mailbox delegation (Full Access, Send As, Send on Behalf) Configured via mail-enabled Security groups which are hidden from the Global Address book Mail-enabled security groups limit the management overhead associated with mailbox delegation when compared to direct delegations. A security group is required to be mail-enabled to appear within Office 365. Naming standard for security groups Configured To distinguish between a security groups managing a shared mailbox a naming standard will be followed.e.g. <code>GMSG_&lt;mailboxname&gt;</code> Shared Mailbox user account Disabled Default configuration. Accounts will remain disabled to reduce system attack surface."},{"location":"blueprint/office-365/#resource-mailboxes","title":"Resource mailboxes","text":"<p>A Resource Mailbox is a mailbox which is assigned to a resource as opposed to a user.</p> <p>Resource Mailboxes have two types:</p> <ul> <li>Room mailboxes \u2013 Used for meeting rooms.</li> <li>Equipment mailboxes \u2013 Used for non-location specific resources such as computers, projectors, microphones, or cars.</li> </ul> <p>Users book these resources using meeting requests. Resource Mailboxes can be configured to accept or decline the request based on their availability.</p> <p>Room Mailboxes can be sorted into lists using Room Lists. Room Lists are leveraged to simplify the booking process by grouping all rooms that meet a certain requirement together (Room lists are usually configured by location). When a user books a meeting, they can select the appropriate room list and then see the available rooms for that time.</p> <p>Resource Mailbox Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Room Mailboxes Configured There is a requirement for booking rooms within the solution. Rooms will be configured with a mailbox so that users can book them through their calendars. Equipment Mailboxes Configured There is a requirement for booking equipment within the solution. Equipment will be configured with a mailbox so that users can book them through their calendars. Room Lists Configured There is a requirement for booking rooms within the solution. Room Assets will be configured with a list so that users can book them through their calendars. Naming standards for Resource mailboxes Configurede.g. <code>RES_&lt;location&gt;</code> To distinguish between resource mailboxes a naming standard will be followed for each resource mailbox."},{"location":"blueprint/office-365/#distribution-lists","title":"Distribution lists","text":"<p>A distribution list is a grouping of mail recipients that is addressed as a single recipient. Distribution lists are used to send e-mail to groups of people without having to enter each recipient's individual address. Distributions lists can be established to receive and distribute internal, external, or internal and external email.</p> <p>This saves the sender from needing to enter each individual email address when emailing a group. These groups/lists are generally leveraged for emailing an entire team or project. Only internal organisation employees can send emails to the \"Organisation-all\" distribution list.</p> <p>Distribution lists are created in different ways depending on the Exchange architecture:</p> <ul> <li>Cloud Deployments - For cloud only deployments, distribution lists are created within Office 365.</li> <li>Hybrid Deployments - For hybrid deployments, distribution lists can be created both within Office 365 and on-premises. On-premises lists are then synchronised to Office 365. The on-premises method has the benefit of living with the user identity source of truth however it does create complexity when it is not managed in the same location as Exchange.</li> </ul> <p>Hybrid distribution lists cannot be managed directly in the outlook client by the user, if this functionality is required by the organisation then it is recommended to re-create those address lists in Exchange Online.</p> <p>Management of Distribution lists can be streamlined through the enforcement of a Naming Policy. A Distribution list Naming Policy allows the enforcement of a consistent naming strategy across Microsoft 365 groups. It consists of two parts:</p> <ul> <li>Prefix-Suffix Naming Policy \u2013 Setting of prefixes or suffixes for groups names. The prefixes/suffixes can be either fixed strings or user attributes.</li> <li>Custom Blocked Words \u2013 Blocking of words in the name based on a custom list.</li> </ul> <p>Distribution List Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Distribution Groups creation Cloud Created Management activities for Exchange Online will occur within the portal. The use of cloud created distribution groups also allows for the groups to be upgraded to Microsoft 365 groups at a later stage. Distribution Naming Policy ConfiguredThe naming convention will be <code>OrganisationName-PolicyName</code> Naming policies streamline the management of Distribution lists and allow for groups to be easily sorted. <p>Distribution List Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Distribution Groups creation Hybrid Created Management activities for Exchange Online will occur on the on-premises Exchange server, unless self service updates are required. Distribution Naming Policy Configured Naming policies streamline the management of Distribution lists and allow for groups to be easily sorted."},{"location":"blueprint/office-365/#address-book-address-list","title":"Address book / address list","text":"<p>The Outlook Address Lists, Global Address List (GAL), and Offline Address Book (OAB) are collections of mail-enabled objects.</p> <p>They are leveraged for recipient lookup operations (i.e. When a user leverages either the Address book or Check names tools in Outlook). The types of mail-enabled object collections are as follows:</p> <ul> <li>GAL \u2013 The GAL is automatically created by Exchange and lists all mail-enabled objects. (The GAL is available by default to all users).</li> <li>OAB \u2013 The OAB is an offline version of the GAL leveraged by clients in Cached Mode.</li> <li>Outlook Address List - An Outlook Address List is a subset of the mail-enabled objects. By default, a number of Address Lists are created, however, additional Address Lists can be created as required.</li> </ul> <p>Address Book and Address List Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Custom Address Lists Configured Custom address lists can be configured by organisation administrators, however one initial custom list, <code>OrganisationName-All</code>, should be manually created. GAL and OAB Generated These will be generated so that users can send emails within the organisation in accordance with Microsoft best practice."},{"location":"blueprint/office-365/#email-transport-security","title":"Email Transport Security","text":"<p>Message Transfer Agent - Strict Transport Security (MTA-STS) enables the configuration of domain policies that define whether the receiving domain supports TLS. If the domain doesn't support TLS then the policy can be configured to prevent transmission. Outbound mail flow in Exchange Online supports MTA-STS. Configuration of MTA-STS requires a DNS TXT record and the hosting a of the policy file.</p> <p>Opportunistic TLS enables email traffic to be encrypted when both the sender and receiver domains support TLS without the need for an additional port for encrypted traffic. By default, Exchange Online always attempts to encrypt mail traffic using opportunistic TLS. Microsoft always uses TLS 1.2 when transferring mail between Exchange Online customers. </p> <p>Email Transport Security Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configuration of MTA-STS Recommended Agencies should configure the required DNS record and policy to require TLS support. Opportunistic TLS Enabled (default) To encrypt email traffic where supported by the external email domain."},{"location":"blueprint/office-365/#sharepoint-online","title":"SharePoint Online","text":""},{"location":"blueprint/office-365/#sharepoint-sites","title":"SharePoint sites","text":"<p>SharePoint Online provides the ability to create Intranet sites and Team Sites for groups or agencies to collaborate and manage their documents. A SharePoint site allows members of a team or  from other teams to contribute content on a single platform. The information is limited to the members of the team or project.</p> <p>The creation and storage sizing of SharePoint online sites can be controlled. Out of the box, users can create SharePoint sites and these sites have no storage limits applied. Without restriction there is potentially a large management overhead so we have set a 200GB default which agencies can override.</p> <p>Administrators can put controls in place which restricts who can create a SharePoint site and set the size requirements.</p> <p>SharePoint Site Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification SharePoint site naming convention Avoid spaces and special characters in site collection naming Spaces and special characters can cause problems with indexing and extend the length of the path. Short names are easier to remember. Configure Site Storage limits Configured Larger storage can increase management. This can be manually set by SharePoint Administrator. Suggest 200GB. Block access from unmanaged devices Configured Allow limited web only access. Default settings. Enable Idle Session sign outs Sign out users after 1 hrGive users this much notice before signing out: 5 minutes Default settings. Only allow access from specific IP address locations Not configured Access to be controlled via Conditional Access policies. Only allow access from apps that use modern authentication Enabled Default settings."},{"location":"blueprint/office-365/#sharepoint-hybrid","title":"SharePoint hybrid","text":"<p>In a hybrid configuration SharePoint Online integrates with an existing on-premises SharePoint Servers, extending the functionality and access between the two environments. Enhanced search results and site redirection provides administrators the control on which location a user access information.</p> <p>SharePoint hybrid offers the following options for a hybrid configuration:</p> <ul> <li>Hybrid Federated Search \u2013 In a Federated Search configuration, the index for documents remains in the same system as the data. A SharePoint server can display results from SharePoint Online by making a remote SharePoint query, and users can also search SharePoint on-premises directly from SharePoint Online.</li> <li>Hybrid Cloud Search \u2013 In Cloud Search, the index of the SharePoint Server is pushed and merged with the SharePoint Online index. All the Content Processing and Analytics are done in Office 365, where the index is stored.</li> <li>Hybrid Site following \u2013 Hybrid site following can be configured to send users from the on-premises SharePoint Server to the equivalent service in Office 365.</li> </ul> <p>SharePoint Hybrid Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification SharePoint Hybrid SharePoint Hybrid Search will be configured. To allow searching capabilities between SharePoint on-premises and SharePoint Online."},{"location":"blueprint/office-365/#application-management","title":"Application management","text":"<p>Application management allows the organisation to control who can purchase third party applications for SharePoint Online. These apps can be purchased from Microsoft App Store and used within SharePoint Online itself.</p> <p>SharePoint default methods of displaying and sharing of sharing data are available. Third party applications may circumvent controls or auditing and provide other methods of displaying or sharing of SharePoint data. Any third-party applications will need to be validated for compliance.</p> <p>The blueprint requires the Office 365 tenant to be rated up to Protected. The organisation must ensure information stays within the tenant to control the follow of information between its devices and Office 365 tenancy.</p> <p>Application Management Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Users to have the ability to get apps from marketplace Not Configured Only administrators are approved to assign or purchase application. Allow third party apps from the store be open office documents in the browser Not Configured This setting increases the security of the solution by ensuring documents in the browser cannot start third party apps for Office."},{"location":"blueprint/office-365/#web-parts","title":"Web parts","text":"<p>SharePoint Online provides spaces for users to customise their SharePoint page to include web parts into the page. Web Parts are additional functional parts that can be added into SharePoint pages to enhance productivity and usability for the site.</p> <p>Web Parts are client-side applications that can be added into SharePoint Online. The document considers these two out of the box sets of webparts that needs to be considered as a part of the design decisions:</p> <ul> <li>Microsoft published webpart.</li> <li>Third party published webpart.</li> </ul> <p>Web Part Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft published webpart Enabled Microsoft published webparts cannot be disabled in SharePoint. Third Party published webpart Disabled Third party web parts will be disabled due to potential unsecure data flow outside of Office 365. If a third party published webpart is identified for use in future, the organisation will undertake a risk assessment before implementation."},{"location":"blueprint/office-365/#sharing-and-access-controls","title":"Sharing and access controls","text":"<p>Sharing and Access controls provide granular control over external sharing and access to SharePoint Online. Sharing and Access control is essential for securing SharePoint Online document and information sharing.</p> <p>Access to SharePoint Sites can be controlled through a variety of means to ensure that the data of the sites is protected. This includes the configuration of:</p> <ul> <li>Only allowing access from specific IP address locations.</li> <li>Only allowing access from apps that use modern authentication.</li> <li>Blocking access from devices which are not managed by the organisation through Microsoft Endpoint Manager.</li> <li>Sites can be further secured through the implementation of Idle session timeouts. Idle session timeouts essentially act to log a user out of SharePoint after a period of inactivity.</li> </ul> <p>Access Controls provides an administrative tool to restrict access contents in SharePoint.</p> <p>Sharing and Access Control Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Sharing Controls Configured Sharing to external users will be disabled. Documents within SharePoint Online can only be shared with internal users. Collaboration and sharing will be achieved using Teams. Access Controls Configured Access to SharePoint Online will be controlled on a device level to ensure data is being accessed from approved devices. <p>Sharing Configuration applicable to agencies leveraging a cloud native implementation.</p> Configuration Value Description External Sharing SharePoint New and existing guests Guest access is available in accordance with Collaboration in the DTA \u2013 Platform Design document. More external sharing settings Limit external sharing by domain: Checked Add domains that are allowed: Checked Guests must sign in using the same account to which the sharing invitations are sent. OneDrive Only people in your organisation No external sharing allowed. File and folder links Choose the type of link that is created by default when users get links Specific people Internal link which can only be sent to people in your organisation. Other settings Show owners the names of people who viewed their files in OneDrive Checked This is to ensure owners are aware of external users who have access to the document. Let site owners choose to display the names of people who viewed files or pages in SharePoint Checked Permits display of activity on SharePoint sites to foster collaboration. Use shorter links when sharing files and folders Checked Ensure URL are short and concise. Default link permission Edit Users will have edit permissions by default to increase usability. If view permissions are required, this is also available. <p>Sharing Configuration applicable to agencies leveraging a hybrid implementation.</p> Configuration Value Description External Sharing SharePoint Only people in your organisation No external sharing allowed. OneDrive Only people in your organisation No external sharing allowed. File and folder links Choose the type of link that is created by default when users get links Only people in your organisation Internal link which can only be sent to people in your organisation. Other settings Show owners the names of people who viewed their files in OneDrive Checked This is to ensure owners are aware of external users who have access to the document. Let site owners choose to display the names of people who viewed files or pages in SharePoint Checked Permits display of activity on SharePoint sites to foster collaboration. Use shorter links when sharing files and folders Checked Ensure URL are short and concise. Default link permission Edit Users will have edit permissions by default to increase usability. If view permissions are required, this is also available. <p>Access Control Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Unmanaged Devices Unmanaged Devices Allow limited, web only access Provide restricted access to devices that are not Microsoft Endpoint Manager compliant. Idle session time-out Sign out inactive users automatically On Controls idle time on users logged onto a device. Sign out users after: 1 hour Ensure users are logged out after an idle time. Give users this much notice: 5 minutes Ensure users are notified before they are signed out. Network Location Allow access only from a specific IP address range Off Define a trusted network boundary by specifying one or more authorized IP address ranges. Apps that do not use modern Authentication Apps that do not use modern Authentication Block access Some third-party apps and previous versions of Office cannot enforce device-based restrictions. Use this setting to block all access from these apps."},{"location":"blueprint/office-365/#legacy-features","title":"Legacy features","text":"<p>Legacy features allow for backwards compatibility for legacy capabilities from SharePoint on-premises to SharePoint Online. Legacy features are enabled only when there is a reason to do so, as they restrict the features available in SharePoint Online.</p> <p>SharePoint Online provides legacy features by default to ensure backwards compatibility with legacy SharePoint on-premises solution.</p> <p>Legacy Features Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification InfoPath Not configured InfoPath is going to be deprecated and it is recommended that InfoPath forms to be redeveloped into PowerApps in Office 365. Records Management Not configured Records Management administrative screen provides configuration settings to route files from a SharePoint Document Library to a centralised SharePoint Records Management site. This is to support the traditional Centralised records management system in SharePoint.Note, this is a separate feature from records management in Microsoft 365. Secure Store Settings Not Configured Secure Store in SharePoint Online provides a key vault to store all sensitive information in SharePoint. This is primarily used by InfoPath to store sensitive keys and passwords. It is recommended to use Azure Key Vault to store sensitive information. Business Connectivity Settings Not configured Business Connectivity Settings provides SharePoint on-premises ability to consume information from third party OData Information store.It is recommended to use Power BI to consume third party data and publish it to SharePoint Online. Search Not configured Search provides legacy support on crawled properties, managed properties and custom configuration required. Term Store To be configured based on organisation existing term store to support existing taxonomy if required. Term store is configured for the solution if required by the organisation. Term store provides a consistent taxonomy and ontology for the organisation. This enables ease of search for information within SharePoint. User Profile Not configured User Profiles provide legacy support of custom properties for users and complied audience. Hybrid Picker Not configured This is to ensure hybrid term stores are synchronised between SharePoint Online and on-premises."},{"location":"blueprint/office-365/#onedrive-for-business","title":"OneDrive for Business","text":"<p>OneDrive for Business is a cloud-based, secure, personal document store. It allows storage and access of files from any approved device, allows offline editing, simple organisational collaboration, search tools, and advanced encryption and security features. The sharing of these documents can be controlled to allow or disallow sharing with external parties.</p> <p>OneDrive data can be configured to automatically synchronise data, ensuring the user does not need to download files every time they wish to access them.</p> <p>On deletion of a user's account content can be deleted or retained for a specified period.</p>"},{"location":"blueprint/office-365/#sharing","title":"Sharing","text":"<p>The OneDrive sharing administration screen provides granular configuration. Controlling OneDrive sharing ensures that data is shared internally and externally in a secure manner.</p> <p>OneDrive provides end users the ability to securely store their personal data in Office 365. The design considers that OneDrive is used for personal storage and sharing within the organisation.</p> <p>OneDrive for Business Sharing Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification External Sharing Disabled Sharing to external users will be disabled. Collaboration and sharing will be achieved using Teams. <p>OneDrive sharing configuration applicable to all agencies and implementation types</p> Configuration Value Description Links Default Link Type Internal: Only people in your organisation No sharing is permitted outside the organisation. External Sharing SharePoint Only people in your organisation No external sharing allowed. OneDrive Only people in your organisation No external sharing allowed. Advanced settings for external sharing Allow or block sharing with people on specific domains Unchecked Specific domains are not defined, meaning that content is permitted to be shared with all users within the directory (internal). External users must accept sharing invitation using the same account that the invitations were sent to Checked Required to ensure users are authenticated before accepting sharing invitation. Let external users share items they don't own Unchecked Restricts external users (guests) from re-sharing content. Other settings Display to owner the names of people who viewed their files Checked Ensure owner is are aware of who it has been shared with."},{"location":"blueprint/office-365/#storage-and-synchronisation","title":"Storage and synchronisation","text":"<p>OneDrive and SharePoint can synchronise content locally through the OneDrive for Business client.</p> <p>Content can be \"pinned\" for offline use, ensuring that specific content is available offline, and changes are merged later.</p> <p>The Sync Administration screen provides control Synchronising of File in OneDrive and SharePoint.</p> <p>The sync client is required to provide the ability for end users to work offline from Office 365.</p> <p>Storage and Synchronisation Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Synchronisation client Configured The organisation must use the OneDrive sync client to provide an offline file capability. Storage Limitations Configured To assist the organisation in managing user data specific storage and retention limitations will be configured. <p>Storage and Synchronisation Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Show the Sync button on the OneDrive Website Checked The synchronise button allows OneDrive files to be synced locally through the OneDrive for Business client. Allow syncing only on PC joined to specific domains Checked Access to OneDrive content and synchronisation is controlled via Conditional Access, so this setting is not configured. Domain GUIDs to be provided by the Domain. Block syncing of specific file type Unchecked File type synchronisation is not restricted. Microsoft Defender for Office 365 provides additional protection against malicious files. Days to retain files after user account is marked for deletion 365 days Must align with the organisation internal record keeping policies. Limit OneDrive user Capacity 1024GB Default setting."},{"location":"blueprint/office-365/#notifications","title":"Notifications","text":"<p>Notifications provide OneDrive users with information about how OneDrive is operating. The notification administration screen provides notification control to OneDrive owners.</p> <p>The design considers notification and alerting of users for all shared documents in the organisation to ensure users are aware of the status of shared documents.</p> <p>Users can be notified by email when:</p> <ul> <li>Other users invite additional users.</li> <li>External users accept invitations.</li> <li>An anonymous access link is created or changed.</li> </ul> <p>OneDrive for Business Notification Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification User notifications Configured Notifications will be configured to provide users with relevant information. <p>OneDrive for Business Notification Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Display device notification to users when OneDrive files are shared with them Checked OneDrive will notify users when new files are shared with them. E-mail OneDrive owners when Other users invite additional external users to shared files Checked OneDrive will notify users when a user re-shares a document to an external user (guest). External users accept invitations to access files Checked OneDrive will notify users when external users accept an invitation to access files. An anonymous access link is created Checked OneDrive will notify users when an anonymous access link is created."},{"location":"blueprint/office-365/#content-migration","title":"Content migration","text":"<p>The implementation of OneDrive for Business can be coupled with a migration from an existing on-premises SharePoint farm infrastructure.</p> <p>This migration can take the form of one of the following:</p> <ul> <li>OneDrive (SharePoint 2010/2013) \u2013 Administrators can move an existing OneDrive site hosted to SharePoint Online. Administrators can also leverage the capability of a Hybrid configuration to automatically redirect users to their OneDrive for Business post migration.</li> <li>Network and local file shares \u2013 Most users will have a personal drive or a designated location on the network to save work which may not have a function assigned. To free up network storage and extend the ability to access files in the cloud, administrators can move files from a specific network path to the user's OneDrive for Business site.</li> </ul> <p>If a migration is not required, the deployment is referred to as a greenfield deployment.</p> <p>Access to OneDrive can be controlled to ensure organisation data is protected. This includes the configuration of:</p> <ul> <li>Only allowing access from specific IP address locations.</li> <li>Only allowing access from applications that use modern authentication.</li> <li>Only syncing to PCs joined to a specific domain.</li> </ul> <p>On deletion of a user's account content will be deleted. The deletion period can be customised however it is recommended that the data be archived in an external system or migrated to a SharePoint Site.</p> <p>Content Migration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Deployment Type Migration of data is out of scope for the blueprint however Microsoft provides vendor guidance  on possible migration paths for the organisation Migration method is dependent on the outcome of an assessment of quantity and type of data to be migrated."},{"location":"blueprint/office-365/#microsoft-teams","title":"Microsoft Teams","text":"<p>A Team in Microsoft Teams is a grouping of users who are working together to achieve an outcome. It allows users to communicate together through chat and meeting functions as well as collaborate on documents. Within the Team, Channels can be used to breakdown the work into smaller more specific items. These channels can be extended using Bots, Tabs, and connectors.</p> <p>Microsoft Teams leverages most of the functionality of the Office 365 components. When a Team is created the following artefacts are created out of the box:</p> <ul> <li>SharePoint Site - A new SharePoint site with the URL format of <code>/sites/&lt;SiteTitle&gt;</code>, with the <code>SiteTitle</code>'s spaces are stripped out.</li> <li>Office 365 Group - A new Office 365 Group, which is added into the Microsoft Entra ID tenant. This is created with the site title as the Group Name.</li> <li>Teams email \u2013 A new email address per channel can be created. The email inbox is managed centrally by the Microsoft Team services. At the time of writing this document, the email address will have a domain of <code>&lt;custom email inbox&gt;@apac.teams.ms</code>. </li> </ul> <p>Note: This email is not part of Microsoft Exchange Online.</p>"},{"location":"blueprint/office-365/#access","title":"Access","text":"<p>Access to a team is controlled using Microsoft 365 groups located in Microsoft Entra ID.</p> <p>When a Team is created, an Office 365 group will be created. Owners of the group are delegated to perform administrative actions across the team, while members can participate in the team but not undertake any administrative actions.</p> <p>The design considers permissions, roles and responsibility to administer, manage team owners and members within the team.</p> <p>Microsoft Teams Access Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Team creation permission <code>rol-OrganisationName-o365groupcreators</code> via restriction of 365 Group creation Teams will be created by select administrators or users (via group) to ensure that Teams are created using a documented approval workflow, avoiding Team proliferation.This setting is required as Microsoft Entra ID group creation is restricted to delegated individuals which only allows administrators or delegated users to create 365 groups, and hence Teams. Administrative action over Teams after creation Team Owners Team Owners will either be selected administrators (for Teams such as branches with many users) or managers and their delegates (such as in a section with relatively small user counts). Team owners will be assigned logically at creation time and updated as required. Team membership allocation Manual by administrators or Team Owners Team membership will be allocated manually initially with dynamic group allocation investigated in a future project phase when the logic for group membership is developed."},{"location":"blueprint/office-365/#dynamic-security-group","title":"Dynamic security group","text":"<p>Dynamic Security Groups are Microsoft Entra ID security groups that are populated based on device and/or user attributes.</p> <p>Dynamic Security groups can be leveraged to control access to locations, services, and features.</p> <p>The membership of a Dynamic Security group is updated whenever an attribute of a device or user is modified. If the user/device no longer matches the group rule, then that user/device is removed. Conversely if a user/device now matches the group rule they are added. When a user is added the group can be configured so that the added user receives an email notifying them of the addition.</p> <p>Naming of Dynamic Security groups can be streamlined using a Naming Policy. The Naming Policy ensures that the groups within the environment conform to a standard and their purpose can be easily identified.</p> <p>Dynamic Security Groups Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Naming Policy <code>grp-&lt;Organisation&gt;-&lt;GroupName&gt;</code> Assists in MOGs and standardisation of organisation configuration. Welcome Email Disabled The welcome email will be disabled to reduce the amount of generic correspondence being sent to users."},{"location":"blueprint/office-365/#organisation-wide-configuration","title":"Organisation wide configuration","text":"<p>Microsoft Teams is a collaboration platform that enable the organisation to work collaboratively with external agencies. This allows organisation users to collaborate internally, with trusted guest users and set up meetings with external users. </p> <p>The design will consider the following configurations:</p> <ul> <li>External Access - configures allowable domains to connect to the organisation instance of Microsoft Teams. This also configures Skype for Business integration.</li> <li>Guest Access \u2013 is when an external user is invited to be a member of the team. Once a team owner has granted someone guest access, they can access that team's resources, share files, and join a group chat with other team members.</li> <li>Teams Settings \u2013 configures the default behaviour of all users in the Teams application.</li> </ul> <p>Organisation Wide Configuration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification External Access Configured:(Example) Allow dta.gov.au Allow only dta.gov.au and deny sharing to external users. This will prevent users from setting up meetings with users that are not setup as a Guest of the organisation. Guest Access Configured:Guest Access: Enabled Allows people outside of the organisation to access teams and channels. Teams Setting ConfiguredDisable all third-party file storage This is to ensure departmental users do not save file outside of the Microsoft 365 tenant."},{"location":"blueprint/office-365/#policies-settings","title":"Policies &amp; settings","text":"<p>Microsoft Teams provides ability to create policies around messaging, meetings, calling, video, and guest access. These settings can be configured in policies and assigned to individual users within the organisation.</p> <p>The list below highlights the policies that can be configured with in teams:</p> <ul> <li>Teams Policies \u2013 Teams policies defines the policy for users to discover private teams and create private channels.</li> <li>Meeting Policies \u2013 Meeting policies define creations of meetings, audio and video, content sharing, and participant and guest permissions to meetings in Teams.</li> <li>Live events Policies \u2013 Live events policies is used to globally broadcast departmental meeting via teams.</li> <li>Messaging Policies \u2013 Messaging policies defines behaviour of messages in Teams. The policy defines user capability in sending, editing, deleting, voice messages, and using giphy, stickers, URL preview and translator.</li> <li>Teams App \u2013 Teams apps policy defines the list of apps that can be used in Teams. Microsoft Teams provides Microsoft published apps and third-party apps that can be used in Microsoft Teams. The organisation can control creation of custom apps in Teams.</li> </ul> <p>Policies and Settings Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Team Policy ConfiguredEnable private channels Team policy will be left as default settings.Discovered private teams.Create private channels. Meeting Policies ConfiguredGlobal policy:Automatically admit people \u2013 Everyone in your organisationCloud Recording \u2013 Enabled with automatic deletion Meeting policy dictates how audio, videos and applications that are used in a team meeting.Require external participants to be admitted to a meeting to prevent unauthorised entrance.Enables meetings to be recorded while reducing storage consumption. Live events Policies ConfiguredWho can join live events:Everyone in Organisation Live events is configured to prevent users outside of the organisation (guest and external users) cannot attend these meeting. Messaging Policy Configured Messaging policy dictates how messaging is used in Teams. These includes usage of Giphy, Memes and stickers in messages. Teams apps ConfiguredGlobal Policy:Allow all Microsoft appsBlock all third-party appsBlock all custom apps All third-party apps are blocked by the blueprint by default. The use of third-party apps should be risk assessed by Agencies individually.Custom apps are custom developed applications created by the organisation. These should be enabled as required."},{"location":"blueprint/office-365/#unified-communication","title":"Unified communication","text":"<p>Teams provides a Unified Communication (UC) capability which allows users to participate in audio-visual conferencing in meetings and on-demand.</p> <p>Teams can integrate with third-party UC products and provide configurable levels of functionality when integrated. Third party UC products will be the responsibility of the organisation.</p> <p>Microsoft Teams can natively provide the following UC features:</p> <ul> <li>Individual and group voice calls.</li> <li>Individual and group video calls.</li> <li>Individual and group chat.</li> </ul> <p>Unified Collaboration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Individual and group voice calls Configured Default functionality. Individual and group video calls Configured Default functionality. Individual and group chat Configured Default functionality."},{"location":"blueprint/office-365/#voice-calling","title":"Voice calling","text":"<p>Enables agencies to make calls to landlines or mobiles within Microsoft Teams.</p> <p>Voice calling can be configured in a number of ways depending on the requirements of the organisation, and whether a telephony system is already in place:</p> <ul> <li>VoIP calling: Available within Teams by default without any configuration required. Users can make voice or video calls to each other and collaborate over the internet outside of the PSTN (Public Switched Telephone Network) system. PSTN users outside of Teams can dial in using the provided PSTN dial in conference number to VoIP meetings where this is enabled.</li> <li>Operator Connect: Operator Connect enables a simple PSTN connection method which enables Agencies to connect to a PSTN provider of their choice if they participate in the Operator Connect program. The PSTN integration is managed as a service by the chosen operator.</li> <li>Calling Plan via Telstra Calling for Office 365: Telstra Calling avoids the complexity of separate collaboration systems and can be enabled within Teams. Similar to Operator Connect, this method provides a fully managed service by Telstra for Teams calling to PSTN systems.</li> <li>Direct Routing: Direct Routing enables hybrid Agencies to connect their on-premises telephony infrastructure to Microsoft Teams through a series of supported on-premises Session Border Controllers (SBC). This method provides the organisation a self-managed service for Teams calling to PSTN systems.</li> </ul> <p>The following image describes how connectivity is achieved between Microsoft Teams and Telstra, for the Telstra calling for Office 365 service.</p> <p></p> <p>Voice Calling Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Voice Calling solution Organisation decision The organisation should assess their requirements for calling in order to select the right calling solution for Teams. Security Assessment Organisation to risk assess As the calling options are hosted outside of the M365 system boundary by third party providers they should be risk assessed to determine suitability."},{"location":"blueprint/office-365/#power-platform","title":"Power platform","text":"<p>Power Platform combines the power of PowerApps, Power BI, and Power Automate (formerly Microsoft Flow) into one business application platform. This enables quick and easy app building and data insights.</p>"},{"location":"blueprint/office-365/#power-apps-and-power-automate","title":"Power Apps and Power Automate","text":"<p>Power App and Power Automate are Office 365 tools to develop and create cross platform applications with minimal amount of coding. These tools enable an organisation to create forms, capture information, automate business process and present it in a report to the organisation.</p> <p>Power Apps and Power Automate is built with an underlying connector that allows application to consume to be displayed and business process to act on this information. These connectors provide ability to consume or leverage on existing business tools. Power Apps and Power Automate connectors can be categorised as:</p> <ul> <li>Office 365 Connectors \u2013 Office 365 Connectors provides data access to Office 365 applications (e.g. SharePoint, Teams).</li> <li>Azure Services Connectors \u2013 Azure services connector provides Power Apps and Power Automate access to consume Azure Services (e.g. Azure Cosmos DB, Azure Computer Vision).</li> <li>Third Party Connectors \u2013 Third Party Connectors allows external vendors to provide a service to Power Apps and Power Automate (e.g. Adobe Reader Sign).</li> <li>On-premises data connectors \u2013 On-premises data connectors allows Power Apps and Power Automate to consume data from a variety of sources.</li> </ul> <p>The following image shows consideration required for authentication process and requirements for each generalised group of connectors. The cloud services connector is required to be registered in Azure platform before it can be consumed in Power App and Power Automate. On-premises data access requires a service account for network access and a database service account access for Power Apps and Power Automate to consume its data.</p> <p></p> <p>Power Apps and Power Automate Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Data Policies for Power Automate and Power Apps ConfiguredAccess only to SharePoint, OneDrive for Business, Office 365 Users, Planner, Outlook for 365, and Teams Data Lost Prevention configures the connectors that can be used in Power Apps and Power Automate. The organisation should evaluate the connectors to ensure it fits to the organisation's requirement. Environment Administrator ConfiguredAccess to Environment Administrator is assigned to a security group for Power App and Power Automate Security group should be used to be assigned as Environment Administrator for PowerApps and Power Automate.Environment Administrator will be allowed to create additional environment and configure the connector policies."},{"location":"blueprint/office-365/#power-bi","title":"Power BI","text":"<p>Power BI is a data visualisation tool which can be leveraged to provide interactive dashboards and reports. It integrates with a variety of data sources to enable the creation of dashboards and reports.</p> <p>Power BI consists of five components:</p> <ul> <li>Power BI Desktop - Power BI desktop is a Windows desktop application which allows for the manipulation of data and the creation of reports and dashboards.</li> <li>Power BI Service - The Power BI service is a SaaS offering which allows the creation, modification, and sharing of reports and dashboards.</li> <li>Power BI Mobile - Power BI mobile is a mobile application which allows for the consumption of reports and dashboards.</li> <li>Power BI Report Server - The Power BI report server is an on-premises tool which enables reports to be distributed as required.</li> <li>Power BI Embedded \u2013 Power BI embedded allows organisation to publish Power BI report to be consumed in a public website.</li> </ul> <p>Inside the Power BI Service, the creation of workspaces, content packs, custom visualisations, and data flows can be controlled both on an enterprise level and a group level. This simplifies management of the service.</p> <p>Power BI also allows administrators to control the sharing of datasets, content, report publishing, and template apps. This ensures that the sharing of the organisation information is controlled.</p> <p>Power BI Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Power BI Information Protection Enabled Power BI Information Protection leverages sensitive labels to label Power BI Reports. External Sharing Disabled External Sharing is disabled to reduce the risk of data spills. Data Export Disabled Export of data is disabled to prevent unauthorised access to the underlying report information. Third Party integration Disable Disable third party integration, such as ArcGIS. This should be evaluated by the organisation to ensure that the data stays within Australia."},{"location":"blueprint/office-365/#security-and-compliance","title":"Security and Compliance","text":"<p>Office 365 provides Security and Compliance tools which can be utilised to implement an organisation's Information Management Policy and to assist with information governance. The Office 365 Security and Compliance tools provides the ability to govern and monitor the following components:</p> <ul> <li>SharePoint Online.</li> <li>OneDrive for Business.</li> <li>Teams.</li> <li>Exchange Online.</li> </ul>"},{"location":"blueprint/office-365/#alerts","title":"Alerts","text":"<p>Office 365 contains various out-of-the-box Alert Policies, some of which are dependent on the available Office 365 licence. Alert Policies can be configured to track administrative activities, malware threats, user actions and/or data loss incidents.</p> <p>Each alert can be configured with the following settings:</p> <ul> <li>Tracked Activity - The activity that will cause the alert to be generated. For example, sharing a file with an external user, assigning access permissions, or creating an anonymous link.</li> <li>Activity Conditions - When a tracked activity triggers, additional conditions can be applied to filter out unnecessary alerts. For example, an alert can be triggered only if a certain user performs a task.</li> <li>When to Trigger - When the above conditions are met, further filtering can be applied to only alert when a certain threshold is met. For example, an alert is only raised if the activity has been performed more than five times.</li> <li>Alert Category - An alert category is assigned to assist with tracking and managing the alerts generated.</li> <li>Alert Severity - An alert severity is assigned to assist with tracking and managing the alerts generated. The severity is displayed in the subject line of the alert email.</li> <li>Alert Notification - An alert can be configured with a list of email addresses that should receive the alert notifications. Daily notification limits can also be configured to ensure an alert receiver is not bombarded with alert emails for the same event. Triggered alerts can also be viewed in the Security &amp; Compliance Center.</li> </ul> <p>Alert Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Alert Policies Status Default Alert Policies enabled Custom alert policies are not required for the initial phase. Custom alert policies will be considered in a future project phase."},{"location":"blueprint/office-365/#classification-labels","title":"Classification labels","text":"<p>Classification labels which is located under the Microsoft 365 Security &amp; Compliance Center offers the ability to both control the data flow of sensitive information and control the retention of data. Classifications labels consists of the following:</p> <ul> <li>Sensitivity labels \u2013 Allow label specific protection policy settings to be enforced.</li> <li>Retention labels \u2013 Allow label specific retention policy settings to be enforced.</li> </ul> <p>Sensitivity labels can be applied in the supported Office applications either in Microsoft 365 Apps for enterprise, Office for the Web or using the Microsoft Information Protection unified labelling client.</p> <p>Classification labels are published to users using Label Policies. Label Policies define the users who can utilise the label and the locations within Office 365 where it can be used. Classification labels can be applied in the following ways:</p> <ul> <li>Manually - The label is applied manually by the end-user.</li> <li>Automatically applied based on the location of the document - Labels can be configured to automatically apply based on the location of the document. For example, SharePoint.</li> <li>Automatically applied based on detected Sensitive Information Type - Labels can be configured to automatically apply based on the type of sensitive information found. For example, documents containing Australian drivers licence numbers.</li> </ul> <p>At the time of writing, sensitivity labels cannot be configured to satisfy all of the requirements listed in the Protective Security Policy Framework (PSPF). Some of these limitations are:</p> <ul> <li>Sensitivity labels, Exchange Transport rules or DLP, cannot set the <code>X-Protective-Marking</code> header *Origin- parameter prescribed in the PSPF.</li> <li>When using DLP or Auto Labeling policies to set a  <code>X-Protective-Marking</code> header:</li> <li>certain characters prescribed in the PSPF are not supported (such as <code>:</code> and <code>,</code>) </li> <li>a character limit of 64 characters is the maximum</li> <li>Exchange Transport rules do not have these character limitations</li> <li>When downgrading a sensitivity label, the downgrade cannot be prevented, only forcing the user to justify the downgrade. </li> <li>Sensitivity labels are not available within calendar invites.</li> </ul> <p>The following MIP methods can be used to assist with PSPF compliance:</p> <ul> <li>For calendar invites, advise users to add the classification to the body, and use transport rules or DLP to add the required subject and header values.</li> <li>Update the <code>X-Protective-Marking</code> header associated with the MIP label at the email gateway with the <code>ORIGIN=user@organisation.com.au</code> property. Note, internal emails inside the organisation wouldn't be tagged using this method.</li> </ul> <p>Example email gateway rules that work with MIP are available in the Network Configuration ABAC document. These rules are based on regular expressions and are easily adaptable to vendor specific email gateways.</p> <p>Classification Label Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Sensitivity Labels Enabled Labels will be applied in accordance with the latest guidance from the PSPF. Retention Labels Enabled Labels are recommended to be applied to automate retention configuration and compliance, but the development of specific retention labels is out of scope for this project. Labelling Policy Enabled Users will apply labels manually initially. Subject line modification Configured DLP policies are available to modify the subject line in accordance with PSPF guidance based on matching sensitivity labels. Auto-labeling Configured Automatic Label (auto-labeling) polices will be configured to add the correct sensitivity label to inbound emails when an email is configured with a classification outside of the organisation's tenant or through a 3rd party marking tool. Protected Marking Header Organisation Decision Agencies can best determine the method to set the <code>x-protective-marking</code> header based on their requirements. As of February 2022, the most effective method natively is using Exchange Transport rules in conjunction with the gateway rules (for hybrid or PROTECTED deployments) due to character limitations."},{"location":"blueprint/office-365/#retention-policies","title":"Retention policies","text":"<p>Business information is required to be managed in order to comply with industry and government regulations and internal policies that require data to be retained for a certain period.</p> <p>Office 365 retention policies assist with meeting these requirements by providing the following features:</p> <ul> <li>Configure policies to proactively decide whether to retain content, delete content, or both retain and then delete the content.</li> <li>Apply a single policy to the entire organisation or just to specific locations or users.</li> <li>Apply a policy to all content or just content meeting certain conditions, such as content containing specific keywords or specific types of sensitive information.</li> </ul> <p>When information is subject to a retention policy, end-users can continue to edit and work with the content as if nothing has changed because the content is retained in place, in its original location. But if someone edits or deletes content that is subject to the policy, a copy is saved to a secure location where it's retained while the policy is in effect.</p> <p>The use of Office 365 retention policies (including litigation or preservation holds) does not replace the need for regular backups and the ability to recover that important data. Agencies should determine their own requirements for backup and recovery in accordance with their business continuity requirements.</p> <p>Retention policy Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Retention Policies Configured To ensure that legislative data retention requirements are met. This is to ensure that the organisation holds the data for fraud detection. <p>Retention Policies configuration applicable to agencies leveraging a cloud native implementation.</p> Configuration Value Description Name: Exchange Indefinite Hold Retention configuration Retain the data \"Forever\" How long the data is to be held by the policy. Location Exchange email \u2013 All users included The Office 365 location where the policy applies. Name: SharePoint Indefinite Hold Retention configuration Retain the data \"Forever\" How long the data is to be held by the policy. Location SharePoint Sites \u2013 All Sites The Office 365 location where the policy applies. Name: OneDrive Indefinite Hold Retention configuration Retain the data \"Forever\" How long the data is to be held by the policy. Location OneDrive Accounts \u2013 All Accounts The Office 365 location where the policy applies. Name: Microsoft 365 groups Indefinite Hold Retention configuration Retain the data \"Forever\" How long the data is to be held by the policy. Location Microsoft 365 groups \u2013 All Groups The Office 365 location where the policy applies. Name: Teams Channel Messages Indefinite Hold Retention configuration Retain the data \"Forever\" How long the data is to be held by the policy. Location Teams channel messages \u2013 All teams included The Office 365 location where the policy applies. Name: Teams chats Indefinite Hold Retention configuration Retain the data \"Forever\" How long the data is to be held by the policy. Location Teams chats messages \u2013 All users included The Office 365 location where the policy applies. <p>Retention Policy Configuration applicable to agencies leveraging a hybrid implementation</p> Configuration Value Description Name: Exchange 3 Years Hold Retention configuration Retain the data for 3 years How long the data is to be held by the policy. Location Exchange email \u2013 All users included The Office 365 location where the policy applies. Name: SharePoint 3 Years Hold Retention configuration Retain the data for 3 years How long the data is to be held by the policy. Location SharePoint Sites \u2013 All Sites The Office 365 location where the policy applies. Name: OneDrive 3 Years Hold Retention configuration Retain the data for 3 years How long the data is to be held by the policy. Location OneDrive Accounts \u2013 All Accounts The Office 365 location where the policy applies. Name: Microsoft 365 groups 3 Years Hold Retention configuration Retain the data for 3 years How long the data is to be held by the policy. Location Microsoft 365 groups \u2013 All Groups The Office 365 location where the policy applies. Name: Teams Channel Messages 3 Years Hold Retention configuration Retain the data for 3 years How long the data is to be held by the policy. Location Teams channel messages \u2013 All teams included The Office 365 location where the policy applies. Name: Teams chats 3 Years Hold Retention configuration Retain the data for 3 years. How long the data is to be held by the policy. Location Teams chats messages \u2013 All users included The Office 365 location where the policy applies."},{"location":"blueprint/office-365/#data-loss-prevention","title":"Data Loss Prevention","text":"<p>Data Loss Prevention (DLP) policies enable an organisation to identify, monitor, and automatically protect sensitive information across Office 365 and endpoint devices. DLP policies can be targeted to one or more products within the Office 365 suite.</p> <p>A DLP policy can be configured to:</p> <ul> <li>Identify sensitive information (Sensitive information types), documents in a specific site (for SharePoint only) or specific labels (sensitivity labels) contained in Exchange Online, SharePoint Online, locally on devices (endpoint DLP) and OneDrive for Business.</li> <li>Prevent end-users from accidentally sharing sensitive information.</li> <li>Prevent end-users from accidentally deleting a document.</li> <li>Update documents or emails based on sensitivity labels or data matching, used in conjunction with auto-labling feature can assist with PSPF compliance</li> <li>Educate end-users by presenting messages them on how to stay compliant when relevant. This is done without interrupting their workflow.</li> </ul> <p>At the time of writing Office 365 has over 200 prebuilt sensitive information types (Australian Passport Numbers etc.). In addition to the prebuilt sensitive information types custom types can be created. These custom types look for strings, patterns, or key words.</p> <p>Note, endpoint DLP requires onboarding of those devices into Microsoft Defender for Endpoint. Agencies should consider the use of Endpoint DLP as part of a unified DLP strategy.</p> <p>Data Loss Prevention Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Data Lost Prevention Policies Configured To provide insights into the movement of potentially sensitive information, and for PSPF compliance (x-protected header and subject field marking). <p>Data Loss Prevention Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Name: Australian Privacy Act Locations Protect content in Exchange email, Teams chats, channel messages, OneDrive and SharePoint documents. The locations where the policy will apply. Content type Australian Driver's Licence numberAustralian Passport number The types of sensitive information being detected. Sharing detection With people outside my organisation When the policy is applied. Notify users Enabled Users are notified when the policy is triggered. They are also provided policy tips for managing sensitive information. Amount of instances 5 The amount of sensitive information required to trigger the policy (10 is the default). Send incident reports Enabled User and nominated administrator are notified when the policy is triggered. Restrict access or encrypt the content Disabled Access to the content that triggers the policy can be encrypted or and access limited. Name: Australian Personally Identifiable Information (PII) data Locations Protect content in Exchange email, Teams chats, channel messages, OneDrive and SharePoint documents. The locations where the policy will apply. Content type Australia Tax File Number Australia Driver's Licence Number The types of sensitive information being detected. Sharing detection With people outside my organisation When the policy is applied. Notify users Enabled Users are notified when the policy is triggered. They are also provided policy tips for managing sensitive information. Amount of instances 5 The amount of sensitive information required to trigger the policy (10 is the default). Send incident reports Enabled User and nominated administrator are notified when the policy is triggered. Restrict access or encrypt the content Disabled Access to the content that triggers the policy can be encrypted or and access limited. Name: Australian Health Records Act (HRIP Act) Locations Protect content in Exchange email, Teams chats, channel messages, OneDrive and SharePoint documents. The locations where the policy will apply. Content type Australia Tax File Number Australia Medical Account Number The types of sensitive information being detected. Sharing detection With people outside my organisation When the policy is applied. Notify users Enabled Users are notified when the policy is triggered. They are also provided policy tips for managing sensitive information. Amount of instances 5 The amount of sensitive information required to trigger the policy (10 is the default). Send incident reports Enabled User and nominated administrator are notified when the policy is triggered. Restrict access or encrypt the content Disabled Access to the content that triggers the policy can be encrypted or and access limited. Name: Australian Financial Data Locations Protect content in Exchange email, Teams chats, channel messages, OneDrive and SharePoint documents. The locations where the policy will apply. Content type SWIFT Code Australia Tax File Number Australia Bank Account Number Credit Card Number The types of sensitive information being detected. Sharing detection With people outside my organisation When the policy is applied. Notify users Enabled Users are notified when the policy is triggered. They are also provided policy tips for managing sensitive information. Number of instances 10 The amount of sensitive information required to trigger the policy (10 is the default). Send incident reports Enabled User and nominated administrator are notified when the policy is triggered. Restrict access or encrypt the content Disabled Access to the content that triggers the policy can be encrypted or and access limited. Name: PROTECTED Data* Locations Protect content in OneDrive and SharePoint documents. The locations where the policy will apply. Content type All published PROTECTED sensitivity labels (Any of these) The types of sensitive information being detected. Sharing detection With people outside my organisation When the policy is applied. Notify users Enabled Users are notified when the policy is triggered. They are also provided policy tips for managing sensitive information. Amount of instances 1 The amount of sensitive information required to trigger the policy (10 is the default). Send incident reports Enabled User and nominated administrator are notified when the policy is triggered. Restrict access or encrypt the content Disabled Access to the content that triggers the policy can be encrypted or and access limited. Name: Classification Append Subject Note: each sensitivity label published requires a separate  'Append Subject' policy Content type Classification sensitivity labels (Any of these) The types of sensitive information being detected. Advanced DLP Rules Content Contains: Sensitivity labels (select classification for policy)Action: Modify subjectRemove text that matches this patten <code>\\[SEC=.*?\\]</code>Insert this replacement text: <code>[SEC=Classification and DLM]</code> Classification the policy is target for Subject line modification, e.g. <code>[SEC=OFFICIAL:Sensitive]</code> Notify users Disabled Users are not notified when the policy is triggered. <p>The Microsoft 365 Compliance Center provides the ability to monitor and review user and administrator activities across the Microsoft 365 applications from the past 90 days.</p> <p>Audit logs are kept by default for 90 days but are configurable up to 10 years using an Audit retention policy with Microsoft Purview Audit (Premium).</p> <p>When an event occurs for the respective application it will take anywhere from 30 minutes up to 24 hours before it can be viewed in the audit log search.</p> <p>The Microsoft 365 Management Activity API enables third-party applications to consume audit logs from Microsoft 365. If audit logging is disabled, third-party applications can still consume audit logs from the Microsoft 365 Management Activity API.</p> <p>A list of Office 365 applications, their auditing capabilities and duration wait time once an event occurs.</p> Application User Activity Admin Activity Duration wait time Exchange Online x x 30 minutes OneDrive for Business x 30 minutes SharePoint Online x x 30 minutes Sway x x 24 hours Power Bi x x 30 minutes Workplace Analytics x 30 minutes Dynamics 365 x x 24 hours Yammer x x 24 hours Microsoft Power Apps x x 24 hours Microsoft Power Automate x x 24 hours Microsoft Steam x x 30 minutes Microsoft Teams x x 30 minutes Microsoft Forms x x 30 minutes Azure Active Directory x 24 hours eDiscovery activities in Office 365 Security &amp; Compliance Center x x 30 minutes <p>Audit logging is not enabled by default and must be turned on first in Microsoft Purview (formerly Microsoft 365 Compliance Center) before user or administrator activities can be audited.</p> <p>Auditing and Logging Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Purview Audit (Premium) Enabled10-year retention To provide visibility into the actions being undertaken within the Microsoft 365 environment."},{"location":"blueprint/office-365/#exchange-online-protection","title":"Exchange Online Protection","text":"<p>Exchange Online Protection (EOP) is a series of filtering services within Exchange Online that protects the organisation against spam, malware, and other email threats.</p>"},{"location":"blueprint/office-365/#connection-filtering","title":"Connection filtering","text":"<p>Connection filtering within Exchange Online Protection provides Exchange Online with a list of known safe IP (IP allow list) addresses to assist with mail filtering. It can also be used to reject messages from various known malicious sources (IP block list). Microsoft provide a dynamic allow list that identifies various sources (safe list) that are considered safe from 3rd-party lists.</p> <p>Exchange Online Protection Connection Filtering is always enabled however it can, to a degree, be configured. A connection filter can be implemented to always allow or always block traffic based upon an IP list.</p> <p>Connection Filtering Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configure Connection Filter Configured Agencies are to provide IP addresses considered as safe. <p>Connection Filter Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Connection filter policy name Default This policy is the default policy configured when Exchange Online is enabled and is consistent with best practice. Scoped to All Domains This is the default setting configured when Exchange Online is enabled. IP Allow list Not Configured This is the default setting configured when Exchange Online is enabled. Agencies should determine their allow list specific to their environment. IP Block list Not Configured This is the default setting configured when Exchange Online is enabled. Safe list Disabled This is the default setting configured when Exchange Online is enabled."},{"location":"blueprint/office-365/#anti-malware","title":"Anti-malware","text":"<p>Anti-malware within Exchange Online Protection refers to the default anti-malware scanning which is completed on all emails routing through the service.</p> <p>In addition to the default scanning, anti-malware policies can be configured. These policies allow for the customisation of a response if malware is detected and the restriction of attachment file types.</p> <p>Anti-malware Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configure Anti-malware Policy Configured Configuring the anti-malware policy to allow for the customisation of a response if malware is detected and the restriction of attachment file types. <p>Anti-malware Policy Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Anti-malware policy name Default Editing the default policy ensures it applies to all incoming and outgoing mail and is consistent with best practice. Malware detection response Notify recipients that the message has been quarantined with the default notification text This will send a notification to recipients when a message is quarantined. Sender notifications Notify internal senders This will send notification to senders when their message is quarantined. Administrator notifications Notify administrators about undelivered messages from internal senders Notify administrators about undelivered messages from external senders Administrators will be notified when messages are undelivered. Allowed File type filtering Disabled This is the default setting configured when Exchange Online is enabled and is Microsoft best practice. This ensures that all file types are inspected for malware with no exceptions."},{"location":"blueprint/office-365/#policy-filtering","title":"Policy filtering","text":"<p>Policy filtering within Office 365 Exchange Online Protection refers to the enforcement of Transport Rules.</p> <p>Transport Rules are a set of rules enforced on mail transiting through the Exchange Organisation. Transport rules can be leveraged by Administrators to complete a number of actions on all mail or a subsection of the mail transiting through the Exchange Organisation. These items include:</p> <ul> <li>Block mail with certain headers.</li> <li>Apply disclaimers to emails.</li> <li>Apply Office 365 message encryption.</li> </ul> <p>Transport Rules follow the following basic structure:</p> <ul> <li>Conditions \u2013 Conditions identify which mail the transport rule applies to. These conditions largely target either information gained from message headers (e.g. the 'to', 'from' or 'CC' fields) or message properties (e.g., size, attachments, subject, body, message classification). A single rule can have multiple conditions apply.</li> <li>Exceptions \u2013 Exceptions are an optional component of a Transport Rule and define the mail exempt from the rule.</li> <li>Actions \u2013 Actions are used to define what actions to undertake on the messages matching the conditions and which do not match any exemption. These actions include rejecting, deleting, redirecting the emails, and adding recipients, prefixes, and disclaimers. A single rule can have multiple actions applied however some actions are incompatible with others.</li> <li>Properties \u2013 Properties are used to define anything which do not fall into another category. This includes enforcing or testing the rule.</li> </ul> <p>Policy Filtering Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Mail flow rules Configured Mail flow rules within the environment are required to enforce business rules and process."},{"location":"blueprint/office-365/#content-filtering","title":"Content filtering","text":"<p>Content Filtering within Exchange Online Protection refers to SPAM management and SPAM policies.</p> <p>Content Filtering policies allow for:</p> <ul> <li>The customisation of response on SPAM detection.</li> <li>Marking emails as SPAM based on language detected.</li> <li>Marking emails as SPAM based on the sender or sender's domain.</li> <li>Increasing the SPAM score if certain content is present in the email.</li> <li>Marking emails as SPAM if certain content is present in the email.</li> </ul> <p>The use of these policies allows greater management control over SPAM emails.</p> <p>Content Filtering Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Configure SPAM policy Default configuration Exchange Online Protection will complete SPAM evaluation."},{"location":"blueprint/office-365/#microsoft-defender-for-office-365","title":"Microsoft Defender for Office 365","text":"<p>Microsoft Defender for Office 365 extends the native security features in Office 365. The protections provided by Microsoft Defender for Office 365 are designed to defend against attacks from multiple threat vectors including email, websites and documents stored in online libraries, such as SharePoint Online. Each of the Microsoft Defender for Office 365 capabilities is enabled and managed via policies configured from the Office 365 Security and Compliance Center.</p> <p>Microsoft Defender for Office 365 provides the following capabilities:</p> <ul> <li>Safe Links - Microsoft Defender for Office 365 Safe Links provides inspection of links included in emails and Office 365 documents to determine if it is malicious, redirecting the user if it is.</li> <li>Safe Attachments - Microsoft Defender for Office 365 Safe Attachments provides sandbox execution of attachments to detect and delete malicious content.</li> <li>Anti-Phishing - Microsoft Defender for Office 365 Anti-Phishing provides machine learning capabilities to detect advanced phishing campaigns.</li> </ul>"},{"location":"blueprint/office-365/#safe-links","title":"Safe Links","text":"<p>Microsoft Defender for Office 365 Safe Links can help protect an organisation by providing time-of-click verification of web addresses (URLs) in email messages, Teams messages, and Office documents. Protection is defined through Safe Links policies that are configured by an organisation.</p> <p>Administrators can redirect URLs in order to avoid being sent to the original link. In addition, administrators can obfuscate the original link preventing users from copying and pasting the link into a web browser.</p> <p>Real-time scanning of URLs provides an additional layer of protection by scanning links during transit and hold an email message from being delivered until the links have been scanned and considered safe.</p> <p>Safe Links can be configured at an organisation level or on a per recipient basis. These policies then be applied to either Exchange Online, Office 365 applications or both.</p> <p>Safe Links protection works as outlined below for URLs in emails that are hosted in Office 365:</p> <ul> <li>All incoming email goes through Exchange Online Protection, where IP and envelope filters, signature-based malware protection, anti-spam and anti-malware filters are applied.</li> <li>An end-user signs into Office 365 and accesses their Exchange Online mailbox.</li> <li>An end-user opens an email message containing a URL, and then clicks on the URL in the email message.</li> <li>The Safe Links feature immediately checks the URL before opening the website. The URL is identified as blocked, malicious, or safe.</li> <li>If the URL sends an end-user to a website that is included in a custom \"Do not rewrite\" URLs list for a policy that applies to the user, the website opens.</li> <li>If the URL sends an end-user to a website that is included in the organisation's custom blocked URLs list, a warning page opens</li> <li>If the URL sends an end-user to a website that has been determined to be malicious, a warning page opens.</li> <li>If the URL goes to a downloadable file and the Safe Links policies are configured to scan such content, the downloadable file is checked.</li> <li>If the URL is considered safe, the end-user is taken to the website.</li> </ul> <p>Safe Links protection works as outlined below for URLs in Office 365 ProPlus applications:</p> <ul> <li>A user opens a Word, Excel, PowerPoint, or Visio, and is signed in using their Office 365 security credentials. The document contains URLs.</li> <li>When a user clicks on a URL in the document, the link is checked by the Safe Links service.</li> <li>If the URL sends an end-user to a website that is included in a custom \"Do not rewrite\" URLs list for a policy that applies to the user, that user is taken to the website.</li> <li>If the URL sends an end-user to a website that is included in the organisation's custom blocked URLs list, the user is taken to a warning page.</li> <li>If the URL sends an end-user to a website that has been determined to be malicious, the user is taken to a warning page.</li> <li>If the URL goes to a downloadable file and the Safe Links policies are configured to scan such downloads, the downloadable file is checked.</li> <li>If the URL is considered safe, the end-user is taken to the website.</li> </ul> <p>Safe Links Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Defender for Office 365 Safe Links Configured Configured to align with ACSC's Malicious Email Mitigation Strategies and Microsoft guidance. <p>Safe Links Configuration applicable to all agencies and implementation types.</p> Configuration Value Description Action for unknown potentially malicious URLs in messages URLs will be rewritten and checked against a list of known malicious links when user clicks on the link Configured to align with ACSC's Malicious Email Mitigation Strategies and Microsoft guidance. Action for unknown or potentially malicious URLs within Microsoft Teams Microsoft Teams will check against a list of known malicious links when user clicks on the link; URLs will not be rewritten Configured to align with ACSC's Malicious Email Mitigation Strategies and Microsoft guidance. Do not track when users click safe links Unchecked Information about when end-users click safe links in the Office 365 documents will be tracked. Do not let users click through safe links to original URL Checked If end-users click on safe links in Office 365 documents, then they will be directed to a warning page and will not be presented with an option to continue to the original link."},{"location":"blueprint/office-365/#safe-attachments","title":"Safe Attachments","text":"<p>The Safe Attachments feature checks email attachments after the email is received but before it is delivered to the user mailbox.</p> <p>When an Safe Attachments policy is in place and an end-user who is covered by that policy views their email in Office 365, their email attachments are checked, and appropriate actions are taken, based on the configured policies.</p> <p>Safe Attachments Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Defender for Office 365 Safe Attachments Configured Configured to align with ACSC's Malicious Email Mitigation Strategies and Microsoft guidance. <p>Safe Attachments Configuration applicable to all agencies and implementation types</p> Configuration Value Description Turn on Safe Documents for Office clients Ticked Before a user is allowed to trust a file opened in Office 365 ProPlus, the file will be verified by Microsoft Defender Advanced Threat Protection. Safe Attachments unknown malware response Block The Block action ensures that emails containing malware do not enter the users mailbox. Redirect attachment on detection. Send the blocked, monitored or replaced attachment to an email address Enable Redirect - Ticked This will send blocked or replaced email messages with an attachment that is identified as malicious to a selected email address. Apply the above selection of malware scanning for attachments times out or error occurs Ticked Will redirect an end-user's email messages to a selected email address even if a time out or error occurs when malware scanning an attachment. This allows legitimate emails to be recovered and malware to be investigated. Applied to Configured All organisation domains (e.g., dta.gov.au)."},{"location":"blueprint/office-365/#anti-phishing","title":"Anti-phishing","text":"<p>Anti-phishing protects users by checking incoming messages for indicators that the message may be spoofed by impersonator or part of a phishing campaign. Most phishing emails involves a malicious actor disguising oneself (spoofing) as an individual who is known to the recipient. The messaged is crafted in a such a way which can trick the user into clicking a link, downloading malware, or stealing user credentials.</p> <p>Anti-phishing uses mailbox intelligence to build a profile of communication habits between each user and maps out these relationship patterns. In an event of a phishing campaign it will analyse the message behaviour against the user profiles to determine if the sender is legitimate or an impersonator.</p> <p>Anti-spoof specifically analyses the senders address to determine if it is legitimate or forged. Administrators can allow our block specific users from spoofing an internal domain. i.e. An external organisation to send out advertising or products on behalf of the organisation.</p> <p>Anti-phishing Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Defender for Office 365 Anti-Phishing Configured Configured to align with ACSC's Malicious Email Mitigation Strategies and Microsoft guidance. <p>Anti-Phishing Configuration applicable to all agencies and implementation types</p> Configuration Value Description Impersonation Policy Add users to protect On Impersonation of high profile organisation representatives (such as executives) can pose a large organisation risk. Add domains to protect Automatically include the domains I own: OnInclude custom domains: Off Specify domains which you want to protect from being impersonated by attackers. Actions If email is sent by an impersonated user: Quarantine the messageIf email is sent by an impersonated domain: Quarantine the message Specify an action in an event an attacker impersonates the users or domains you have specified. Mailbox Intelligence Enable mailbox intelligence: OnEnable mailbox intelligence based on impersonated protection: OnIf an email is sent by an impersonate user: Quarantine the message This feature uses machine learning to determine a user's email patterns with their contacts. With this information, the artificial intelligence can better distinguish between genuine and phishing emails.Impersonated protection allows Office 365 to customize user impersonation detection and better handle false positives. When user impersonation is detected, based on mailbox intelligence, you can define what action to take on the message. Add trust senders and domains Not configured When users interact with domains or users that trigger impersonation but are considered to be safe. i.e. if a partner has the same/similar display name or domain name as a user defined on the list. Spoofing Policy Spoofing filter settings Enable antispoofing protection: On Allows the organisation to filter email from senders who are spoofing domains. Enable Unauthenticated Sender Feature Enable Unauthenticated Sender: On Displays a notification to users in Outlook when a sender fails authentication checks. Actions If email is sent by someone who's not allowed to spoof your domain: Quarantine the message Specify an action in an event an unauthorised user spoofs a domain."},{"location":"blueprint/office-365/#microsoft-whiteboard","title":"Microsoft Whiteboard","text":"<p>Microsoft Whiteboard is a hosted whiteboarding tool used for collaboration. It integrates with Microsoft 365 services such as Teams and functions on devices such as the Microsoft Surface hub, Windows and iOS. Access to use the tool can be controlled globally.</p> <p>Microsoft leverages diagnostic data to both address issues and continually improve the Microsoft Whiteboard tool. The level of data provided to Microsoft from clients utilising the Whiteboard application can be controlled. The diagnostic data configuration options are: - Required \u2013 The minimum amount of data necessary to keep Whiteboard secure, up-to-date, and performing as expected on devices. - Optional \u2013 Additional data to help make product improvements and provides enhanced information to help detect, diagnose, and fix issues. All data under the required setting is also included. - Neither - No diagnostic data about the Whiteboard client software running on the devices is sent to Microsoft. </p> <p>The Whiteboard tool also offers optional connected experiences. These experiences are offered directly to users by Microsoft and include items such as Bing image search, Word or PowerPoint document insertion, and Ink beautification. When the connected services are leveraged, the required service data is provided to Microsoft. This data is separate from any diagnostic data provided.</p> <p>The Whiteboard tool can be used with the Microsoft Surface hub appliance. When using the tool easy sharing can be configured. Easy sharing allows sharing of Whiteboard sessions without logging into the Surface Hub appliance. </p> <p>Microsoft Whiteboard Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Whiteboard for everyone in the organisation Enabled Allowing the use of Whiteboard within the organisation. Level of diagnostic data Neither Restricts the amount of data provided to Microsoft for diagnostic and product improvements. Connected experience in Whiteboard Disabled Restricts the availability of unapproved optional experience to be presented to users. Easy sharing of Whiteboard from Surface hub Organisation Decision Depending on the location and configuration of the Surface Hub/s within the organisation this setting may be configured."},{"location":"blueprint/office-365/#microsoft-forms","title":"Microsoft Forms","text":"<p>Microsoft Forms is a form and survey tool. It offers a variety of external sharing and collaboration options including: - Sharing links - Sharing the link to external party for form population. - Collaboration of layout and structure - Collaboration on the design of a form. - Sharing templates - Sharing a form as a template for external parties to leverage. - Sharing results - Sharing the results of a form with external parties. It can also be configured to allow images from Bing and videos from YouTube to be embedded.</p> <p>Microsoft Forms is capable of capturing the names of the organisational users who complete a form or survey. This functionality can also be configured globally or on a form by form basis.  </p> <p>Surveys and forms can be leveraged for potentially malicious purposes. Phishing protection for Microsoft Forms scans forms for common phishing questions. If they are detect, the form is prevented from being distributed or shared. Phishing protection only protects internal organisation forms.</p> <p>At time of writing, Microsoft Forms processes and stores data for Australian tenants within the United States, it is recommended to not process sensitive information using Microsoft Forms.</p> <p>Microsoft Forms Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification External Sharing -  Sharing of link and collection of responses Enabled Sharing of form links will be enabled, it is up to the organisation which forms they wish to publish. External Sharing -  Collaboration on the layout and structure Enabled Collaboration on the layout and structure of forms will be enabled, it is up to the organisation which forms they wish to collaborate on. External Sharing -  Sharing of form as a template Enabled Sharing forms as a template will be enabled, it is up to the organisation which forms they wish to publish. External Sharing -  Sharing of result summary Disabled Prevents potential data spills from result exposure. Record names by default Disabled Prevents the recording of user names where not required. Bing search and YouTube video embedding Disabled Prevents the use of Bing images and YouTube images within Forms. Phishing protection Enabled Blocks forms from being shared or distributed if they contain common phishing questions."},{"location":"blueprint/office-365/#microsoft-planner","title":"Microsoft Planner","text":"<p>Microsoft Planner is a task planning and assignment tool which can integrate with other Microsoft 365 services such as Microsoft Teams. Planner leverages iCalendar publishing to allow planner users to add tasks into their calendar. When tasks are published via iCalendar, they are available to all users with the iCalendar URL. The users can be both internal and external to the organisation.</p> <p>Microsoft Planner Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Publishing through iCalendar feed Disabled To prevent users from sharing sensitive information via iCalendar feeds."},{"location":"blueprint/office-365/#viva-learning","title":"Viva Learning","text":"<p>Viva Learning is a Microsoft Teams app which aims to assist users to find and access training from multiple content providers. Viva Learning content can be enabled from LinkedIn Learning, Microsoft Learn, and Microsoft 365 Training. Administrators can also configure a SharePoint site to host addition content, which can be done without enabling content from other providers.</p> <p>Note, Viva Learning content is subject to terms other than the Microsoft Product Terms, including third-party content provider\u2019s terms, which have not been reviewed as part of the Office 365 IRAP assessment. It is recommended that Agencies review these terms as part of any risk assessment relating to the use of this content.</p> <p>Viva Learning Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Diagnostic data Disabled Prevent data from being provided to Microsoft for diagnostic and product improvements. LinkedIn Learning Disabled LinkedIn Learning content is subject to third-party content provider\u2019s terms that have not been reviewed as part of the Office 365 IRAP assessment. Microsoft Learn Disabled Microsoft Learn content is subject to terms other than the Microsoft Product Terms and have not been reviewed as part of the Office 365 IRAP assessment. Microsoft 365 Training Disabled Microsoft 365 Training content is subject to terms other than the Microsoft Product Terms and have not been reviewed as part of the Office 365 IRAP assessment. SharePoint Disabled The blueprint does not provide training content. Agencies with existing content may enable a SharePoint site to host Viva Learning content, subject to internal assessment."},{"location":"blueprint/platform/","title":"Platform","text":""},{"location":"blueprint/platform/#platform","title":"Platform","text":"<p>116 minutes to read - 15 September 2023</p> <p>The blueprint includes guidance for cloud native and hybrid deployments of Microsoft 365 technologies, configured to meet PROTECTED standards. It is designed to also be used for staged deployments that leverage hybrid configurations as a transition step to cloud native transformation.</p> <p>Each section of the document provides a description of the relevant technology component, including considerations, decisions and their applicability to cloud native implementations, hybrid configurations, or both.</p> <p>It is important to consider that even if a product is licenced for use by Microsoft, it may not be included in this blueprint if it is not required for all agencies or a product that cannot operate at PROTECTED. Additionally, an organisation may have requirements that will need to be considered outside of this blueprint.</p> <p>This document covers the following topics.</p> Section Description Identity and Access Management The Identity and Access Management section includes the authentication, authorisation methods and Conditional Access policies used within the blueprint for Cloud and Hybrid solutions. Security The Security section details several cloud-based security components available within the Microsoft 365 suite to detect and monitor suspicious behaviour for Cloud and Hybrid solutions. Client Configuration The Client Configuration section details the Microsoft Endpoint Manager - Intune (Intune) management methods and design decisions for the client configuration. Backup and Operational Management The Backup and Operation Management section details the backup design decisions including RPO (recovery point objective), RTO (recovery time objective) and Data Availability. System Administration The System Administration section details how the solution will be managed, the administrative consoles that will be used to administrator the various components, and how Role-Based Access Control (RBAC) is implemented to control access. <p>For each component within the document there is a brief description of the contents of the section, a commentary on the things that have been considered in determining the decisions and the design decisions themselves.</p>"},{"location":"blueprint/platform/#scope","title":"Scope","text":"<p>The following tables in this section lists the components that are in scope for the blueprint and the relevant design document that contains them.</p>"},{"location":"blueprint/platform/#platform-design","title":"Platform design","text":"Component Inclusions Microsoft Entra ID DomainsUser AccountsOrganisation CollaborationMultifactor AuthenticationConditional Access Active Directory On premises for Hybrid solutions only Security Microsoft for Cloud AppsMicrosoft Defender for IdentityMicrosoft Defender for EndpointSecurity Information and Event ManagementMonitoring Client Configuration IntuneMicrosoft Co-ManagementGroup PolicyPrinting Backup Microsoft 365 Backup System Administration Administrative ConsolesRole-based Access Control"},{"location":"blueprint/platform/#office-365-design","title":"Office 365 design","text":"Component Inclusions Office 365 Organisation ResidencyLicenseSelf Service PurchaseThemesOffice 365 Services and Add-InsRole Based Access ControlCustomer Lockbox Office 365 Connectivity Mail Flow and GatewayOptimisationExchange HybridMail Exchange RecordsMail ConnectorsAutodiscoverSPF, DMARC, DKIMAccepted DomainsRemote DomainsCertificates Exchange Online Mail MigrationUser Mailbox ConfigurationAuthentication PoliciesOutlook on the Web PoliciesMailbox ArchiveJournalingLitigation HoldShared MailboxesResource MailboxesDistribution ListsMicrosoft 365 groupsAddress Book / Address List SharePoint Online SharePoint SitesSharePoint HybridApplication ManagementWeb PartsSharing and Access ControlsLegacy Features OneDrive for Business SharingStorage and SynchronisationNotificationsContent Migration Microsoft Teams AccessDynamic Security GroupOrganisation Wide ConfigurationPolicies &amp; SettingsUnified CommunicationVoice Calling Power Platform Power Apps and Power AutomatePower BI Security &amp; Compliance AlertsClassification LabelsRetention PoliciesData Loss PreventionAudit and Logging Exchange Online Protection Connection FilteringAnti-malwarePolicy FilteringContent Filtering Microsoft Defender for Office 365 Safe LinksSafe AttachmentsAnti-Phishing Microsoft Whiteboard Diagnostic DataEnablementConnected ExperienceEasy Sharing Microsoft Forms External sharingPhishing ProtectionBing and YouTube embedding Microsoft Planner iCalender Publishing Viva Learning Viva Learning content sources"},{"location":"blueprint/platform/#client-devices","title":"Client devices","text":"Component Inclusions Windows 10 and 11 HardwareDeploymentCustomisationsSecurity iOS EnrolmentSecurityRemote Wipe"},{"location":"blueprint/platform/#assumptions","title":"Assumptions","text":"<ul> <li>Azure AD Multi-Factor Authentication (MFA) natively supports the Open Authentication (OATH) standard for selected hardware tokens. To use Azure MFA with OATH support, and to achieve an Essential Eight maturity level of 3, use tokens that are \"verifier impersonation resistant\" and uses either: something users have and something users know, or something users have that is unlocked by something users know or are. This blueprint and associated security documentation assume the use of soft tokens (with Microsoft Authenticator) and a level 2 maturity for MFA. </li> <li>Microsoft 365 and Microsoft Azure solutions hold audit data for a period based on the service and the license level of the organisation. The time for most services is 10 years with Microsoft Purview Audit (Premium). For organisations with a requirement to hold audit data past this period, Security Information and Event Management (SIEM) integration should be considered. Service audit data within the Microsoft 365 and Azure clouds is often housed in discrete systems and the opportunities to bring the data under a single pane is limited. Azure Monitor or Microsoft Sentinel are two Microsoft offerings which could be leveraged for this purpose however a holistic solution should be considered to ensure any legislative requirements are met.</li> <li>The blueprint has been designed to cater for government organisations allowing end user devices internet access from anywhere (head office, regional office or home) direct connected and via proxy servers, VPN servers or Security Internet Gateways (SIGs). Where connected through a proxy server, rules will be configured to allow direct connection for some Microsoft 365 services. Mobile users will access Microsoft 365 services directly. These users will be subject to Conditional Access policies to reduce unauthorised access risk.</li> <li>The Intune Console is the preferred method to manage all settings regardless of Cloud native or Hybrid. Although a combination of the Microsoft Endpoint Configuration Manager (MECM) Console and Group Policy Objects (GPOs) would be able to achieve the same settings in a hybrid environment, this blueprint does not include MECM and GPOs example configurations due to the level of dissimilarities and per organisation customisation in existing MECM and GPOs configurations across Commonwealth entities.</li> </ul>"},{"location":"blueprint/platform/#identity-and-access-management","title":"Identity and access management","text":"<p>A directory service is responsible for the storage of identity information. Directories expose the identity information using network protocols such as the Lightweight Directory Access Protocol (LDAP). To ensure a seamless user experience and minimize potential identity conflicts, each identity should have a single point of truth / source. Changes should be replicated to but not managed by other directories.</p> <p>Identity and Access Management (IAM) is the framework upon which digital identities and access to resources are managed. Within a hybrid solution this framework needs to encompass both the on-premises and cloud components.</p>"},{"location":"blueprint/platform/#microsoft-entra-id","title":"Microsoft Entra ID","text":"<p>Microsoft Entra ID (formerly Azure Active Directory (Azure AD)) is a cloud-based directory service which stores identity information and offers Information and Access Management (IAM) for Microsoft cloud products, custom developed applications, and third-party applications. The identities within this directory service can be either cloud based or synchronised from an on-premises AD domain via the Azure AD Connect client.</p> <p>Microsoft Entra ID allows users to sign in and access resources like Microsoft Office 365, the Azure management portal, and other SaaS (Software as a Service) applications. Microsoft Entra ID also provides control over the following directory activities:</p> <ul> <li>Registration of applications \u2013 The registration of application controls whether users can grant permissions to applications and register them within Microsoft Entra ID.</li> <li>Restriction of the Microsoft Entra ID administrative portal \u2013 The restriction of the Microsoft Entra ID portal controls who can viewing of the contents of the Microsoft Entra ID tenant. The contents include user identity data.</li> <li>LinkedIn account connection \u2013 LinkedIn account connection allows users to link their work account to LinkedIn.</li> <li>External user invitations \u2013 External user invitation controls who can be invited by users to collaborate within the tenant.</li> <li>Microsoft Entra ID preview features \u2013 Microsoft Entra ID preview features control how new self-service features are made available to users.</li> </ul> <p>Azure IAM is configured using:</p> <ul> <li>Enterprise Applications - The registration of Microsoft and Third-party enterprise applications. The registration requires information regarding the name, publisher, permissions, authentication configuration and Redirect URIs (Uniform Resource Identifier) to be provided.</li> <li>App Registrations \u2013 The registration of custom-built enterprise applications. The registration requires information regarding the name, Application Identifier (APP ID), permissions, authentication configuration and Redirect URIs (Uniform Resource Identifier) to be provided.</li> </ul> <p>Where an organisation has already determined that a HYBRID solution is required, additional considerations will apply and these should also be reviewed.</p> <p>Microsoft Entra ID Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Cloud Based Service Accounts Configured Break glass accounts are required to be cloud based to ensure access to the tenant if there are issues with authentication. Allow the registration of applications by users Disabled Only administrators can register applications. Allow self-service sign-up for email verified users Disabled Only administrators can create user accounts. Restrict access to the Microsoft Entra ID administrative portal Enabled Only administrators have access to the portal. Allow LinkedIn connections Disabled To meet the organisation's requirements not to share information with third party Agencies without approval. External Collaboration Configured As required by the organisation, provided the external Agencies are at the same classification. Group Management Configured Naming policies and expiration as required by the organisation. Azure Active Directory RBAC Configured For ease of administration, segregation and delegation of roles. Users and administrators will be assigned only the roles they need through PIM (Privileged Identity Management). Enterprise Applications Not Configured No enterprise applications have been identified. Device registration Not Configured Default settings. Identity Governance Not Configured Default settings. Application Proxy Not Configured No requirement has been identified. Licences Configured Configured to assign Microsoft 365 licences to user groups. Ensures consistent configuration. Custom Domain Names Configured {organisation}.onmicrosoft.com{organisation}.com.au Mobility (MDM and MAM) Not Configured Default settings. Company Branding Configured Organisation specific logos will be required to provide a corporate look and feel. The organisation specific logon banner text is provided under the \"Sign-in page text\" area of company branding to remind users of their security responsibilities. Keep Me Signed In (KMSI) Disabled To prevent users from being offer the 'Stay signed in?' option during authentication. <p>Additional Microsoft Entra ID Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Identity Source Microsoft Entra ID As this is a cloud only implementation Microsoft Entra ID will be the source of identity. Password Reset Configured For self-service password reset, users will need to provide an alternate email address, mobile app and phone number during registration. To reset their password, they will need to provide two methods of verification. Identity Format Configured Usernames will conform to firstname.lastname{sequence number}Note: The sequence number is only required if duplicate names would be created. Display Name Firstname Lastname Agencies should avoid using the \"Lastname, Firstname\" format within the directory as this can cause display issues within Microsoft 365 applications. <p>Additional Microsoft Entra ID Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Identity Source Windows Server Active Directory Domain Services (AD DS) As this is a hybrid implementation, Active Directory will be the source of identity. Synchronize to Active Directory Configured Cloud identities or Synchronised or Federated in accordance with agency specific requirements. Azure AD Connect Configured See Azure AD Connect section for details. Identity Format Inherited Usernames will be synchronised from the on-premises Active Directory and will inherit naming convention. Display Name Inherited Agencies should avoid using the \"Lastname, Firstname\" display name format within the directory as this can cause display issues within Microsoft 365 applications."},{"location":"blueprint/platform/#microsoft-365-groups","title":"Microsoft 365 groups","text":"<p>Microsoft 365 Groups are an extension on the traditional mail Distribution Lists, Mail-enabled Security groups and Shared Mailboxes. They are managed within Azure Active Directory and also are used within Office 365 to control access to items such as a Team or Plan.</p> <p>Microsoft 365 Groups allow members to collaborate with a group email, shared a workspace for conversations, files, calendar events, and a Planner. Unlike Shared Mailboxes, Microsoft 365 groups can be accessed via mobile applications. Microsoft 365 groups are also integrated with Microsoft Teams and Microsoft Planner and are created when a Team or Plan is created.</p> <p>Membership of a Microsoft 365 Group can be dynamically updated using user attributes available in Microsoft Entra ID. This removes some of the management overhead involved with managing the traditional group structures.</p> <p>Management of Microsoft 365 Groups can be streamlined through the enforcement of a Naming Policy, Office 365 group expiry, and creation restrictions. An Office 365 Group Naming Policy allows the enforcement of a consistent naming strategy across Microsoft 365 Groups. It consists of two parts:</p> <ul> <li>Prefix-Suffix Naming Policy \u2013 Setting of prefixes or suffixes for groups names. The prefixes/suffixes can be either fixed strings or user attributes; and</li> <li>Custom Blocked Words \u2013 Blocking of words in the name based on a custom list.</li> </ul> <p>While naming policies for Office 365 groups can assist IT with governance of group resources, this name displays within user applications (e.g the name of the team in Teams) with that name prefix or suffix, so it is important to pick something meaningful to the user group to form the group name.</p> <p>In order to create an effective Microsoft 365 group naming strategy, consider adopting a naming standard that assists users with identifying what the group's purpose or function is. Dynamic attributes such as the user's (who created the group) department or office locations attribute can be substituted, for example:</p> <ul> <li><code>&lt;Team Name&gt; - Human Resources Dept</code></li> <li><code>Organisation - &lt;Project Name&gt; - Sydney</code></li> </ul> <p>In conjunction with the Naming Policy, Microsoft 365 groups can also be given expiration dates. This assists with unused group clean-up activities. The expiration period commences on group creation and can be renewed at the end of the period (The owner or contact for groups with no owners has 30 days to renew the group). When a group expires, it is soft deleted for 30 days. Retention policies will however hold the data for the period of the retention policy. An expiration policy can be applied globally to all groups or to specific groups.</p> <p>Microsoft 365 Groups, by default can be created by any user. This can be restricted to Administrators and members of a security group. This restriction prevents the needless creation of groups. It is advisable to develop a workflow to control the provisioning process.</p> <p>Microsoft 365 Group Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft 365 Group creation restrictions Configured Only administrators and select users can create/configure Microsoft 365 groups. This will ensure that groups are approved before being created, ensuring all groups have a purpose.This setting also affects Exchange, SharePoint, Microsoft Planner and Teams. Naming Policy Organisation to determine Naming can align to organisational team structure and help identify the working group or a project. The organisation should determine what naming policy meets their business requirements. Group Expiration All groups - annually Group Expiration is required to simplify the management overhead associated with groups and to limit Microsoft Entra ID clutter."},{"location":"blueprint/platform/#emergency-access-admin-accounts","title":"Emergency access admin accounts","text":"<p>Emergency access or 'break-glass' accounts are accounts used to restore access to an environment or tenant. Break-glass accounts are an option of last resort and should only be used when normal administrative accounts cannot be used to restore access. Example of this is where conditional access has malfunctioned and both users and administrative staff are unable to authenticate into the environment, or all privileged administrator accounts are comprised in another capacity.</p> <p>Microsoft best practice recommends that two break-glass accounts are configured. These accounts should be stored according to the standard break-glass procedures. Best practice is for these accounts to meet the following minimum requirements:</p> <ul> <li>They are not to be associated with any individual user.</li> <li>They will use a different authorisation mechanism than standard administrative accounts.</li> <li>They are cloud only accounts that use the '*.onmicrosoft.com' domain.</li> <li>The passwords to these accounts are set to never expire or be cleaned up or removed due to inactivity.</li> <li>The accounts are to be given the Global Administrator role assigned permanently.</li> <li>At least one of the accounts is to be excluded from Multi Factor Authentication (MFA).</li> <li>At least one of the accounts is to be completely excluded from all Conditional Access policies.</li> <li>The accounts are stored on paper, in two or three separate parts, in secure, fireproof safes that are in disparate locations.</li> <li>Use of these accounts is monitored and only used in genuine emergencies.</li> </ul> <p>Emergency access account Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Emergency Access accounts Configured Two emergency access accounts will be configured in alignment to Microsoft and security best practice. <p>Emergency access account configuration for all agencies and implementation types</p> Configuration Value Description Username Any value that is not associated to a specific user. Accounts are not to be associated with any individual user. Account type Accounts are cloud only accounts that use the '*.onmicrosoft.com' domain. Only *.onmicrosoft.com accounts should be used as per Microsoft best practice. Password Expiry Passwords are set to never expire. Ensures the passwords for these accounts are valid in an emergency. Roles Emergency Access accounts will be assigned the Global Administrator role. The accounts are to be given the Global Administrator role assigned permanently. MFA Both Emergency Access accounts will be excluded from MFA. Multi Factor Authentication (MFA) device may not be available when the emergency access account is required. Conditional Access At least one of the accounts is to be completely excluded from all Conditional Access policies. The emergency access account may need access to fix an issue and it would not be beneficial if a policy were to block access. Physical access to account details Account details will be stored on paper in an appropriate location. It is strongly recommended that the accounts are stored on paper, in two or three separate parts, in secure, fireproof safes that are in disparate locations. Monitoring of accounts Account usage will be monitored via Defender for Cloud Apps. Use of these accounts is monitored and only used in genuine emergencies."},{"location":"blueprint/platform/#smart-lockout","title":"Smart Lockout","text":"<p>Smart Lockout protects Microsoft Entra ID accounts from brute force attacks such as password guessing by recognising legitimate sign-in attempts from authentications from unknown sources. Smart Lockout is always-on for Microsoft Entra ID but allows customisation of the number of incorrect attempts and the lockout duration.</p> <p>Smart Lockout Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Lockout threshold 5 To reduce the effectiveness of attempted password guessing attacks. Lockout duration in seconds 30 To minimise impact to users if accidently locked out.Note, duration automatically increases with subsequent lockouts."},{"location":"blueprint/platform/#identity-protection","title":"Identity Protection","text":"<p>Identity Protection within Microsoft Entra ID utilises analytics to further minimise the risk that access is provisioned to a compromised authenticated user. Identity Protection enables configuration of automated responses to suspicious activities and actions related to user identities. With Identity Protection, risk-based policies can be configured that automatically respond to detected issues when a specified risk level has been reached.</p> <p>These policies, in addition to other Conditional Access controls provided by Microsoft Entra ID, can either automatically block or initiate adaptive remediation actions including password resets and MFA enforcement.</p> <p>Identity Protection uses the following mechanisms to detect anomalous activity within the environment:</p> <ul> <li>Vulnerabilities \u2013 Identity Protection analyses identity configuration and detects vulnerabilities that can have an impact on user identities. Vulnerabilities can include items such as unmanaged cloud applications.</li> <li>Risk Events \u2013 Microsoft Entra ID uses adaptive machine learning algorithms and heuristics to detect suspicious actions that are related to the user's identities. The system creates a record for each detected suspicious action. These records are also known as risk events and include activities such as Sign-ins from anonymous IP addresses, sign-ins from IP addresses previously detected as exhibiting suspicious activity, or unfamiliar locations.</li> </ul> <p>Identity Protection provides mechanisms for logging and reporting functionality that simplify investigation activities.</p> <p>Identity Protection Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Identity Protection Enable the sign-in risk policy and user risk policy within the Microsoft Entra ID tenant. Provide reporting of detected suspicious sign-in activity based on defined MFA, sign-in risk and user risk policies for increased security. User risk policy Enabled The user risk policy detects the probability that a user account has been compromised by detecting risk events that are a typical of a user's behaviour, alerting when high risk behaviour is detected. Sign-in risk policy Enabled Microsoft Entra ID analyses each sign-in of a user. The objective of the analysis is to detect suspicious actions that come along with the sign-in. Automated actions will be configured to be taken when high risk behaviour is detected."},{"location":"blueprint/platform/#multi-factor-authentication","title":"Multi-Factor Authentication","text":"<p>Authentication is a primary security control to protect both information assets - ranging from logging into a Windows device, to sending an email or collaborating on a document. When deploying Microsoft 365, the identity for each individual staff member is either in the cloud or both in the cloud and on-premises. Employing multiple authentication factors present a significant challenge for attackers gaining access to a system. Traditional authentication methods rely purely on something the user knows, such as a password. Note, a username does not technically count as an authentication factor. A user enters a username to only claim an identity, then must provide an authentication factor to validate this claim (identification vs authentication). Multi-Factor Authentication (MFA) is recommended by the ACSC for all users to prove a user's identity before being granted access.</p> <p>Multi-factor authentication is any combination of two or more authentication sources from the following categories:</p> <ul> <li>Something a user knows (such as a password or PIN).</li> <li>Something a user has (such as a specific hardened device).</li> <li>Something a user is (such as biometric trait, for example a fingerprint).</li> </ul> <p>Azure MFA provides additional security by requiring a second form of authentication and delivers strong authentication via a range of easy to use authentication methods.</p> <p>Azure MFA provides multiple verification methods, such as:</p> <ul> <li>Call to phone \u2013 Call to phone places an automated voice call to a phone number defined by the user.</li> <li>Verification code from mobile app \u2013 The Microsoft Authenticator app generates a new verification code every 30 seconds. The user enters the verification code into the sign-in interface.</li> <li>Notification through mobile app \u2013 Sends a push notification to a user's phone or registered device using the Microsoft Authenticator app. The user views the notification and selects \"Approve\" to complete the verification process.</li> <li>Text message to phone \u2013 Sends a text message that contains a verification code that is used as the authentication token. The user is prompted to enter the verification code into the sign-in interface. This process is called one-way SMS.</li> <li>OAuth hardware token verification code \u2013 OATH is an open standard that specifies how one-time password (OTP) codes are generated. Various vendor tokens are supported.</li> </ul> <p>Azure MFA integrates with Conditional Access policies, or the Trusted IP ranges feature to determine under what circumstances and user's physical location a challenge for additional authentication is required . Conditional Access policies are the recommended method to determine MFA conditions.</p> Decision Point Design Decision Justification MFA Configured \u2013 Mobile App (Push and OTP) To enforce MFA for third-party internet-facing services (M365), administrators, and important data repositories. Hardware Token Support Allowed (supported OATH tokens only) Hardware token support is required to support specific use cases, such as working locations that may not allow mobile phones, or users may have a specific physical token, biometrics, or smartcard justification. Trusted IP Not configured MFA is required regardless of the location the authentication request is originating from."},{"location":"blueprint/platform/#microsoft-authenticator","title":"Microsoft Authenticator","text":"<p>To further enhance the security of Azure MFA, the following capabilities can be enabled for Microsoft Authenticator via Authentication methods in Microsoft Entra ID:</p> <ul> <li>Number matching - Rather than receiving a push notification with the traditional Approve and Deny options, instead the user is prompted to enter a two-digital number presented by the service/application attempting to authenticate to Microsoft Entra ID (e.g., from the browser). </li> <li>Additional context - Presents the user with additional information within Microsoft Authenticator, including the app attempting to authenticate and the location of the authentication request, to enable them to determine if the request is legitimate and should be approved.</li> </ul> <p>Microsoft Authenticator can also be used to enable users to perform passwordless authentication.</p> <p>Note, as of January 2023, Microsoft Authenticator is not considered phishing-resistant/verifier impersonation resistant. Microsoft have stated that Microsoft Authenticator native phishing resistance is in development. </p> Decision Point Design Decision Justification Authentication mode Push To enable enhanced MFA capabilities without enabling passwordless authentication. Number matching Enabled To reduce the risk of push notification MFA fatigue attacks. Additional context Enabled To assist users in identifying legitimate MFA requests."},{"location":"blueprint/platform/#conditional-access","title":"Conditional Access","text":"<p>Conditional Access provides access controls that can be applied to user login requests. These access controls provide an extra level of security to help protect corporate data and information.</p> <p>When a user attempts to access an application or system from any device, one or more conditions must be met before authentication is successful. Conditional Access offers the following types of access controls:</p> <ul> <li>User and location based \u2013 User and location based Conditional Access limits or blocks user access based on their geo-location or IP address.</li> <li>Device based - Device based Conditional Access ensures only enrolled and approved devices can access corporate data.</li> <li>Application based - Application based Conditional Access policies provide the ability to allow or block an application based on policy configuration.</li> <li>Risk based - Risk based Conditional Access protects corporate data from malicious hackers based on a user's Sign-In risk. The sign-in risk is an indicator for the likelihood (high, medium, or low) that a sign-in attempt was not performed by the legitimate owner of a user account. Microsoft Entra ID calculates the sign-in risk level during the sign-in of a user.</li> <li>Session based \u2013 Session based Conditional Access policies enables the control of user sessions by redirecting the user through a reverse proxy instead of directly to the app. From then on, user requests and responses go through Defender for Cloud Apps rather than directly to the app.</li> <li>Terms of Use - Terms of Use policy presents the user a one-off company legal disclaimer in order to access the system through the use of Conditional Access. Its purpose is to remind users of their security responsibilities before access is granted. Users are prompted to accept the policy on first use, or after the policy has changed. Their acceptance is recorded in Microsoft Entra ID. As the Terms of Use is presented only once, the organisation's \"Logon Banner\" text should be presented on the desktop and Microsoft Entra ID portal branding in addition to the Terms of Use.</li> </ul> <p>Based on the above conditions, the user will either be allowed, prompted for multi-factor authentication, or blocked.</p> <p>Conditional Access Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Conditional Access Enabled Device Based To meet security and business requirements. This allows only approved and organisation issued devices access to the organisation's resources. Agencies should avoid using Trusted IPs where possible and leverage Intune compliance. Compliance status is reported back to Microsoft Entra ID and is evaluated with Conditional Access. <p>Conditional Access Policy Design Decisions for all agencies and implementation types.</p> Configuration Description BLOCK - Countries not Allowed This global policy blocks all connections from countries not in the Allowed countries list. BLOCK - Guest Access Deny all guest and external users by default. BLOCK - High-Risk Sign-Ins This global policy blocks all high-risk authentications (requires Microsoft Entra ID Premium P2). BLOCK - Legacy Authentication This global policy blocks all connections from insecure legacy protocols like ActiveSync, IMAP, POP3, etc. BLOCK - Unapproved Devices Prevents access from device types not included in the blueprint (Android, Windows Phone and macOS) GRANT - Guest Access Approved apps that guest users can access (requires MFA). GRANT - Intune Enrolment Devices can authenticate to Intune for enrolment. GRANT - iOS Device Access Grants access to managed iOS devices that are enrolled and compliant in Intune. An approved Microsoft app is required on iOS. GRANT - Terms of Use This global policy forces Terms of Use on all authentications. Terms of Use is a one-off acceptance, it is used for users to accept their security responsibilities before access is granted. GRANT - Windows Device Access Grants access to managed Windows devices that are Intune enrolled and compliant and/or Hybrid Microsoft Entra ID Joined (joined to an on-premises AD and Microsoft Entra ID). Note, Hybrid Microsoft Entra ID join only applies to Hybrid implementation types. This policy also enforces MFA to access resources. SESSION - Admin Sign-in Frequency Enforces a sign-in frequency to ensure administrators sessions do not remain active for longer than 4 hours. SESSION - User Sign-in Frequency Enforces a sign-in frequency to ensure non-privileged users are required to complete an MFA prompt daily."},{"location":"blueprint/platform/#active-directory","title":"Active Directory","text":"<p>Active Directory is an on-premises directory service which stores identity information in a hierarchical structure. Identities within the service are composed of attributes which describe the object. These attributes include but are not limited to the following:</p> <ul> <li>First name</li> <li>Last name</li> <li>Password</li> <li>Email Address</li> <li>Proxy Address.</li> </ul> <p>Additional features and capabilities are available within Active Directory when the Forest and Domain Functional levels are raised. The Functional level of Active Directory is linked to several items including the operating system of the domain controllers. To access all features and capabilities the highest functional level is required. For hybrid identity a minimum Forest Functional level of 2003 is required. To use additional hybrid identity features such as password writeback, the domain controllers must be on Windows Server 2016 or later.</p> <p>Active Directory Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification User Identity Source On-premises Active Directory The on-premises Active Directory will be used as the source for user identity, with identities being synchronised to Azure Active Directory. The directory functional level must meet the minimum requirements for Azure AD Connect synchronisation."},{"location":"blueprint/platform/#domain","title":"Domain","text":"<p>When a new Microsoft Entra ID tenant is created it is assigned a default domain name. This domain is internet routable and aligns to \"{tenant name}.onmicrosoft.com\". A second internet routable domain name is also provisioned if Exchange Online is activated within the tenant. The second internet routable domain aligns to \"{tenant name}.mail.onmicrosoft.com\".</p> <p>On-premises domains can also be registered to the tenant to be used by Azure and Exchange Online. These domains can then be used for receiving email and/or be utilised as the User Principal Name (UPN).</p> <p>Domain Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Registration of on-premises Domains Configured Required to utilise the on-premises identities. Microsoft Entra ID Primary domain Configured - {organisation}.com.au Required to ensure that Azure created resources contain the organisation's Primary Domain."},{"location":"blueprint/platform/#collaboration","title":"Collaboration","text":"<p>Within Azure and Office 365 the ability to collaborate with other tenants exists through the External sharing, B2B (Business-to-Business) and B2C (Business-to-Customer) services. These are key features for any external or inter-organisation collaboration.</p> <p>Utilising the blueprints, an organisation can configure collaboration with other organisations where:</p> <ul> <li>A business requirement exists.</li> <li>Both organisations choose to collaborate.</li> <li>The organisations trust each other.</li> <li>Organisations staff possess the appropriate clearance levels.</li> <li>Risk assessments have been completed; and,</li> <li>Collaboration is based on the lowest classification level of any involved Organisation or organisation.</li> </ul> <p>Collaboration between organisations assessed and operating at the same security level is relatively straightforward, while collaboration between organisations operating on networks that have been assessed at different security levels presents additional considerations and risk. The additional risks and considerations are similar to those that already exist for organisations today, with activities such as personnel clearances, physical security requirements and the secure creation, storage and destruction of physical artefacts. These considerations will need to be assessed on a case by case basis and risks accepted by the Chief Information Security Officers (CISO).</p> <p>ACSC provides guidance on connecting networks with differing security classifications available at Fundamentals of Cross Domain solutions. At the time of writing, there are no automated options for external collaboration from a PROTECTED environment and user validation for external collaboration remains a manual process. This is particularly the case should an organisation adopting this service seek to collaborate from a PROTECTED environment to an environment that is operating at a lower classification. The ISM stipulates that all users of a PROTECTED environment must have a valid security clearance. It is recommended that users of the higher classification organisation collaborate into the lower classification organisation, and that unified labelling be configured as per the blueprints with PROTECTED content restricted to external sharing.</p> <p>For Agencies operating at a PROTECTED level seeking to collaborate, B2C collaboration is not suitable as it allows authentication through publicly accessible domains such as Google and Facebook. Microsoft Entra ID Business-to-Business (B2B) allows authentication between Azure tenants which provides a higher level of assurance.</p> <p>B2B allows the most secure sharing of organisation applications, services, and data with external guest users from other organisations, while maintaining maximal control over corporate data. The collaboration options between two or more organisations can use the following platforms:</p> <ul> <li>Teams</li> <li>Planner</li> <li>SharePoint Online</li> <li>OneDrive for Business.</li> </ul> <p>Microsoft Entra ID supports several B2B access scenarios to enable users within external organisations to collaborate with a host organisation. Users will be authenticated using an external identity source (e.g., Microsoft Entra ID tenant credentials) which then generates a linked guest account within the host Microsoft Entra ID tenant.</p> <p>When an external user is invited to collaborate, the following items are checked:</p> <ul> <li>Is collaboration with the external domain allowed by B2B at the Microsoft Entra ID level?</li> <li>Is guest access allowed by the application?</li> <li>Is external access with the external domain allowed by the application?</li> </ul> <p>When the above are all true, the external user can be invited generating an invitation email. The user must accept the invitation by clicking on the link contained within the email causing a linked guest account to be created in the hosting Microsoft Entra ID tenant. When the guest account has been created it is available for use by any of the applications that are configured to allow guest access.</p> <p>B2B only requires a small amount of user information (name, and email), however it is recommended that CISOs consuming this document creates a process outside of technology that ensures organisation identity requirements are met. The identity requirements should include the properties listed in the table below and the external user's nationality and clearances held.</p> <p>The following table describes the identity properties that should be a minimum requirement before collaboration is enabled for all agencies and implementation types.</p> Field Example Justification FirstName John Search and identify the user. LastName Smith Search and identify the user. UserName (UPN) = EmailAddress john.smith3@{organisation}.com.au Users organisation and contract address. UserName john.smith3 Identity in Microsoft. EmailAddress john.smith3@organisation.com.auUsers email contact. OfficePhone 61400 0000 Users phone contact. MobilePhone 0411 123 456 Users phone contact. JobProfile Finance Users job description in identifying appropriate contact. Organisation exampleOrg Users organisation. Manager Julie Citizen Users manager for further consultation. Photo ID.JPEG Viewing and identifying the user. <p>In addition to the above, Conditional Access policies should be enforced requiring external individuals to use MFA, block legacy authentication, and block from disallowed locations.</p> <p>The following table describes the minimal conditional access policies that should be applied by the partner organisation for all agencies and implementation types.</p> Decision Point Design Decision Justification Conditional Access Policies BLOCK - Legacy Authentication:This global policy blocks all connections from unsecure legacy protocols like ActiveSync, IMAP, PO3, etc.BLOCK - Countries not Allowed:This global policy blocks all connections from countries not in the Allowed countries list. Minimises the risk of the user in the partner organisation using credentials that have been compromised. <p>Microsoft Entra ID design decisions in relation to inter-organisation collaboration for all agencies and implementation types.</p> Decision Point Design Decision Justification B2B Relationships Not Configured The organisation is pursuing a PROTECTED-level certification for the solution. To maintain a robust PROTECTED platform for the organisation, B2B collaboration will not be configured.In a future state, specified partner tenants can be listed assuming they are also rated at a PROTECTED level and approved by appropriate organisation personnel. Only users of these tenants would be allowed collaborative access. B2C Relationships Not Configured Client collaboration other than partner organisations is not required. External Sharing Disabled The organisation is pursuing a PROTECTED-level certification for the solution. To maintain a robust PROTECTED platform for the organisation, B2B collaboration will not be configured.In a future state, specified partner tenants can be listed assuming they are also rated at a PROTECTED level and approved by appropriate organisation personnel. Only users of these tenants would be allowed collaborative access."},{"location":"blueprint/platform/#azure-ad-connect","title":"Azure AD Connect","text":"<p>Azure Active Directory Connect (AAD Connect) is a product designed to synchronise directory objects and changes between Active Directory and Microsoft Entra ID. AAD Connect enables the on-premises directory service to be the source of truth for identities within the environment and ensures that changes are replicated to Microsoft Entra ID.</p> <p>AAD Connect can be deployed in several patterns. These patterns follow the guiding principles of:</p> <ul> <li>Only one AAD Connect instance can be actively synchronising to a Microsoft Entra ID tenant.</li> <li>On-premises AD can only be synchronised to one Azure tenant unless directory synchronisation and Microsoft Identity Manager (MIM) are leveraged.</li> </ul> <p>As only one AAD Connect instance can be actively synchronising at a time, high availability is not possible. A warm standby can be configured using a second AAD Connect server in Staging mode.</p> <p>The following illustrates the user identity synchronisation between the organisation's on-premises AD to Microsoft Entra ID.</p> <p></p> <p>Within the AAD Connect client the synchronisation process can be customised in several ways including:</p> <ul> <li>Group Filtering \u2013 Group filtering limits the scope of the synchronisation to the members of a group within the on-premises directory.</li> <li>Organisational Unit (OU) Filtering \u2013 OU filtering limits the scope of the synchronisation to the objects in one or more OUs within the directory.</li> <li>Attribute Filtering \u2013 Attribute filtering controls which attributes from an object are synchronised to the cloud.</li> <li>Microsoft Entra ID App Filtering \u2013 Microsoft Entra ID app filtering assists in limiting the number of attributes synchronised to the cloud based on which Office 365 services are in use.</li> </ul> <p>Each of the above customisations provide control over what directory information is synchronised to the cloud from the on-premises directory service. The AAD Connect client can also be leveraged to configure Single Sign-On (SSO) and Exchange Hybrid. AAD Connect must run on a domain joined Windows Server 2016 or later and can synchronise many Active Directory objects to Microsoft Entra ID and hence there is a range of hardware requirements to consider based on the number of objects in Active Directory that will be synchronised (refer to the Azure AD Connect Prerequisites).</p> <p>When AAD Connect is leveraged, a user would be created within the on-premises directory service (Active Directory) and then synchronised via the AAD Connect client into Microsoft Entra ID (the cloud-based directory service).</p> <p>The following illustrates a typical user account provisioning workflow for a hybrid configuration.</p> <p></p> <p>Firewall rules will be implemented for AAD Connect. Further details on firewall configuration can be found in the Network Configuration ABAC.</p> <p>AAD Connect Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification AAD Connect Configured Identity synchronisation is a critical requirement and must be implemented based on ACSC guidance. The source of truth for account information will be on-premises Active Directory. Attribute used for login User ID This attribute is commonly used for logins as it will ensure that the same credentials are maintained for on-premises and in-cloud authentication. Organisational unit filtering Configured To target only the required identities for synchronisation. Whole directory synchronisations are not recommended. Single Sign On Configured Single Sign-on. Staging Server Configured Best practice dictates a secondary staging server be in place to be used in disaster recovery scenarios. Password writeback Organisation decision Password writeback enables additional capabilities such as Leaked Password Detection, however, it requires hashed passwords to be synchronised from on-premises AD DS to Microsoft Entra ID. Self Service Password Reset Organisation decision The Self-Service Password Reset feature requires activation of password writeback in the AAD Connect configuration. Microsoft Entra ID App and attribute filtering Configured All Microsoft Entra ID App and attribute filtering will be synchronised as recommended by Microsoft . Exchange Hybrid Configured Exchange will be used in a hybrid configuration with Exchange Online, therefore this setting is required to be set as Configured. Exchange Mail Public Folders Not Configured The organisation does not leverage Public folders currently, therefore this setting is not required. Directory extension attribute synchronisation Not Configured Not required for this solution. <p>AAD Connect configuration applicable to agencies leveraging a hybrid implementation.</p> Configuration Value Description Installation Mode Custom The type of installation \u2013 Default or Custom. The Default install does not allow customisation of the filtering. SQL Mode Local DB The location of the AAD Connect database. Local DB is the default configuration and the simplest to manage. Directory to Connect to {organisation}.com.au Microsoft Entra ID Tenant of the organisation. On-premises attribute to use for Microsoft Entra ID (used for logging in to Microsoft Entra ID) User ID This attribute is commonly used for logins as it will ensure that the same credentials are maintained for on-premises and in-cloud authentication. Alternate ID Not required This is required in scenarios where primary ID may be duplicated between users in the organisation. OU Filtering Enabled {TBA by the organisation} OU filtering will be used to ensure that specific OUs containing entities such as service accounts are not synchronised with Microsoft Entra ID. OU filtering will be finalised during deployment and documented in As-Built-As-Configured documentation. Uniquely Identifying Users Users are represented only once across all directories.Let Azure manage the source anchor (ms-DS-ConsistencyGuid) Default configuration. As users are not duplicated within the environment, this setting meets the solution requirements. The ms-DS-ConsistencyGuid is used when Azure manages the source anchor. Microsoft Entra ID Attributes Default \u2013 All attributes Default configuration. All attributes to be synchronised. Synchronisation Interval 30 minutes Default synchronisation interval.Note: Password resets and new accounts are synchronised immediately."},{"location":"blueprint/platform/#authentication-method","title":"Authentication method","text":"<p>Authentication is the process of verifying one's identity. Active Directory allows for the authentication of directory objects within the corporate network using a number of protocols such as LDAP and Kerberos.</p> <p>In a hybrid scenario, authentication support is required outside the corporate network. In a hybrid scenario, credential authentication support is required outside the corporate network. This can be achieved using either:</p> <ul> <li>Cloud authentication \u2013 Cloud authentication utilises credentials stored within the cloud to authenticate users. The credentials can belong to cloud only accounts.</li> <li>Password hash synchronisation (PHS) \u2013 PHS synchronises a hash of the hash of a user's on-premises password which has undergone a salting process before it is sent to Microsoft Entra ID. If the user's hashed password matches the stored password, the user is then authenticated. This means the authentication method will be handled in the cloud.</li> <li>Pass-through authentication (PTA) \u2013 This feature allows users to login to Azure services including Office 365 using their on-premises credentials. When authenticating, the user enters their credentials into an Azure authentication service. The service encrypts the credentials and place the request in a queue. The on-premises PTA agents read the queue and perform the decryption and validation against Active Directory. The outcome of the validation is sent via the PTA agent to the Azure authentication service to complete the user's authentication request. Through the process no credentials are stored within Microsoft Entra ID.</li> <li>Federation integration (AD FS) \u2013 Active Directory Federation Services (AD FS) allows users to login to Office 365 services using the organisations existing federation infrastructure. A federation trust is established between the corporate network and Microsoft Entra ID with the authentication method being handled on-premises.</li> </ul> <p>The following illustrates the pass-through authentication method and how it communicates across the network.</p> <p></p> <p>The following table describes the ports and protocols used in a hybrid configuration between on the PTA Agent and Microsoft Entra ID. The hardware requirements for PTA agents are available in Appendix 1: AAD Connect and PTA agent hardware requirements.</p> Protocol Port Description HTTP 80 (TCP/UDP) Enable outbound HTTP traffic for security validation such as SSL. Also needed for the connector auto-update capability to function properly. <p>Authentication Method design considerations and decisions apply to the HYBRID solution.</p> Decision Point Design Decision Justification Authentication method PTA To ensure passwords are controlled by on-premises Active Directory and are not synchronised and stored in the cloud. Number of PTA agents 3 To ensure high availability 3 PTA agents will service authentication requests. The AAD Connect server and Staging server will form two of the agents. HTTPS 443 (TCP/UDP) Enable outbound HTTPS traffic for operations such as enabling and disabling of the feature, registering connectors, downloading connector updates, and handling all user sign-in requests."},{"location":"blueprint/platform/#security","title":"Security","text":"<p>Information Technology (IT) Security refers to protection of networks, servers, intranets, data systems, data and computer systems. To protect these items, Microsoft Azure contains several security features and products which together:</p> <ul> <li>Secure the Platform \u2013 Microsoft Azure and Office 365, through their features and products to enable security in depth.</li> <li>Provide Risk Assessments \u2013 Identity Protection, Defender for Identity, and Microsoft Defender for Endpoint utilise analytics and machine learning to detect and flag unusual/risky behaviour.</li> <li>Provide Visibility into User Behaviour \u2013 Defender for Cloud Apps provides security operations dashboards which provide visibility into the activities being undertaken within the environment.</li> <li>Control Data Exfiltration \u2013Data Loss Prevention policies and Defender for Cloud Apps session policies control the flow and protection of information inside and outside of the environment.</li> </ul>"},{"location":"blueprint/platform/#microsoft-defender-for-cloud-app","title":"Microsoft Defender for Cloud App","text":"<p>Microsoft Defender for Cloud App - formerly Microsoft Cloud App Security (MCAS) -  is part of Microsoft's Enterprise Mobility + Security (EM+S) suite of capabilities, providing cloud access security broker (CASB) functionality to reduce the risk of leveraging cloud services, including those offered by Microsoft and third-party providers such as Google, Amazon and Dropbox. To manage the risks presented using cloud services, Microsoft has defined a cloud app security framework which Defender for Cloud Apps implements:</p> <ul> <li>Discover and control the use of Shadow IT \u2013 Shadow IT includes cloud services that are in use by users but not assessed and approved by security, including Software-as-a-Service (SaaS), Platform-as-a-Service (PaaS), and Infrastructure-as-a-Service (IaaS) offerings. To protect users and their data these services must be identified so that their risk can be determined, and management controls can be implemented. Defender for Cloud Apps enables administrators to assess an extensive library of apps against a wide range of risks.</li> <li>Protect your sensitive information anywhere in the cloud \u2013 Once data is uploaded to a cloud service it is harder to control and manage compared to traditional on-premises storage. Defender for Cloud Apps enables controls to be applied to data regardless of where it is stored leveraging automated processes and inbuilt policies to both classify and protect information.</li> <li>Protect against cyberthreats and anomalies \u2013 Due to the public nature of cloud apps they are exposed to potential malicious activity from external actors. Defender for Cloud Apps monitors both user behaviour and app activity to identity anomalies and perform automatic remediation to ensure the confidentiality of data stored in the cloud. This includes identifying indications that a user's account credentials have been compromised.</li> <li>Assess the compliance of your cloud apps \u2013 Performing security assessments of cloud apps and services is both complex and expensive. Defender for Cloud Apps provides an overview of the industry and regulatory standards that each identified cloud app has been assessed against to simplify the approval process.</li> </ul>"},{"location":"blueprint/platform/#product-architecture","title":"Product architecture","text":"<p>The architecture of Defender for Cloud Apps includes several integrated components to address each of the cloud app security framework requirements. The components include log collection and analysis capabilities to detect cloud apps, Application Programming Interface (API) connectors to interface with and control cloud app activity, and reserve proxy capability to enforce conditional access app control policies for authentication to cloud apps.</p> <p>An overview of these components and how they combine in Defender for Cloud Apps is illustrated below in Figure 5. Figure reproduced from Defender for Cloud Apps overview.</p> <p></p> <p>Further details including configuration of each of these components is presented later in this document.</p>"},{"location":"blueprint/platform/#data-location","title":"Data location","text":"<p>At the time of writing Defender for Cloud Apps is hosted from Azure data centres in the United States (US), United Kingdom (UK) and Europe. An Defender for Cloud Apps tenant account is automatically created in the closest 'Geo'. For Azure tenants located in Australia, Defender for Cloud Apps will use the US Geo.</p>"},{"location":"blueprint/platform/#data-retention","title":"Data retention","text":"<p>The data retention period for information stored within Defender for Cloud Apps varies depending on the specific type of data. The four data types and their respective periods are listed below:</p> <ul> <li>Activity log \u2013 180 days</li> <li>Discovery data \u2013 90 days</li> <li>Alerts \u2013 180 days</li> <li>Governance log \u2013 120 days.</li> </ul> <p>Note, all user activity and security alert information can be exported from Defender for Cloud Apps in Comma-Separated Values (CSV) format if longer data retention is required.</p>"},{"location":"blueprint/platform/#administration","title":"Administration","text":"<p>Defender for Cloud Apps leverages Microsoft Entra ID to provide RBAC for administration via the web portal. By default, only the Global Administrator and Security Administrator roles have full access to Defender for Cloud Apps. Other standard Microsoft Entra ID roles that have at least read-only access to the portal include Compliance Administrator, Compliance Data Administrator, Security Operator, Security Reader, and Global Reader. </p> <p>In addition to the standard Microsoft Entra ID roles, Defender for Cloud Apps also has its own service-specific roles that provide finer grained RBAC. If required, Global and Security Administrators can also grant access to specific users within the Defender for Cloud Apps portal.</p>"},{"location":"blueprint/platform/#cloud-discovery","title":"Cloud Discovery","text":"<p>The Defender for Cloud Apps Cloud Discovery design decisions can be found below. Defender for Cloud Apps Cloud Discovery components are made up of Log Collectors, Microsoft Defender for Endpoint Integration, Cloud Discovery Enrichment, User Data Anonymisation, Custom Apps and App Filters &amp; Queries.</p> <p>The cloud discovery component of Defender for Cloud Apps enables the detection of cloud apps by analysing logs that are uploaded to it.</p> <p>There are two types of cloud discovery reports that are generated by Defender for Cloud Apps, depending on the specific log source:</p> <ul> <li>Snapshot reports \u2013 generated by manually uploading a log export from a proxy or firewall device, provides on demand analysis at the time the log is uploaded.</li> <li>Continuous reports \u2013 leverage native first and third-party integrations to provide ongoing data ingest and analysis without the need for user interaction.</li> </ul> <p>Continuous reports can be generated a few ways such as configuring one or more of the following automated log upload capabilities:</p> <ul> <li>Log collector \u2013 centralisation of logs from one or more proxy or firewall devices to a Docker-powered collector using Syslog and/or File Transfer Protocol (FTP).</li> <li>Microsoft Defender for Endpoint integration \u2013 native integration with Defender for Endpoint logs directly from onboarded endpoint devices running, regardless of whether they connect to cloud services via a managed gateway or directly via the internet.</li> </ul> <p>Defender for Cloud Apps supports a wide range of popular proxy and firewall vendors and products for both snapshot and continuous reports (via log collectors). A custom parser can also be configured for unsupported devices allowing manual attribute mapping.</p> <p>Once a cloud app has been discovered and its usage reviewed it can be either Sanctioned (approved) or Unsanctioned (prohibited) via the Discovered Apps tab. By default, tagging a cloud app as unsanctioned does not block access directly but allows for the generation of a block script that can be downloaded from Defender for Cloud Apps and imported into a proxy or firewall appliance. If Defender for Cloud Apps is integrated with Defender for Endpoint, app access enforcement can be enabled to block access to apps marked as Unsanctioned.</p> <p>Cloud Discovery Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Cloud Discovery report type Continuous reports To provide continuous visibility while minimising management overhead. Log collector Will be deployed to collect logs from the organisation's existing proxy or firewalls and upload them to Defender for Cloud Apps. To provide automatic upload of logs. Microsoft Defender for Endpoint integration Enabled To provide additional visibility from organisation endpoints that have been onboarded into the Defender for Endpoint. Enforce app access Enabled To block access to apps marked as Unsanctioned. List of sanctioned and unsanctioned cloud apps To be developed during build with the organisation's Cyber Intelligence team. Provides visibility within the organisation as to what cloud applications are in use and by which department within the organisation."},{"location":"blueprint/platform/#automatic-log-upload-log-collectors","title":"Automatic log upload &amp; Log collectors","text":"<p>A log collector receives logs from supported firewall and proxy devices, providing processing and compression before uploading to Defender for Cloud Apps. The compression typically results in outbound traffic from the log collectors being 10% the size of received traffic. The steps to configure automatic log upload for continuous reports is available at Configure automatic log upload for continuous reports.</p> <p>A log collector can receive logs via FTP - including FTP over Transport Layer Security (TLS) - and Syslog.</p> <p>Log collectors are deployed as a Docker container using a Microsoft-provided Docker image for both Windows and Linux operating systems.</p> <p>The Docker container is supported on Windows 10 and Windows Server version 1709 and later, Ubuntu versions 14.04, 16.04 and 18.04, and Red Hat Enterprise Linux (RHEL) and CentOS 7.2 or later. The image can be deployed on VMs either hosted on-premises or within Azure, provided suitable network connectivity from the proxy/firewall devices is available.</p> <p>Log Collector Design Decisions for agencies that use a centralised internet gateway.</p> Decision Point Design Decision Justification Number of log collectors One An increase in the number of log collectors may be necessary if there is excessive traffic. Log collector deployment mode Docker container Maximise support life as virtual appliance has been deprecated. Log collector location Within the organisation Gateway zone Minimise number of firewall ports to be opened between the existing proxies and the log collector. Log collector operating system Organisation's discretion of supported operating system for Defender for Cloud Apps Log Collector. Defender for Cloud Apps supports Windows and Linux (Ubuntu, RHEL, CentOS) operating systems for the Log Collector."},{"location":"blueprint/platform/#app-tags","title":"App tags","text":"<p>Defender for Cloud Apps supports the creation and assignment of custom app tags from within the portal. Security analysts can create and apply custom tags to allow them to filter and query results specific to an area of interest. For example, a custom tag may be created for a business unit and that tag applied to only the applications that are approved for their use (i.e. Procurement). An analyst can then quickly filter based on this tag to review the use of these applications.</p> <p>App tags Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Custom tags Configured on demand Custom tags will be added to Cloud Discovery as they are identified by the organisation."},{"location":"blueprint/platform/#microsoft-defender-for-endpoint-integration","title":"Microsoft Defender for Endpoint integration","text":"<p>Defender for Endpoint integration enables cloud app and service traffic to be sent from supported Windows 10 devices (1709 or later) to Defender for Cloud Apps to provide additional data for continuous reporting.</p> <p>This capability is enabled from within the Endpoints &gt; Advanced Features settings within the Microsoft 365 Defender portal, as shown below in Figure 6. Figure reproduced from Microsoft Defender for Endpoint integration with Microsoft Cloud App Security .</p> <p></p> <p>Important Note: Microsoft Defender for Endpoint should be configured prior to enabling this feature. </p> <p>Microsoft Defender for Endpoint integration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Defender for Endpoint portal configuration Microsoft Cloud App Security enabled To enable Defender for Endpoint integration with Defender for Cloud Apps."},{"location":"blueprint/platform/#user-enrichment","title":"User enrichment","text":"<p>To further enrich cloud discovery data Defender for Cloud Apps can integrate with Microsoft Entra ID to replace users identified with Microsoft Entra ID usernames.</p> <p>This simplifies identification and investigation of user activity, as well as allowing correlation with API collected activities.</p> <p>Cloud Discovery Enrichment Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification User enrichment Enabled To identify users by Microsoft Entra ID username."},{"location":"blueprint/platform/#anonymization","title":"Anonymization","text":"<p>To protect the privacy of users Defender for Cloud Apps supports anonymisation of usernames when logs are uploaded. This is done by encrypting the usernames included in logs using Advanced Encryption Standard (AES) with a 128-bit key which is unique to each tenant.</p> <p>Security analysts can resolve encrypted usernames on demand to assist in investigations, and each username conversion is recorded in the Governance log. In addition to usernames, Defender for Cloud Apps can also anonymise Windows 10 machine names.</p> <p>User Data Anonymization Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Username anonymisation Not enabled Reduced investigation effort by not requiring security analysts to decrypt usernames on demand. If the organisation identifies a requirement this can be enabled. Machine name anonymisation Not enabled Reduced investigation effort by not requiring security analysts to decrypt machine names on demand. If the organisation identifies a requirement this can be enabled."},{"location":"blueprint/platform/#custom-apps","title":"Custom apps","text":"<p>In addition to the extensive library of cloud apps that are natively available in Cloud Discovery, custom cloud apps \u2013 for example internally developed Line of Business (LOB) applications \u2013 can be added to provide visibility in their use.</p> <p>This allows Cloud Discovery to identify these custom cloud apps from uploaded firewall and proxy logs and enables security analysts to filter on them specifically.</p> <p>Custom Apps Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Custom Apps Configured on demand Custom apps will be added to Cloud Discovery as they are identified by the organisation."},{"location":"blueprint/platform/#app-connectors","title":"App connectors","text":"<p>App connectors enable Defender for Cloud Apps to see and reach inside connected cloud apps, providing both visibility into, and control of, the information stored by them. App connectors use APIs provided by the cloud app vendors, with capabilities varying between third-party cloud app vendors.</p> <p>To support multiple instances of a single cloud app, for example different teams owning and managing their own subscriptions, Defender for Cloud Apps supports connecting multiple instances of the same cloud app. However, multi-instance support is only provided for API connected apps and is not available for cloud discovered and proxy connected apps. Additionally, multi-instance support is not available for Azure and Office 365.</p> <p>At the time of writing, the following API app connectors are available in Defender for Cloud Apps:</p> <ul> <li>Amazon Web Services (AWS)</li> <li>Azure</li> <li>Box</li> <li>Dropbox</li> <li>GitHub</li> <li>Google Cloud Platform (GCP)</li> <li>Google Workspace</li> <li>Office 365</li> <li>Okta</li> <li>OneLogin</li> <li>Service Now</li> <li>Salesforce</li> <li>Slack</li> <li>Smartsheet</li> <li>WebEx</li> <li>Workday</li> <li>ZenDesk (Preview)</li> </ul> <p>To connect to each cloud app via API Defender for Cloud Apps requires an account within that app that has administrative privileges with full access to all objects stored within it. The name of this specific privilege level is specific to each cloud app, e.g. Global Admin for Office 365 and Super Admin for G Suite. It is recommended that a dedicated account is used for integration with Defender for Cloud Apps for each connected app.</p> <p>App Connectors Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Use of app connectors Preferred for all supported cloud apps. Provides the greatest available level of visibility and connect of the connected apps. API administrator accounts Dedicated account for Defender for Cloud Apps for each connected app that requires one. Microsoft best practice to manage connected apps. List of connected apps AzureOffice 365 All approved cloud apps that are supported will be connected to Defender for Cloud Apps via API. Office 365 Connector Configuration Selected Components:Microsoft Entra ID Users and GroupsMicrosoft Entra ID Management eventsMicrosoft Entra ID Sign-in eventsMicrosoft Entra ID AppsOffice 365 activitiesOffice 365 files All components of Office 365 on which Cloud App Security can obtain information. <p>Note, the Azure connector does not have any configurable settings.</p>"},{"location":"blueprint/platform/#policies","title":"Policies","text":"<p>Defender for Cloud Apps supports a range of policy types to address the various risks associated with leveraging cloud apps, ranging from the detection of new and therefore unsanctioned cloud apps to identifying anomalous user activities that are outside the pattern of normal behaviour.</p> <p>Up to seven policy types are available in Defender for Cloud Apps depending on the data sources that have been enabled. These include:</p> <ul> <li>Access policies \u2013 providing real-time monitoring and control of user logins to identified cloud apps.</li> <li>Activity policies \u2013 leveraging integration with each cloud app's API, provides monitoring and control of activities within those applications (specific activities dependent on each vendor's API capabilities).</li> <li>Anomaly detection policy \u2013 detecting anomalous activities within connected cloud apps based on specific risk factors compared with a pre-determined baseline.</li> <li>App discovery policy \u2013 detecting new (unsanctioned) cloud apps and provides associated alerts.</li> <li>Cloud Discovery anomaly detection policy \u2013 reviewing the logs provided to Cloud Discovery specifically (as previously described) to detect anomalous behaviour.</li> <li>File policy \u2013 enabling scanning of connected cloud apps to detect and apply restrictions to specific sensitive files and content.</li> <li>Session policy \u2013 providing real-time monitoring and control of user activities within authenticated sessions to identified cloud apps.</li> </ul> <p>Note, Access and Sessions policies are covered in additional detail in the Conditional Access App Control section later in this document.</p> <p>In addition to the policy types listed above, Defender for Cloud Apps provides pre-configured policy templates that can be used to streamline policy development and enforcement. Custom policies can also be created by specifying a trigger.</p> <p>Policies Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Use of policies Enable all in-built policies.Agencies should also consider developing custom policies to match their specific use-cases. Provides visibility within the organisation of suspicious behaviour and application use."},{"location":"blueprint/platform/#threat-protection","title":"Threat Protection","text":"<p>The Defender for Cloud Apps Threat Protection design decisions can be found below. Threat Protection components include Microsoft Defender for Identity.</p>"},{"location":"blueprint/platform/#microsoft-defender-for-identity-integration","title":"Microsoft Defender for Identity integration","text":"<p>Microsoft Defender for Identity provides User Entity Behavioural Analytics (UEBA) by monitoring authentication requests to on-premises Active Directory (AD) Domain Controllers (DCs).</p> <p>Integrating Defender for Identity with Defender for Cloud Apps extends this capability to hybrid environments and presents all Defender for Identity Suspicious Activity (SA) alerts to the Defender for Cloud Apps dashboard, reducing the need for security analysts to monitor multiple consoles. To connect Defender for Identity to Defender for Cloud Apps the user enabling the setting must be a Microsoft Entra ID Global Admin. Integration is enabled in the Defender for Cloud Apps console and does not require configuration from the Defender for Identity console.</p> <p>Defender for Identity integration Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Defender for Identity integration Enabled To enable integration between security tools deployed within the organisation's environment."},{"location":"blueprint/platform/#identity-protection-integration","title":"Identity Protection integration","text":"<p>Identity Protection enables configuration of automated responses to suspicious activities and actions related to user identities.</p> <p>Integrating Identity Protection with Defender for Cloud Apps provides a uniformed alerts view within Defender for Cloud Apps, and enables an enhanced investigation experience for identity alerts.</p> <p>Identity Protection integration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Identity Protection integration Enabled To enable integration between security tools deployed within the organisation's environment."},{"location":"blueprint/platform/#app-governance","title":"App Governance","text":"<p>App Governance is an add-on capability for Defender for Cloud Apps that provides a security and policy management capability for OAuth-enabled apps that access Microsoft 365 data via Microsoft's Graph APIs.</p> <p>At the time of writing App Governance is in Public Preview.</p> <p>App Governance Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification App Governance Not configured The blueprint does not include an third-party OAuth-enabled apps that access Microsoft 365 data."},{"location":"blueprint/platform/#information-protection","title":"Information Protection","text":"<p>The Defender for Cloud Apps Information Protection design decisions can be found below. Information Protection components include Admin Quarantine, Microsoft Information Protection, Azure Security and Files.</p>"},{"location":"blueprint/platform/#admin-quarantine","title":"Admin Quarantine","text":"<p>The admin quarantine is used to store files for administrative review that have been matched against an Defender for Cloud Apps file policy. Examples include identifying and removing files from cloud apps that include sensitive content, such as financial and Personally Identifiable Information (PII) that should only be stored on-premises and not shared to external collaborators. </p> <p>Note, files that are detected as malware and are stored in either SharePoint Online or OneDrive for Business are not quarantined by Defender for Cloud Apps.</p> <p>Before a file policy can be configured to use the admin quarantine a folder location for it must first be identified. Only a single admin quarantine folder location is configured for each Defender for Cloud Apps instance and is used by all file policies that leverage this capability. A user notification can also be configured to provide an explanation to users when they attempt to access a quarantined file.</p> <p>Admin quarantine Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Admin quarantine folder location Configured Folder location is organisation-specific and will be determined via an organisation's internal decision processes. User notification Default text \u2013 <code>This file was quarantined because it might conflict with your organisation's security and compliance policies. Contact your IT administrator for more information.</code> Notify user that file has been quarantined using default text. Organisation to determine whether default text meets IT security requirements."},{"location":"blueprint/platform/#microsoft-information-protection","title":"Microsoft Information Protection","text":"<p>Microsoft Information Protection (MIP) provides document and email classification labelling, and protections based on those labels, across hybrid environments. Defender for Cloud Apps can be configured to scan for MIP classification labels and content inspection warning when new files are detected in connected apps. Additionally, Defender for Cloud Apps can be configured to only scan labels and warning originating from its tenant, therefore ignoring labels from external tenants.</p> <p>To enable Defender for Cloud Apps to inspect the content of files that have been protected by MIP it must be granted that permission in Microsoft Entra ID. This is done via a guided activity initiated from the Defender for Cloud Apps portal.</p> <p>Microsoft Information Protection Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Automatically scan new files for MIP classification labels and content inspection warnings Enabled Defender for Cloud Apps is enabled to scan new files for MIP classifications as the blueprint will leverage Information Protection classification. Only scan files for MIP classification labels and content inspection warnings from this tenant Enabled Defender for Cloud Apps is enabled to scan files for MIP classification from the tenant as the blueprint will leverage Information Protection classification. Inspect protected files Enabled Defender for Cloud Apps is enabled to inspect protected files as the blueprint will leverage Information Protection classification."},{"location":"blueprint/platform/#files","title":"Files","text":"<p>As previously described, file policies can be used to manage documents stored in cloud apps. To enable this capability Defender for Cloud Apps must be allowed to monitor files stored in these apps.</p> <p>There are no design considerations.</p> <p>Defender for Cloud Apps Files Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification File monitoring Enabled Allow Defender for Cloud Apps to monitor files stored in connected cloud apps."},{"location":"blueprint/platform/#conditional-access-app-control-protection","title":"Conditional Access app control protection","text":"<p>The Conditional Access App Control Protection design decisions can be found below. Conditional Access App Control components include Default Behaviour, User Monitoring, Device Identification and App Onboarding/Maintenance.</p> <p>The Conditional Access App Control capability of Defender for Cloud Apps leverages Conditional Access to enforce actions (such as blocking accessing) based on specific conditions (such as device compliance) by using a reverse proxy architecture. Users' cloud app sessions, including authentication, are proxied by Defender for Cloud Apps instead of going directly to the app. Defender for Cloud Apps does this by replacing the app's Uniform Resource Locators (URLs) and cookies, therefore not requiring an agent to be installed on the endpoints.</p> <p>Examples of the Conditional Access App Control policies that can be configured to monitor and control user app access and sessions in real time are listed below:</p> <ul> <li>Prevent data exfiltration \u2013 block copy and cut clipboard actions, printing and downloading of sensitive information and documents.</li> <li>Protect on download \u2013 allows sensitive documents to be downloaded by leveraging MIP applies a classification label and protection to it.</li> <li>Prevent upload of unlabelled files \u2013 blocks documents from being uploaded until a user applies an MIP label to them based on the sensitivity of the information they contain.</li> <li>Monitor user sessions for compliance \u2013 identify risky users based on their behaviour during a session.</li> <li>Block access \u2013 based on specific risk factors can prevent users and/or devices from accessing specific resources across one or all connected apps.</li> <li>Block custom activities \u2013 application-specific events can be blocked if they increase the risk of data leakage or exfiltration.</li> </ul> <p>Conditional Access App Control Protection Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Access control policies Use of policies is organisation-specific and would need further development with internal cyber security team. Provides a greater security posture for the organisation applications. Session control policies Use of policies is organisation-specific and would need further development with internal cyber security team. Provides a greater security posture for users within the organisation."},{"location":"blueprint/platform/#default-behaviour","title":"Default behaviour","text":"<p>In the event of a system outage or downtime Defender for Cloud Apps can be configured with a Default Behaviour.</p> <p>This is a deployment wide setting which can be configured to either prevent users from accessing an app if normal policy cannot be enforced, or to provide unrestricted access if this occurs.</p> <p>Default Behaviour Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Default behaviour configuration Allow access To prevent interruption to business functions in the event of an outage or downtime."},{"location":"blueprint/platform/#user-monitoring","title":"User monitoring","text":"<p>When using Conditional Access App Control to manage access and sessions, Defender for Cloud Apps provides the option to notify users that their activities are being monitored.</p> <p>If user notifications are enabled administrators can either use a Microsoft-provided default message or provide their own, which will include their organisational logo (if it has been uploaded to Defender for Cloud Apps).</p> <p>User Monitoring Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification User monitoring notifications Not enabled There is no default requirement to notify users. Agencies can enable User Monitoring as appropriate to meet operational requirements without impacting the cyber security posture of the environment."},{"location":"blueprint/platform/#device-identification","title":"Device identification","text":"<p>Defender for Cloud Apps and Conditional Access App Control can be utilised to identify managed devices within the organisation.</p> <p>Defender for Cloud Apps and Conditional Access App Control support three methods to identified managed devices:</p> <ul> <li>Microsoft Intune (specifically devices that are identified as Compliant).</li> <li>Hybrid Microsoft Entra ID joined devices.</li> <li>The presence of client certificates that are part of a trusted chain.</li> </ul> <p>A combination of multiple of these methods can be configured if required to identify devices within a diverse environment. Devices that are present in Intune, as well as those that are registered to Microsoft Entra ID (hybrid joined), are automatically synchronised to Defender for Cloud Apps. To use client certificates to identify devices either a trusted root or intermediate certificate must be uploaded to Defender for Cloud Apps in Privacy-Enhanced Mail (PEM) format.</p> <p>Device Identification Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Use of client certificates for device identification Not configured No requirement to use client certificates has been identified as the organisation will leverage Intune for compliant and Hybrid Microsoft Entra ID devices."},{"location":"blueprint/platform/#app-onboardingmaintenance","title":"App onboarding/maintenance","text":"<p>Specific users can be identified that can enable currently unsupported cloud apps to be onboarded to Conditional Access App Control for development and testing purposes.</p> <p>These users can be identified by either email or User Principal Name (UPN) and must be configured within the Defender for Cloud Apps console. Once an app is onboarded by a specified user a feedback bar will be presented as part of the application to enable developers and testers to provide feedback directly back to Microsoft's Cloud App Security team.</p> <p>App Onboarding/Maintenance Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Included users To be developed during build with the organisation's Cyber Intelligence team. Organisation to determine if a requirement for users and non-supported apps exist within the environment."},{"location":"blueprint/platform/#security-extensions","title":"Security extensions","text":"<p>To integrate with other security solutions, for example Security Information and Event Management (SIEM) products, Defender for Cloud Apps supports a range of security extensions. These include:</p> <ul> <li>API tokens \u2013 to provide access to Defender for Cloud Apps Representational State Transfer (REST) API endpoints for read and update operations.</li> <li>SIEM agents \u2013 to centralise alerts and activities from Defender for Cloud Apps to a SIEM.</li> <li>External Data Loss Prevention (DLP) \u2013 to connect Defender for Cloud Apps to external DLP solutions.</li> <li>Playbooks \u2013 to leverage Microsoft Flow playbooks for automation.</li> </ul> <p>Each of these security extension capabilities is described in the following sections.</p>"},{"location":"blueprint/platform/#api-tokens","title":"API tokens","text":"<p>By creating API tokens within the Defender for Cloud Apps portal external applications can connect to the REST API endpoints and perform a range of read and update operations.</p> <p>A common use-case for this is to generate block scripts from a third-party network appliance, or to resolve alerts that have been investigated through a connected SIEM product.</p> <p>API token Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification API tokens Not configured An organisation can determine and identify whether use cases exist for the creation of API tokens in their specific environments however for a base implementation of the blueprint, API tokens are not required."},{"location":"blueprint/platform/#siem-agents","title":"SIEM agents","text":"<p>To enable Defender for Cloud Apps alerts and activities to be integrated into existing security analyst workflows that have been developed in SIEM products Defender for Cloud Apps provides SIEM agents.</p> <p>The Defender for Cloud Apps SIEM agent runs on a server \u2013 either on-premises or as IaaS \u2013 and acts as a forwarder between Defender for Cloud Apps and the SIEM. The SIEM agent makes an outgoing request to Defender for Cloud Apps over an encrypted Hypertext Transfer Protocol Secure (HTTPS) channel using port 443, leveraging the Defender for Cloud Apps RESTful APIs. Once the data has been downloaded it then forwards it to the SIEM as syslog messages on a configurable Transmission Control Protocol (TCP) or User Datagram Protocol (UDP) port.  </p> <p>Note, if both Defender for Identity and Defender for Cloud Apps are configured to send alerts to the same SIEM duplicate alerts will be received with different alert IDs. It is recommended to only send these alerts from one source.</p> <p>At the time of writing the SIEM agent only supports Micro Focus ArcSight and generic Common Event Format (CEF). Supported time formats include Request for Comment (RFC) 5424, 3164 and 3164 with year. The agent can be installed on either Windows or Linux operating systems and requires Java 8.</p> <p>In addition to the SIEM agent, Defender for Cloud Apps supports native integration with Microsoft Sentinel and the Microsoft Security Graph API. Microsoft Sentinel is Microsoft's cloud native SIEM offering, while the Security Graph API provides additional partner integration solutions, e.g. the Microsoft Graph Security API Add-On for Splunk.</p> <p>SIEM agents Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Microsoft Sentinel integration Configured To support integration between Defender for Cloud Apps and Microsoft cloud native SIEM solution. Microsoft Sentinel license Yes To enable Microsoft Sentinel integration a Microsoft Sentinel license is required. <p>SIEM agents Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Use of SIEM agent Yes To support integration between Defender for Cloud Apps and the organisation's existing SIEM solution. SIEM agent install location Organisation's discretion of supported operating system for Defender for Cloud Apps SIEM agents. Defender for Cloud Apps supports Windows and Linux operating systems for the SIEM agents. Microsoft Security Graph API integration Not configured Organisation to determine whether requirement exists based on existing SIEM solution."},{"location":"blueprint/platform/#external-data-loss-prevention-dlp","title":"External Data Loss Prevention (DLP)","text":"<p>In addition to integration with third-party SIEMs, Defender for Cloud Apps also supports integration with third-party DLP providers, enabling existing investments in on-premises solutions to be extended into the cloud.</p> <p>Integration between external DLP solution and Defender for Cloud Apps is performed via the Internet Content Adaptation Protocol (ICAP) protocol which is tunnelled over TLS. This allows Defender for Cloud Apps to use the external DLP engine to scan content identified in connected cloud apps for policy violations.</p> <p>External DLP Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification External DLP Not configured Not configured by default however an organisation can determine whether a DLP solution will be leveraged and if there is a requirement to be integrated with Defender for Cloud Apps."},{"location":"blueprint/platform/#playbooks","title":"Playbooks","text":"<p>Defender for Cloud Apps supports playbook-based automation by integrating with Microsoft Flow (also known as Power Automate).</p> <p>Specific Defender for Cloud Apps alerts can be configured as playbook triggers, automating pre-approved responses and minimising security analyst intervention. Playbooks are created in Microsoft Flow and made available to Defender for Cloud Apps via the Cloud App Security connector. The use of playbooks requires a Microsoft Flow plan.</p> <p>Playbooks Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Playbooks Not configured Not configured by default however an organisation can determine whether Playbooks will be leveraged to assist in automating pre-approved and consistent responses reducing analyst intervention. Use of Playbooks is subject to licensing."},{"location":"blueprint/platform/#microsoft-defender-for-identity","title":"Microsoft Defender for Identity","text":"<p>Microsoft Defender for Identity is an Azure-hosted security capability designed to monitor AD traffic and alert on suspicious authentication-related activities. Defender for Identity leverages Machine Learning (ML) to analyse user, device, and resource authentication behaviours to build a baseline, then alert security analysts when an authentication attempt occurs that is not consistent with the baseline. Traffic corresponding to known authentication-based attacked, such as Pass-the-Hash (PtH) and Pass-the-Ticket (PtT), is also recognised by Defender for Identity and specific alerts generated.</p> <p>The Defender for Identity architecture is composed of a Defender for Identity cloud service with the following components:</p> <ul> <li>Defender for Identity cloud service \u2013 Is hosted on Azure infrastructure and at time of writing Defender for Identity cloud service is deployed in the US, Europe, and Asia data centres.</li> <li>Defender for Identity portal \u2013 Management interface where the Defender for Identity instance can be created, displays data collected by Defender for Identity sensors and is the central console for monitoring, managing and investigating threats.</li> <li>Defender for Identity sensor \u2013 Sensors are installed on all domain controllers which monitor and collect domain controller traffic that is fed back to the Defender for Identity portal for analysis.</li> </ul> <p>A high-level illustration of Defender for Identity architecture is shown below in Figure 7. Figure reproduced from Microsoft Defender for Identity prerequisites</p> <p></p> <p>A single Defender for Identity instance can monitor multiple AD DS forests and their respective domains.</p> <p>Defender for Identity relies on Network Name Resolution (NNR) to correlate between raw activities (containing IP addresses) and the relevant devices involved in the activities to be able to generate security alerts for suspicious activities. To correlate IP addresses to device names, Defender for Identity sensors lookup the IP addresses using these methods:</p> <ul> <li>NTLM over RPC (TCP Port 135).</li> <li>NetBIOS (UDP port 137).</li> <li>RDP (TCP port 3389) \u2013 only the first packet of Client hello.</li> <li>Queries the DNS server using reverse DNS lookup of the IP address (UDP 53).</li> </ul> <p>Microsoft recommends using all the above methods, however if this is not possible the organisation should use the DNS lookup method and at least one of the other methods available at Network Name Resolution in Microsoft Defender for Identity.</p> <p>Defender for Identity Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Number of Defender for Identity instances One A single Defender for Identity instance can monitor multiple AD DS forests. Defender for Identity instance name {organisation-instance-name}.atp.azure.com The Defender for Identity cloud service will be given an Defender for Identity instance name which will be used to access the Defender for Identity portal. Forests and domains to be monitored by Defender for Identity {organisation}.com.au Nominated organisation forests and domains. Defender for Identity sensor deployment To all DC's within the identified forests and domains. Best practice to ensure all authentication traffic is monitored by Defender for Identity. Internet connectivity Domain controllers must have internet connectivity Domain controllers which will have Defender for Identity sensors installed, must have internet connectivity to the Defender for Identity Cloud Service. Defender for Identity sensors support the use of a web proxy / WPAD for internet connectivity. Directory service accounts A standard AD user account &amp; passwordA group Managed Service Account (gMSA) If the organisation environment consists of Windows Server 2008 R2 SP1 domain controllers a standard AD user account and password is required with read access to all objects in the monitored domains.If organisation environment consists of Windows Server 2012 or above domain controllers than a group Managed Service Account (gMSA) is required with read access to all objects in the monitored domain.If the organisation environment consists of a mixture of domain controller operating system versions, then a combination of group Managed Service Account (gMSA) and Standard user account is required. See Microsoft Defender for Identity prerequisites. Network Name Resolution (NNR) Reverse DNS lookup and one other method (listed above) This is the minimum NNR requirement for Defender for Identity. Microsoft recommends using all of the above-mentioned resolution methods available within organisation environment. Deleted Objects container permissions Read-only Microsoft recommends users should have read-only permissions assigned on the Deleted objects container to allow Defender for Identity to detect user deletions from the Agencies Active Directory."},{"location":"blueprint/platform/#role-groups","title":"Role groups","text":"<p>Defender for Identity provides security groups to allow the implementation of a RBAC model.</p> <p>Microsoft Entra ID provides the basis for the Defender for Identity role groups. When Defender for Identity is enabled for the first time it automatically creates the three security groups in Microsoft Entra ID, using the product's previous name - Azure ATP. The three Defender for Identity security groups are:</p> <ul> <li>Azure ATP {Instance Name} Administrators \u2013 Provides full administrative access to the specific Defender for Identity instance including all configuration settings.</li> <li>Azure ATP {Instance Name} Users \u2013 Able to modify configurations relating to suspicious activities (i.e. change status and add exclusions), alerts and scheduled reports, but not the configuration of Defender for Identity sensors or data sources.</li> <li>Azure ATP {Instance Name} Viewers \u2013 Access to log into the Defender for Identity console to view suspicious activities and download reports. Not able to modify the status of a suspicious activity or add any exclusions.</li> </ul> <p>Note, in addition to the role groups described above, any tenant Global and Security Admins can login to the Defender for Identity portal.</p> <p>Role group Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Members of the Azure ATP Administrators group Organisation decision Only specific users that require administrative access should be added to this group. Members of the Azure ATP Users group Organisation decision Include membership of the cyber security team that are responsible for the day-to-day use and management of Defender for Identity. Members of the Azure ATP Viewers group Organisation decision Include membership of the cyber security team to enable auditing of Defender for Identity."},{"location":"blueprint/platform/#notifications","title":"Notifications","text":"<p>In addition to creating alerts in the Defender for Identity console whenever a new suspicious activity or health issue is detected, Defender for Identity can also be configured to send email and syslog notifications. This enables security analysts to monitor existing mailboxes and leverage toolsets such as a Security Information and Event Management (SIEM) product rather than constantly having to login and view the Defender for Identity portal.</p> <p>Defender for Identity does not require a Simple Mail Transfer Protocol (SMTP) server to be configured to send email alerts. However, the syslog configuration of a SIEM is required to send alerts to it. The required settings include:</p> <ul> <li>Fully Qualified Domain Name (FQDN) / Internet Protocol (IP) address.</li> <li>Port that that SIEM is listening on for syslog alerts.</li> <li>Transport protocol, either Transport Control Protocol (TCP), User Datagram Protocol (UDP) or Transport Layer Security (TLS) / Secured Syslog.</li> <li>Request For Comments (RFC) 3164 or 5424 format.</li> </ul> <p>Notification Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Mail notifications Enabled for both suspicious activities and health alerts Notify relevant security teams when unwarranted and unauthorised activities occur. Syslog notifications Enabled for both suspicious activities and health alerts If the organisation has an existing SIEM solution enable the SIEM to gather all possible security-related events."},{"location":"blueprint/platform/#integration-with-defender-for-endpoint","title":"Integration with Defender for Endpoint","text":"<p>Defender for Identity supports native integration with Defender for Endpoint.</p> <p>The purpose of this is to combine Defender for Identity's monitoring of AD and DCs specifically, with Defender for Endpoint's monitoring of general endpoints, to provide a single interface that combines events and alerts from both.</p> <p>Integration with Defender for Endpoint Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Integration with Defender for Endpoint Enabled To integrate data feeds and alerts from both products."},{"location":"blueprint/platform/#firewall","title":"Firewall","text":"<p>As Defender for Identity is reliant upon the Defender for Identity portal and the Defender for Identity sensors, firewall ports are required to be opened to allow communication between infrastructure (Domain Controllers and standalone servers) and Defender for Identity. These port configurations are updated frequently and are available online from Microsoft (Configure endpoint proxy and Internet connectivity settings for your Microsoft Defender for Identity Sensor, Microsoft Defender for Identity prerequisites).</p> <p>It is important to note the traffic between the client and the Defender for Identity portal offering is TLS1.2 encrypted. Configuration will occur on the proxy, external gateway and local infrastructure servers of the organisation as required.</p> <p>Firewall rules and proxy allow lists will be implemented as part of the Defender for Identity solution.</p> <ul> <li>Defender for Identity service location \u2013 As mentioned previously, Defender for Identity data centres are deployed in the United States, Europe, and Asia. The organisation's Defender for Identity instance will be created in the data centre that is geographically closest to the organisation's Microsoft Entra ID service. This will assist in determining which service location to utilise for generating allow lists. For Microsoft Entra ID tenants located in Australia, Defender for Identity will be created in Asia.</li> <li>Maximal security and data privacy \u2013 Defender for Identity cloud services use certificate based mutual authentication for communication between Defender for Identity cloud backend and all Defender for Identity sensors. To make the authentication process seamless as possible if the organisation's environment utilises SSL inspection then the inspection should be configured for mutual authentication.</li> </ul> <p>Further details on the firewall configuration for the solution can be found in the Hybrid - Network Configuration ABAC.</p>"},{"location":"blueprint/platform/#integration-with-defender-for-cloud-apps","title":"Integration with Defender for Cloud Apps","text":"<p>Defender for Cloud Apps is a Cloud Access Security Broker that provide visibility, control over data travel and powerful analytics to identify and deal with cyberthreats. Integrating Defender for Identity with Defender for Cloud Apps extends this capability to hybrid environments and presents all Defender for Identity Suspicious Activity (SA) alerts to the Defender for Cloud Apps dashboard, reducing the need for security analysts to monitor multiple consoles.</p> <p>To connect Defender for Identity to Defender for Cloud Apps the administrator enabling the setting must be a Microsoft Entra ID Global Admin. Integration is enabled in the Defender for Cloud Apps console and does not require configuration from the Defender for Identity console. Defender for Cloud Apps allows Agencies to access the Defender for Identity data within a single monitoring and management portal reducing the number of monitoring consoles required, however the following needs to be considered:</p> <ul> <li>Alerts \u2013 Defender for Cloud Apps can display Defender for Identity alerts within the Alerts queue. Defender for Cloud Apps also provides additional alert filtering not available within Defender for Identity.</li> <li>Alerts management \u2013 Management of alerts can be performed in both Defender for Cloud Apps and Defender for Identity portals. Closing alerts in one portal will not necessarily close the same alert in the other portal. It is recommended to choose which portal will be used to manage and remediate alerts to avoid duplicate effort.</li> <li>SIEM notification \u2013 both Defender for Identity and Defender for Cloud Apps can be configured to send alert notification to a SIEM. In the event this is configured duplicate SIEM notifications for the same alerts will be visible within SIEM under different alert ID's. To avoid this situation, it is recommended to choose which portal will be used to perform alert management and then only this portal is to be configured to send alert notification to a SIEM.</li> <li>Activities \u2013 Defender for Cloud Apps displays Defender for Identity alerts also in the activity log. Defender for Cloud Apps provides additional activity filtering not available within Defender for Identity.</li> </ul> <p>Integration with Defender for Cloud Apps Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Integration with Defender for Cloud Apps Enabled To integrate data feeds and alerts from both products."},{"location":"blueprint/platform/#microsoft-defender-for-endpoint","title":"Microsoft Defender for Endpoint","text":"<p>Microsoft Defender for Endpoint (formally Defender Advanced Threat Protection) extends the standard Microsoft Defender capabilities to provide additional reporting, pre-breach protection, post-breach detection, automation, and response. Microsoft Defender for Endpoint does not require an agent on the endpoint or any on-premises infrastructure, instead it leverages Microsoft's cloud platform. A single dashboard allows administrators to monitor the compliance and security of all Defender-enabled devices, as well as providing ISO27001 certified Endpoint Detection and Response (EDR) functionality.</p> <p>Defender for Endpoint also provides the following capabilities:</p> <ul> <li>Threat and vulnerability management - discovery of vulnerabilities resulting from missing patches and misconfigurations.</li> <li>Attack surface reduction - enforcement of exploit mitigation techniques.</li> <li>Network protection - expanding on SmartScreen to block HTTP(S) with low reputation scores.</li> <li>Web protection - including web threat protection and content filtering using web categories.</li> </ul> <p>Microsoft Defender for Endpoint can be configured with the following options:</p> <ul> <li>Data Retention Period - Data Retention Period defines how long gathered telemetry data is stored and available for use in online reporting.</li> <li>Alert Notifications - Alert Notifications are configurable rulesets that allow a person or group of people to receive a notification on the occurrence of a pre-set event.</li> <li>Secure Score Baseline - Secure Score Baseline configures the product baselines for calculating the score of Microsoft Defender security controls on the secure score dashboard. If third-party solutions are in use the corresponding controls should be excluded from the calculations.</li> <li>Administration Roles and Machine Groups - Administration roles provide the ability to configure role-based access and granular options for regulating permissions to portal features and data. Machine groups enabled machines to be organised into groups and apply configured automated remediation levels and assigned administrators.</li> </ul> <p>Microsoft Defender for Endpoint Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Defender for Endpoint Configured To provide increased security and meet the requirements of this document. Sample Collection Enabled Required configuration to enableDeep Analysis on files when required. Data storage location US As of June 2019, the available Azure data centres to host Defender for Endpoint are located in the US, UK and Europe. All data used by Defender for Endpoint is protected at minimum by Advanced Encryption Standard (AES) 256-bit encryption, both at rest and inflight.  The US has been selected due to policy alignment under the Cloud Act. Data Retention Period 180 Days Default configuration and suitable for the organisation's requirements. Alert Notifications Send Information, Low, Medium, High to Security team. Alerts will be sent to organisation's Cyber Intelligence team for action. Microsoft Secure Score integration Enabled Forwards data from Defender for Endpoint to Secure Score to provide visibility into device security posture. Administration Roles Full Administrator:Admin_{organisation}-securityadmin Administrative roles will be segregated as per the ACSC's Restricting Administrative Privileges guidance. Machine Groups All Clients Machines will be segregated into groups with automated remediation levels assigned the administrators that monitor these groups. Groups will be developed with the organisation and documented in the As-Built-As-Configured documentation. Machine onboarding and Configuration Configured Onboarding and configuration will be performed by Intune. SIEM Integration Configured To meet the security logging requirements of this solution. Live Response Enabled To enable remote investigation of devices. Web Content Filtering Configured. Categories blocked:Legal LiabilityHigh Traffic SitesAdult Sites To block malicious and inappropriate traffic."},{"location":"blueprint/platform/#log-analytics","title":"Log Analytics","text":"<p>Log Analytics is a component of the Azure Monitor solution and also forms the storage location for the data analysed by Microsoft Sentinel. It is utilised for log ingestion and querying. Logs can be ingested into Log Analytics in several ways including via:</p> <ul> <li>Diagnostic Settings</li> <li>Sentinel Connectors</li> <li>HTTP Post.</li> </ul> <p>Log data stored in Log Analytics data can be consumed in various ways:</p> <ul> <li>Azure Portal -- Azure Portal allows you to create Log queries and analyse the results.</li> <li>Azure Monitor Alert rules -- An alert rule is a search that is automatically run at regular intervals. The results are inspected to determine if an alert in Azure Monitor should be generated.</li> <li>Azure Dashboards -- Dashboards can be used per Azure user to visualise data gathered from Log Analytics, these dashboards can be shared amongst Azure administrators.</li> <li>Export -- Data from Azure Monitor can be imported into Excel or Power BI for further visualisation.</li> <li>PowerShell -- PowerShell from a command line or using Azure Automation, can programmatically retrieve data for various use-cases.</li> <li>Azure Monitor Logs API -- The native API, uses REST to retrieve log data from the workspace.</li> <li>Microsoft Sentinel -- Microsoft Sentinel allows dashboarding, alerting, and analysis of the logs.</li> </ul> <p>Log Analytics is billed per gigabyte (GB) of data ingested and retained into the service. When ingesting into a SIEM, data retention periods can be shortened.</p> <p>Log Analytics Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Log Analytics Workspace Deployed The Log Analytics workspace will primarily be used to store log data for Microsoft Endpoint Manager managed workloads and Microsoft Entra ID sign in logs. Pricing mode Per GB Log Analytics pricing is based on data consumed. Incurs Subscription Cost? Yes Log Analytics pricing is based on data consumed. Data Volume could be reduced to 90 days if the organisation has an existing SIEM for further custom log analysis. <p>Log Analytics configuration for all agencies and implementation types.</p> Configuration Value Description Workspace Name organisation-log-workspace Log workspace name to be confirmed by the organisation. Azure Subscription Organisation subscription Configured by Office 365. Region Australia Central Closest location of Log Analytics to the organisation. Log retention Retention Period: 1 yearData Volume Cap: Off One year aligns with other data retention periods in this solution and meets the system requirements. Enabled Diagnostic Settings Microsoft Endpoint Manager, Microsoft Entra ID Ensures logs are ingested by log analytics. Log Analytics Contributor Group rol-organisation-log-admin Log Analytics Contributor group name to be confirmed by the organisation."},{"location":"blueprint/platform/#security-information-and-event-management","title":"Security Information and Event Management","text":"<p>SIEM is a combination of tools and services that provide insights into a network. The tools and services are classed as either Security Information Management (SIM) or Security Event Management (SEM). SIEM tools gather log files from devices for analysis and reporting. Through this process security threats and events can be identified. SIEM tools provide real-time analysis of log and event data to alert administrators to potential issues like security threats. When combined into a SIEM the organisation is provided with:</p> <ul> <li>Real-time visibility for the organisation's systems.</li> <li>Centralised event log management meaning data is consolidated from multiple sources across the network.</li> <li>Correlation of events gathered from different logs and security sources.</li> <li>Automated security event notification for administrators.</li> </ul> <p>In a hybrid environment the SIEM can be located either on-premises or in the cloud. In either location, all logs from the environment should be sent to one SIEM. This ensures maximum insight and creates a single pane of glass. To ensure that all logs from the cloud can be ingested by the SIEM compatibility of the SIEM product with Microsoft Office 365, Microsoft Azure, and Azure Monitor should be investigated.</p> <p>SIEM Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification SIEM Solution Not Configured SIEM Solution configuration is custom to each organisation based on its specific requirements. This blueprint does not specify a SIEM and as such does not offer configuration guidance, however Agencies should consider their operational requirements in this area. This blueprint provides guidance on Azure logs, Defender for Endpoint and Defender for Office 365 which audit most Azure, Defender, including M365 logs for up to ten years with Microsoft Purview Audit (Premium). Azure log ingestion Not Configured SIEM Solution configuration is custom to each organisation based on its specific requirements. This blueprint does not specify a SIEM and as such does not offer configuration guidance, however Agencies should consider their operational requirements in this area. This blueprint provides guidance on Azure logs, Defender for Endpoint and Defender for Office 365 which audit most Azure, Defender, including M365 logs for up to ten years with Microsoft Purview Audit (Premium). These technologies are also configured to send alert emails to Global Administrators and selected Office 365 administrators. Office 365 log ingestion Not Configured SIEM Solution configuration is custom to each organisation based on its specific requirements. This blueprint does not specify a SIEM and as such does not offer configuration guidance, however Agencies should consider their operational requirements in this area. This blueprint provides guidance on Azure logs, Defender for Endpoint and Defender for Office 365 which audit most Azure, Defender, including M365 logs for up to ten years with Microsoft Purview Audit (Premium). These technologies are also configured to send alert emails to Global Administrators and selected Office 365 administrators."},{"location":"blueprint/platform/#microsoft-entra-id-tenant-restrictions","title":"Microsoft Entra ID tenant restrictions","text":"<p>Office 365 and other enterprise SaaS applications that use Microsoft Entra ID as their identity provider all share URLs with common domain names like <code>outlook.office.com</code> and <code>login.microsoftonline.com</code>. Blocking these internet addresses to prevent users from accessing other third-party Office 365 tenancies and services would also prevent users from accessing the organisation's own Office 365 tenancy. With Microsoft Entra ID tenant restrictions, agencies with a supported web filtering (proxy) system can specify the list of approved Microsoft Entra ID tenants that their users are permitted to access (e.g. GovTeams). Microsoft Entra ID then only grants access to these permitted tenants.</p> <p>Microsoft Entra ID tenant restrictions prerequisites are as follows:</p> <ul> <li>The organisation's web filtering service supports TLS interception, HTTP header insertion, URL and FQDN filtering.</li> <li>Endpoints must trust the web filtering services PKI certificate chain for TLS communications.  </li> </ul> <p>For more detail on Microsoft Entra ID tenant restrictions, see use tenant restrictions to manage access to SaaS apps.</p> <p>Tenant restrictions Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Tenant restrictions Configured Agencies that have implemented an enterprise Web filtering solution that is capable of this feature (using TLS inspection and HTTP header insertion) should implement tenant restrictions for PROTECTED to prevent data exfiltration."},{"location":"blueprint/platform/#client-configuration","title":"Client configuration","text":""},{"location":"blueprint/platform/#microsoft-endpoint-manager-intune","title":"Microsoft Endpoint Manager - Intune","text":"<p>Microsoft Endpoint Manager - Intune (Intune) is a Microsoft 365 service that provides Mobile Device Management (MDM) and Mobile Application Management (MAM) capabilities for Apple iOS, Google Android and Microsoft Windows devices to enhance security and protection.</p> <p>Intune manages which devices can access corporate data, protects company information by controlling the way data is shared, and enforces device configuration to ensure security requirements are met. It does this via:</p> <ul> <li>Device Enrolment Profiles \u2013 Prior to managing devices in Intune they must be enrolled as either Personal or Corporate devices. These can either be self-enrolled or automatically enrolled.</li> <li>Device Compliance Policies \u2013 Device Compliance Policies are rules, such as device PIN length or encryption requirements, that can be applied to devices. These rules must be met before a device is considered compliant. Device Compliance can then be used by services such as Conditional Access.</li> <li>Device Configuration Profiles - Device Configuration Profiles provide the ability to control settings and features on supported endpoints. These include, device and user settings, browser settings and hardware settings. Device Configuration Profiles can be deployed to specific users or devices in Microsoft Entra ID groups.</li> <li>Device Security Baselines \u2013 Security baselines are pre-configured groups of Windows settings that are recommended by Microsoft security teams. The security baselines are templates and are used to create a profile that is specific to the environment for deployment.</li> <li>Client Applications \u2013 Client applications can be delivered to devices registered in Intune based on device type and group membership. Application types that can be distributed include store apps, MS Office suite, MS Edge browser, web links, line of business and Win32 applications. Monitoring of application distribution is provided.</li> <li>Software Updates \u2013 Software update policies store the configuration of updates without the updates themselves. This prevents the need to approve individual updates allowing for a faster turnaround time. Individual policies can be created and targeted to different groups of devices.</li> </ul> <p>When devices are enrolled into Intune, authorised administrators are able to view hardware details, how the device is used, and what compliance levels currently are for the device's software, hardware, and operating system.</p> <p>Additionally, Intune can present a customised Company Portal to end users which can be used to install and launch applications or websites via single sign-on (SSO) authentication.</p> <p>Intune is a component of EMS and integrates with other EMS components such as Microsoft Entra ID and Microsoft Information Protection (MIP) natively. This allows for total granular visibility of all endpoints within the Enterprise Mobility Management sphere and simplifies the approach for management.</p> <p>To complement this visibility, an Intune Data Warehouse can be deployed to capture and create custom reports from Intune data using a reporting service. This can assist in gaining insight into which users are using Intune, what licences are being used, operating system and device breakdowns, and compliance trends. The Data Warehouse also has the capability to export directly to Power BI and create interactive &amp; dynamic reports.</p> <p>Intune can also configure Windows Information Protection (WIP) policies. WIP can be deployed to:</p> <ul> <li>Protect against potential data leakage \u2013 WIP protects against potential data leakage without any impact to user functionality.</li> <li>Protect enterprise applications and data - WIP protects against accidental data leakage on enterprise-owned and personal devices. This can occur without changes to the corporate environment or applications.</li> </ul> <p>Within WIP, Network boundaries are created as a network perimeter that controls what applications can be accessed on the network.</p> <p>Note: In July 2022 Microsoft announced deprecation of certain capabilities within Windows Information Protection (WIP). Please see the news article here</p> <p>Clients managed by Intune are configured to refresh their status on an 8-hour interval. During this refresh. their policy compliance, configuration profile, and app assignments are checked. If the client is recently enrolled then the compliance, non-compliance, and configuration check-in runs more frequently.</p> <p>Intune Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Co-management Disabled Co-Management is disabled as this is not a function that is used in a cloud only solution. Enrolled Device Types Windows 10: 21H2 / 10.0.19044.100 (minimum)iOS: 14.7 (minimum)The following platforms will be prevented from enrolling:macOSAndroid As per the Client Devices design. Device Compliance Enabled Device Compliance is enabled. All devices will be Intune enrolled and have a custom set of compliance policies applied. Device Enrolment Enabled All users must be enrolled to ensure device compliance. Company Portal Enabled The Company Portal is enabled for application deployment. Applications to be deployed will be set by requirements. Conditional Access Enabled Conditional Access is enabled. It will leverage device &amp; user compliance to allow or disallow access to the corporate environment. Mobile Device Management (MDM) Enabled MDM will be used to control what a user can and cannot do on their mobile device defined by policies set by administrators. Mobile Application Management (MAM) Enabled MAM will be used to ensure that users have access to the apps they need to do their work. Windows Information Protection mode Configured Default settings prevent copying and pasting of data between 'work' locations and other 'personal' locations. Network Boundaries Cloud resources Network boundaries create a list of resources that are considered to be on the enterprise network. These boundaries are used to apply policies that reside in these locations. Cloud Resources Protected via Network Boundaries SharePointOffice 365 Different policies will be created depending on the network location of the client. Intune Data Warehouse Not enabled While this feature is available, it will not be deployed for the solution. Self Service Group Management Owners can manage group membership requests in the Access Panel No Group creation and modification is to be locked down and controlled by authorised personnel, such as service desk staff, or Administrators. Restrict access to Groups in the Access Panel No Accessing groups is an Administrative function and has been locked down to Administrators. Security Groups Users can create security groups in Azure portals No Group creation and modification is to be locked down and controlled by authorised personnel, such as service desk staff, or Administrators. Microsoft 365 groups Users can create Microsoft 365 groups in the Azure portals No Group creation and modification is to be locked down and controlled by authorised personnel, such as service desk staff, or Administrators. Directory-wide Groups Enable an \"All Users\" group in the directory No This group is not required. All users to be a member of a controlled group."},{"location":"blueprint/platform/#intune-mobile-application-management","title":"Intune - Mobile application management","text":"<p>Mobile Application Management (MAM) allows the management and protection of an organisation's data within an application. It controls data flows into and out of the application container which houses corporate data.</p> <p>Using MAM, a corporate app that contains sensitive data can be managed on a wide variety of devices. Many productivity apps, such as the Microsoft Office apps, can be managed by Intune MAM. MAM can protect data within the application container using authentication methods and copy/paste controls, but these controls must be balanced with any MDM controls of the device to maintain usability of the solution.</p> <p>When deploying a hybrid solution, the management of Windows devices should be considered when choosing to implement MAM for clients. Management solutions such as Group Policy and MECM can provide functionality to control applications which negates the use of MAM on Windows machines.</p> <p>Mobile Application Management Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Mobile Application Management Method Windows 10 \u2013 IntuneiOS - Intune Mobile applications (Windows 10 and iOS) will be deployed via Intune. Applications Managed Microsoft Information ProtectionMicrosoft Corporate PortalAdobe ReaderMicrosoft Suite - OutlookWordExcelTeamsPowerPointOneNoteOneDrive These core Microsoft business applications will be managed via Intune as they will be deployed to all Windows 10 and iOS users. <p>Mobile Application Management Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Mobile Application Management Method Windows 10 \u2013 Not ConfigurediOS - Intune Agencies operating in hybrid environments can elect to have Windows 10 applications managed by an existing management solution such as MECM and Group Policy, or to manage Windows 10 applications via Intune. This blueprint offers an example of using MECM as the Windows10 Management tool for illustrative purposes however agencies can elect to have Intune as the primary MAM method for both platforms without affecting cyber security postures.Mobile applications (iOS) will be deployed via Intune. Applications Managed Microsoft Information ProtectionMicrosoft Corporate PortalAdobe ReaderMicrosoft Suite - OutlookWordExcelTeamsPowerPointOneNoteOneDrive Agencies operating in hybrid environments can elect to have Windows 10 applications managed by an existing management solution such as MECM and Group Policy, or to manage Windows 10 applications via Intune. This blueprint offers an example of using MECM as the Windows10 Management tool for illustrative purposes however agencies can elect to have Intune as the primary MAM method for both platforms without affecting cyber security postures.Mobile applications (iOS) will be deployed via Intune."},{"location":"blueprint/platform/#intune-enrolment","title":"Intune - Enrolment","text":"<p>Device enrolment registers the Windows 10, Wiindows 11 and iOS devices into the corporate device management solution and ensures the device is then able to be managed by administrators.</p> <p>Microsoft Intune provides a mechanism for enrolling devices into Microsoft Entra ID. Once registered the device is populated into Intune policy groups using dynamic membership. This ensures that the device meets the compliance policy, monitored, and secured to the organisation's security requirements. </p> <p>Microsoft Intune provides three separate experience in enrolling the iOS devices into the organisation's Azure Active directory. The enrolment experiences are:</p> <ul> <li>Device Enrolment Program (DEP) \u2013 Device Enrolment Program is a managed device enrolment process. The devices serial number is registered with Apple Business Manager allows Intune to bypass Assisted Setup by preconfigure device settings. The user's account will be assigned to the device. The device will be marked as a Supervised device.</li> <li>Device Enrolment Manager (DEM) \u2013 Device Enrolment Manager assigns a single Azure Active Directory account as the owner of the device. The end users cannot administer or purchase any apps on the device.</li> <li>User Enrolment \u2013 User enrolment process requires users set up the iOS device and manually install Company Portal to register the device as Intune enrolled device. The device will be marked as a BYOD device.</li> </ul> <p>Intune Enrolment Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Windows Enrolment Configured Windows 10 devices must be enrolled in Intune prior to management of the device. iOS Enrolment Configured iOS devices must be enrolled in Intune prior to management of the device."},{"location":"blueprint/platform/#intune-co-management","title":"Intune - Co-management","text":"<p>Co-management provides the ability to manage devices via MECM and Intune. </p> <p>For a deployment to be enabled for co-management, devices must be Microsoft Entra ID joined, be enrolled in Intune and have the MECM client installed.</p> <p>Once co-management is enabled, management tasks such as compliance policies, Windows Update policies, resource access policies, and endpoint protection, can be moved from MECM management over to Intune as required.</p> <p>Microsoft cloud-hosted services offer the benefit of maintaining cadence with the latest technology updates from Microsoft with reduced effort required by IT BAU teams. Microsoft Intune and Microsoft's co-management strategy is constantly evolving with additional services published regularly.</p> <p>Intune deploys and manages first-party Microsoft applications in a simple manner but does not allow for a large amount of customisation of update schedule, granular application deployment or application add-ons. Intune does not provide the ability to deploy and update third-party applications in a simple manner at time of writing.</p> <p>Intune also provides a patching mechanism which simplifies the deployment of Microsoft first-party updates for applications and Windows 10 but does not allow granular control over patches.</p> <p>The following figure provides an overview of co-management. Figure reproduced from What is co-management?</p> <p></p> <p>Intune Co-Management design considerations and decisions apply to the HYBRID solution.</p> Decision Point Design Decision Justification Co-management Enabled The Microsoft co-management approach will enable organisation to strategically move device management from on-premises to the cloud in a staged manner. Compliance policies controlled by Intune preferred Compliance and remediation policies to controlled via Intune. Staged migration to be completed from MECM if previously in use. Device Configuration policies controlled by Intune preferred Device configuration policies to be controlled via Intune. Staged migration to be completed from MECM if previously in use. Endpoint Protection policies controlled by Intune preferred Endpoint protection, including the Windows Defender products and features are controlled via Intune policies. Staged migration to be completed from MECM if previously in use. Resource Access policies controlled by Intune preferred Resources in this instance refers to VPN profiles, Wi-Fi profiles, certificate profiles, etc. are controlled via Intune policies. Staged migration to be completed from MECM if previously in use. Office Click-to-Run policies controlled by Intune preferred Office Click-to-Run application deployment and updates to be managed through Intune. Staged migration to be completed from MECM if previously in use. Windows Update policies controlled by Intune preferred Windows 10 updates will be managed via Intune update rings. Staged migration to be completed from MECM if previously in use. MECM minimum version At least MECM update 1802 Compatible with co-management and determined by the organisation. Enrolled Device Types Windows 10: 21H2 / 10.0.19044.100 (minimum) As per the Client Devices design.Note: iOS is permitted but controlled by Intune only. Device Compliance Enabled Device Compliance is enabled. All devices will be Intune enrolled and have a custom set of compliance policies applied. User Enrolment Enabled All users must be enrolled to ensure device compliance. Company Portal Enabled The Company Portal is enabled for application deployment. Applications to be deployed will be set by organisation requirements. Conditional Access Enabled Conditional Access is enabled. It will leverage device &amp; user compliance to allow or disallow access to the corporate environment. Mobile Device Management (MDM) Enabled MECM will be the MDM authority for the solution, with Intune inspecting compliance. Mobile Application Management (MAM) Disabled Not required as Group Policy will configure application controls."},{"location":"blueprint/platform/#intune-windows-autopilot","title":"Intune - Windows AutoPilot","text":"<p>Windows Autopilot provides the ability to set up and pre-configure new devices without the need for on premises infrastructure. It is also possible to use Windows Autopilot to reset, repurpose and recover devices.</p> <p>Windows Autopilot provides the ability to:</p> <ul> <li>Automatically join devices \u2013 Microsoft Entra ID.</li> <li>Auto-enrol devices \u2013 Auto-enrol MDM services, such as Microsoft Intune.</li> <li>Restrict the Administrator \u2013 Restrict administrator account creation.</li> <li>Create and auto-assign devices \u2013 Auto assign to configuration groups based on a device's profile.</li> </ul> <p></p> <p>Intune Windows AutoPilot Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Automatically Join Devices Microsoft Entra ID Devices will automatically join the Azure Active Directory. Auto-enrol devices Configured Enrolled automatically into Intune MDM. Restrict the Local Administrator Account Configured Aligns with the ACSC Hardening guide for Windows 10. Create and auto-assign devices Configured For ease of management and enrolment for devices within organisation. Deployment profile Refer to DTA \u2013 Intune Enrolment -ABAC document Deployment profile will ensure that all workstations are configured in accordance with the organisation standards with no user intervention."},{"location":"blueprint/platform/#intune-device-compliance","title":"Intune - Device compliance","text":"<p>Device Compliance Policies are rules, such as device PIN length or encryption requirements, that are applied to devices. These policies must be met before a device is considered compliant, the device compliance status can then be used by services such as Conditional Access to grant or disallow access to applications or services.</p> <p>Microsoft Intune can control access to resources by interrogating endpoints and determining whether they meet a minimum list of features and are judged as \"compliant\". Compliance can be assigned a grace period where a device which is not judged as compliant can still access resources for a period or be blocked immediately.</p> <p>Each compliance policy can be edited to ensure that devices are tested before being allowed access to corporate resources.</p> <p>Device Compliance Profiles deployed ensure a strong security posture for the entire Windows 10 and iOS fleet. Compliance Policies allow the organisation to ensure that baselines are met prior to access being granted to any corporate applications or data. The Windows 10 compliance policy settings include:</p> <ul> <li>Device Health \u2013 This includes BitLocker status and whether code integrity is enabled.</li> <li>Device Properties \u2013 Including a minimum and maximum Operating System version.</li> <li>Configuration Manager Compliance \u2013 Whether the endpoint is compliance will all Configuration Manager evaluations. This is especially applicable in a co-managed scenario such as this deployment.</li> <li>System Security \u2013 Password compliance, standards, length, and complexity. This also includes device level firewall, TPM, Antivirus, Antispyware, and Microsoft Defender Antimalware settings.</li> <li>Microsoft Defender for Endpoint \u2013 Configures the maximum allowed machine risk score, if exceeded the device is marked as noncompliant.</li> </ul> <p>Device Compliance Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Compliance Assessment Configured Since mobile devices routinely leave the office environment, and the protection it affords, it is important that organisations develop a mobile device usage policy governing their use."},{"location":"blueprint/platform/#intune-device-configuration","title":"Intune - Device configuration","text":"<p>Device Configuration Profiles provide the ability to control settings and features on supported endpoints. These include, device and user settings, browser settings, and hardware settings. Device Configuration Profiles can be deployed to specific users or devices by using Microsoft Entra ID groups.</p> <p>There are many supported platforms, each of which have several profile sub-types that they offer configuration for, at the time of writing, the following platforms are supported:</p> <ul> <li>Android device administrator</li> <li>Android Enterprise</li> <li>iOS/iPadOS</li> <li>macOS</li> <li>Windows Phone 8.1</li> <li>Windows 8.1 and later</li> <li>Windows 10 and later</li> </ul> <p>Within each platform there are number of profile types allowing many settings to be configured. The profile types and settings that are configurable vary depending on the platform.</p> <p>In general terms, configuration profiles either configure the device for use by the user or secure the device.</p> <p>Custom profiles can be created for a platform although this should be considered a last resort if the settings are not available in any other way.</p> <p>In a co-managed state, these settings may be superfluous to existing Group Policies and SOE settings.</p> <p>Device Configuration Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification iOS policies Configured Intune policies are applied easing management. Device security policies Configured by exception Security baselines as discussed below provide a better option when the settings are available. <p>Additional Device Configuration Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Windows 10 and later policies Configured Intune policies are applied easing management. <p>Additional Device Configuration Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Windows 10 and later polices Not Configured Management solution such as MECM and Group Policy are applied to manage settings."},{"location":"blueprint/platform/#intune-information-protection","title":"Intune - Information protection","text":"<p>Application protection policies are rules that ensure an organisation's data remains safe or contained in a managed application.</p> <p>An application protection policy can be a rule that is enforced when the user attempts to access or move \"corporate\" data, or a set of actions that are prohibited or monitored when the user is inside the app.</p> <p>Information Protection Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification MAM or MDM policies MDM will be used to apply application protection policies. MAM based policy is not able to manage non-enlightened line of business applications. (Non-Microsoft Office apps). Desktop Protected Apps All Microsoft Office desktop applications will be protected. Detailed settings are in the DTA \u2013 Platform \u2013 ABAC document. No additional desktop applications are included in this blueprint. Mobile Apps Default set will be protected on mobile devices. Detailed settings are in the DTA \u2013 Platform \u2013 ABAC document. Default set of mobile apps covers all of the apps in this blueprint. Network Boundary \u2013 Cloud Resources Default SharePoint URLs will be protected. Detailed settings are in the DTA \u2013 Platform \u2013 ABAC document. If additional URLs are identified these can also be added to the Cloud Resources scope. Network Boundary \u2013 Network Domain Production domain will be protected. Detailed settings are in the DTA \u2013 Platform \u2013 ABAC document. If additional network subnets are identified these can also be added to the Network Domain scope."},{"location":"blueprint/platform/#intune-software-updates","title":"Intune - Software updates","text":"<p>Windows Update for Business uses Intune to manage the installation of updates and features from Microsoft Windows Update servers. There is no requirement for on-premises servers or storage of update files.</p> <p>Intune stores the update policy assignments not the updates themselves. No requirement for on-premises infrastructure.</p> <p>There is no requirement or ability to selectively enable or disable a particular update.</p> <p>Fast and slow update rings can be configured and assigned to different groups or users or devices allow early adopters to provide a level of validation before all users are provided with updates.</p> <p>When deploying a hybrid solution, the software and patch updates of Windows devices should be considered. Other management solutions such as MECM and Windows Server Update Service (WSUS) may be servicing the Windows devices for the updates hence duplicating processes.</p> <p>Software Updates Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Servicing Channel General Availability Aligns with ACSC guidance for Operating System updates. Microsoft Product updates Allow Aligns with ACSC guidance for product updates. Windows Drivers Allow Aligns with ACSC guidance for driver updates. Quality Deferral period 0 days Aligns with general ACSC guidance for updates. Feature Deferral 0 days Aligns with general ACSC guidance for updates. Feature Update uninstall period 10 days Allows reversal for a short period of time in the event of breaking change updates."},{"location":"blueprint/platform/#intune-ios","title":"Intune - iOS","text":"<p>iOS devices will be enrolled with the Intune organisation Portal to gain secure access to organisation data.</p> <p>After devices are enrolled, they become managed. Agencies can assign policies and apps to the device through a mobile device management (MDM) provider, such as Intune.</p> <p>Intune iOS Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification iOS Enrolment Configured iOS is commonly deployed across the Commonwealth and can be hardened in line with the ACSC hardening guide for iOS devices. iOS Configuration Configurations will follow the ACSC hardening guide for iOS devices as much as possible using Intune. Refer to DTA \u2013 Intune Configuration - ABAC document. Aligns with the ACSC Security Configuration Guide Apple iOS 14."},{"location":"blueprint/platform/#registry-settings","title":"Registry settings","text":"<p>Registry settings are applied to the Windows registry to modify the underlying operating system. Registry settings are typically changed in a client operating system to configure the system or increase the security of system.</p> <p>There are several tools available to apply registry settings such as:</p> <ul> <li>Group Policy</li> <li>Intune</li> <li>Configuration Manager (MECM).</li> </ul> <p>The ACSC provides the Microsoft Windows and Office 365 hardening guides that defines group policy settings along with other recommendations to significantly reduce the attack surface available to malicious attacks.</p> <p>Registry settings Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Registry Setting Method Intune The organisation will use Intune to implement and modify user and computer registry settings to comply with ACSC Windows and Office 365 Pro Plus hardening guides. <p>Registry settings Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Registry Setting Method Group Policy Objects &amp; MECM The organisation may utilise management solutions such as Group Policy Objects and MECM to implement and modify user and computer registry settings to comply with ACSC Windows and Office 365 Pro Plus hardening guides."},{"location":"blueprint/platform/#applications","title":"Applications","text":"<p>The lifecycle of applications can be managed using Intune. Applications can be deployed, configured, protected and removed.</p> <p>Managed applications can be provisioned to the following platforms:</p> <ul> <li>Android</li> <li>iOS</li> <li>Windows Phone</li> <li>Windows 8.1</li> <li>Windows 10 and later.</li> </ul> <p>Applications types that can be managed include:</p> <ul> <li>Store Apps (Android, iOS, Windows Phone, Microsoft Store and Google Play)</li> <li>The Microsoft Office suite</li> <li>Microsoft Edge</li> <li>Web links</li> <li>Built-In applications</li> <li>Line of Business applications</li> <li>Win32 applications</li> <li>Android Enterprise system applications.</li> </ul> <p>When deploying a hybrid solution, the application lifecycle method should be considered as other management solutions such as MECM may be performing the same service.</p> <p>Applications Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Application Deployment Configured Deployment and monitoring of the deployment can be assigned to users or devices. Application Configuration Configured Store applications are easily updated while Win32 applications will need some packaging. Application Protection Configured In combination with conditional access and network boundaries, applications are limited with respect to the copy, paste, forwarding, printing capabilities. Application Removal Configured When applications (or versions of applications) are no longer required they are removed via organisation's nominated management solution."},{"location":"blueprint/platform/#printing","title":"Printing","text":"<p>Printing is a legitimate method of data transfer out of an environment. Printing allows users to physically export data from a network and hence also it can be leveraged by malicious actors for data exfiltration. To minimize the risks associated with printing, the location where printing is allowed should be controlled.</p> <p>Intune can be leveraged to control what printers are available within a device and whether a user is able to add additional local printers.</p> <p>For a user to leverage an available printer, connectivity and a device driver is often required. The drivers can be delivered and updated using Intune and/or MECM. Connectivity depends on the connected network(s) of the client. The options include:</p> <ul> <li>Corporate Network printing \u2013 In the workplace, the domain joined computers can connect to the print servers and send jobs to the queue.</li> <li>External Network printing via Hybrid Cloud Print \u2013 Without network connectivity via Citrix, a VPN, or Microsoft Hybrid Cloud Print, direct print server connectivity is not available. Microsoft Hybrid Cloud Print utilises a reverse proxy to communicate with the print servers located within the work network.</li> <li>External Network printing via VPN \u2013 When direct printer connectivity is not available from external networks, a VPN such as Windows 10 Always-On VPN can allow clients to function as if they were part of the corporate network.</li> </ul> <p>When deploying a hybrid solution, the allocation of printers to users should be considered. Other management solutions such as Group Policy and MECM may be servicing the allocation of printers to devices.</p> <p>Printing Design Decisions for cloud native implementations.</p> Decision Point Design Decision Justification Printer addition restrictions Configured Configured using scripts deployed via Intune. Printers must be supported out of the box in Windows 10. Unsecure location Printing Configured Out of office printing is to be restricted as adequate controls for the creation, storage and destruction of classified content cannot be implemented. <p>Printing Design Decisions for hybrid implementations.</p> Decision Point Design Decision Justification Printer addition restrictions Configured Management tools such as Group Policy can be used to configure printer configurations. Printers will need to be supported out of the box in Windows 10. Unsecure location Printing Configured Out of office printing is restricted as adequate controls cannot be implemented to prevent the creation of classified content on untrusted print device."},{"location":"blueprint/platform/#backup-and-operational-management","title":"Backup and operational management","text":""},{"location":"blueprint/platform/#rpo-rto-and-retention-periods","title":"RPO, RTO and retention periods","text":"<p>As with an on-premises environment, backups play an important part of an overall cloud solution capability. It is important that critical information is backed up to enable recovery for scenarios such as accidental deletion or corruption.</p> <p>To ensure a successful backup, configuration of the following items should be taken into consideration:</p> <ul> <li>What to backup - understanding what configuration, files and mailboxes that need to be backed up is important. If only a partial configuration is backed up, successful restoration may not be possible.</li> <li>Recovery Point Objective (RPO) - RPO defines an acceptable loss of data (in time) for a data type in a data-loss event. RPOs are expressed in hours / days and directly influence the backup approach used, and how backups are performed with sufficient frequency to meet the defined RPO. For example, if an RPO of 12 hours was defined for a given data type, backups of this data type could not be scheduled further than 12 hours apart.</li> <li>Recovery Time Objective (RTO) - RTO is used to define the acceptable level of service interruption (in time) between a data loss event and the recovery of the data to a point at which normal service is resumed. When determining RTOs for a given data type, consideration must also be given to any additional recovery process that are undertaken after the restoration of data. The RTO directly influences the type of backups performed and may dictate additional protection mechanisms outside of the backup platform for data types where a very short RTO is defined.</li> <li>Legislative Requirements \u2013 The Essential 8 details that backups of important information, software and configuration settings are performed. More detail on these controls are listed in the Protective Security Policy Framework and the Essential Eight Maturity Model.</li> </ul> <p>It is important that prior to defining the backup and restore policies, RTO and RPO objectives for each data type hosted the environment are defined in line with business requirements and Service Level Agreements (SLA).</p> <p>There are several enterprise Backup software solutions which can backup data on-premises or in the cloud. Depending on the requirements, a backup solution can cover the following scenarios:</p> <ul> <li>Backup local data directly to on-premises infrastructure from on-premises.</li> <li>Backup local data to on-premises infrastructure and to the Azure storage blob from on-premises.</li> <li>Backup cloud data directly from the cloud.</li> </ul> <p>Using the native Office 365 tools only, in combination with recycle bins the following data recovery options and retention periods are available:</p> <ul> <li>What to backup - understanding what configuration, files and mailboxes that need to be backed up is important. If only a partial configuration is backed up, successful restoration may not be possible.</li> <li>Documents, Desktops and Pictures for each user is redirected from the Windows client device to OneDrive using Windows Known Folders providing a backup of data to the cloud.</li> <li>OneDrive includes recycle bins allowing recovery of data for up to 93 days.</li> <li>SharePoint Online data includes recycle bins allowing recovery of data for up to 93 days.</li> <li>Teams chat, channel and files data retained indefinitely by default unless retention policies have been implemented.</li> <li>Exchange Online has a recover deleted items from server option allowing recovery of data for up to 30 days.</li> </ul> <p>Retention policies are created that ensure that data is retained forever for:</p> <ul> <li>Exchange</li> <li>SharePoint</li> <li>OneDrive</li> <li>Microsoft 365 groups</li> <li>Skype for Business</li> <li>Exchange Public Folders</li> <li>Teams channel messages</li> <li>Teams chats.</li> </ul> <p>Workstation configuration is stored in Intune (Autopilot rebuild).</p> <p>Agencies should review the native Microsoft 365 capabilities and determine if they meet their data preservation requirements, or if a third-party backup solution is required.</p> <p>RPO, RTO and Retention Periods Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Exchange Online mailboxes RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. Exchange Online mail items RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. SharePoint Online Sites RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. OneDrive for Business accounts RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. Microsoft 365 Groups RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. Teams chat messages RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. Teams channel messages RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. Teams private channel messages RPO \u2013 24 hours from backup or betterRTO - &lt; 48 hours or better RPO and RTO in relation to cloud backups is for guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. <p>Additional RPO, RTO and Retention Periods Design Decisions for cloud native implementations</p> Decision Point Design Decision Justification Restoration tools Microsoft backup and restoration tools (when no backup product selected) The organisation will leverage Microsoft Office 365 native tools in the first instance to recover user data, where no third-party backup toolset is deployed. Items to Backup Exchange OnlineSharePoint OnlineMicrosoft TeamsOneDrive for BusinessMicrosoft 365 groups Backups must cover the Microsoft suite of tools at a minimum. Retention Policies Up to maximum allowable days per Microsoft Office 365 application For guidance only. Agencies are required to measure these against the business, application, regulatory and security requirements. <p>Additional RPO, RTO and Retention Periods Design Decisions for hybrid implementations</p> Decision Point Design Decision Justification Restoration tools Third party backup and restoration tools Agencies should investigate third-party backup tools to backup and restore data on-premises and within the cloud. Items to Backup Exchange OnlineSharePoint OnlineMicrosoft TeamsOneDrive for BusinessMicrosoft 365 groupsOn-premises ExchangeOn-premises SharePoint Backups must cover the Microsoft suite of tools at a minimum. Retention Policies At discretion of organisation Retention policies for the backups should be determined by the organisation and measured against the business, application, regulatory (including the organisation's records authority) and security requirements."},{"location":"blueprint/platform/#data-availability","title":"Data availability","text":"<p>Microsoft Azure services are available globally and provides geographical, regional, data centre, virtual infrastructure, and application resiliency. This allows the Microsoft Azure platform and Microsoft 365 to combat and minimise potential disasters such as customers loss of connectivity to data or loss of data.</p> <p>Data availability is an important part of making sure that end users have access to the data when they require it. The cloud-based service of Microsoft 365 will replicate and store organisation's data in multiple data centres which are geographically dispersed  (see Exchange Online data resiliency in Microsoft 365 and Data resiliency in Microsoft 365). </p> <p>The data availability and resiliency of Microsoft 365 cloud service is in-built and managed by Microsoft.</p> <p>Data Availability Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Data Availability Configured Microsoft have in-built data availability into the Microsoft 365 cloud services."},{"location":"blueprint/platform/#system-administration","title":"System administration","text":"<p>System Administration is the process of managing, troubleshooting, and maintaining the solution. To complete this, system administrators are granted permissions over the solution. The allocation of permissions to administrators should align with the administrator's role within the organisation and the principle of least privileged access. The allocation of permission to the administrator's role is captured within the RBAC policy.</p>"},{"location":"blueprint/platform/#administrative-consoles","title":"Administrative consoles","text":"<p>To manage and configure the solution, administrators will use various administrative consoles. These consoles are a mixture of server based and web-based consoles that exist internally or in the cloud.</p> <p>Web based administrative consoles are provided by Microsoft however the URLs for these consoles constantly change (refer to Microsoft Security Portals). The consoles listed below are correct at the time of writing.</p> <p>Administration consoles Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Azure Portal Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://portal.azure.com.Standard users do not have access to the portal. Microsoft 365 Admin Center Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://admin.microsoft.com/. Microsoft 365 Defender (Microsoft 365 security) Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://security.microsoft.com/. Defender for Cloud Apps Portal Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://portal.cloudappsecurity.com/. Microsoft 365 Compliance Center Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://compliance.microsoft.com/. Microsoft Endpoint Manager Admin Center Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://endpoint.microsoft.com/. Defender for Identity Portal Available from web console The console is available from any managed device using a standard Web browser with internet access. The FQDN used for access will be https://portal.atp.azure.com/."},{"location":"blueprint/platform/#role-based-access-control","title":"Role-Based Access Control","text":"<p>RBAC defines what an end user or administrator can do. In relation to system administration, RBAC provides various roles each of which can only perform certain tasks. For example, help desk staff may be able to only view certain resources, whereas system administrators could view, create, and delete those resources.</p> <p>Privileged Identity Management (PIM) can be leveraged to enhance the RBAC model available in Microsoft Entra ID. PIM is an implementation of Just-in-time (JIT) access. JIT access ensures that an administrative account only has privileges when required to complete a function. JIT aligns to the principal of Zero Standing Privilege. Group assignment of Microsoft Entra ID roles is also supported with PIM.</p> <p>Each PIM role assignment can have the following attributes:</p> <ul> <li>Activation Duration - the Activation Duration attribute specifies the duration to allow the access request, the maximum is 72 hours.</li> <li>Approver - the Approver attribute specifies the person or people who can approve role activation requests.</li> <li>Notification - the Notification attribute specifies that a pending request is awaiting approval via email.</li> <li>Incident Request Ticket - the Incident Request Ticket attribute specifies that the approver add an incident ticket number to the approval request.</li> <li>Multi-factor Authentication - the Multi-factor Authentication attribute specifies whether MFA is required for activation.</li> </ul> <p>Microsoft Entra ID roles can be assigned via PIM to various scope types, depending on the specific role being assigned. The scope types include:</p> <ul> <li>Directory - Roles that apply permissions across the entire Microsoft Entra ID tenant.</li> <li>Administrative unit - Configurable by administrators to segregate permissions within organisation into specific business units or locations.  Note only specific Microsoft Entra ID roles can be assigned with administrative unit scope.</li> <li>Application - A specific application registered to Microsoft Entra ID. These are listed under App registrations in the Azure portal.</li> <li>Service principal - Including registered applications, managed identities and legacy apps.</li> </ul> <p>Note: the product name for Microsoft Information Protection is still referred to as Azure Information Protection within the defined Microsoft Entra ID Roles.</p> <p>RBAC Design Decisions for all agencies and implementation types.</p> Decision Point Design Decision Justification Microsoft Entra IDD Role Based Management Least Privilege, using PIM PIM will be utilised to provide Just-in-Time role-based management to ensure elevated access is only provided when required. PIM Roles Authentication AdministratorAzure Information Protection AdministratorGlobal AdministratorExchange AdministratorHelpdesk AdministratorIntune AdministratorOffice Apps AdministratorPower BI AdministratorPower Platform AdministratorPrivileged Role AdministratorSecurity AdministratorSecurity OperatorSharePoint AdministratorTeams Communications AdministratorTeams Communications Support EngineerTeams Communications Support SpecialistTeams AdministratorUser Account Administrator The configured PIM roles align to the services utilised within the solution. PIM approval Automatic approval for all roles except for Global Administrator Approval will only be required for Global Administrators. PIM assignment type Eligible (for supported roles) Roles should be assigned as \"eligible\" for supported roles as per the ACSC Essential Eight guidance for restricting administrative privilege (just-in-time administration). Note, some roles such as SharePoint Administrators and Device Administrators can experience some delays in applying using PIM. PIM assignment period 12 Months Assignment of all roles within PIM for a maximum of 12 months as per the ACSC Essential Eight guidance for restricting administrative privilege. Activation duration 8 hours The activation duration will be one workday to ensure that administrative actions are not impeded."},{"location":"blueprint/security/","title":"Security","text":""},{"location":"blueprint/security/#security","title":"Security","text":""},{"location":"blueprint/security/#cloud-native-environments","title":"Cloud-native environments","text":"<ul> <li>Incident response plan</li> <li>Security risk management plan</li> <li>System security plan</li> <li>System security plan (annex)</li> <li>Standard operating procedures</li> </ul>"},{"location":"blueprint/security/#hybrid-environments","title":"Hybrid environments","text":"<ul> <li>Incident response plan</li> <li>Security risk management plan</li> <li>System security plan</li> <li>System security plan (annex)</li> <li>Standard operating procedures</li> </ul>"},{"location":"blueprint/security/#both-environments","title":"Both environments","text":"<ul> <li>Cloud assessment and authorisation alignment</li> <li>Continuous monitoring plan</li> </ul>"},{"location":"blueprint/solution-overview/","title":"Solution overview","text":""},{"location":"blueprint/solution-overview/#solution-overview","title":"Solution overview","text":"<p>14 minutes to read - 15 September 2023</p> <p>This overview covers the blueprint's purpose, its components, and design considerations and decisions.</p>"},{"location":"blueprint/solution-overview/#purpose-of-the-blueprint","title":"Purpose of the blueprint","text":"<p>The Protected Utility blueprint empowers agencies to provide their workforce with secure, flexible, and mobile solutions. The blueprint is designed with a security focus. It uses native Microsoft technologies that are integrated and provide a quality end-user experience.</p>"},{"location":"blueprint/solution-overview/#where-to-start","title":"Where to start","text":"<p>This overview is suitable for all users as a starting point.</p> <p>The blueprint is made up of another 3 main artefacts:</p> <ul> <li>Platform design \u2013 All supporting components for the Windows 10, iOS and Microsoft 365 (including Microsoft Endpoint Manager)</li> <li>Client devices design \u2013 Windows 10 and iOS components only</li> <li>Microsoft 365 design \u2013 Exchange Online, SharePoint Online, OneDrive for Business and Teams.</li> </ul> <p>For each component in the solution, the blueprint artefacts provide:</p> <ul> <li>a brief description of the component </li> <li>decision points </li> <li>the decision itself </li> <li>a justification for that decision.</li> </ul> <p>Example as-built-as-configured (ABAC) documents detail specific technical configurations, which include the settings and values of an environment based on the blueprint. </p> <p>The use of placeholders like 'agency.gov.au' and 'tenant-name' are used in the ABAC documents where appropriate. The ABAC documents do not provide justification for individual settings. Two sets of ABAC documents cover the differences between configuring cloud and hybrid solutions.</p>"},{"location":"blueprint/solution-overview/#blueprint-components","title":"Blueprint components","text":"<p>The blueprint provides the information, rationale and configuration settings to allow an agency to implement the following components:</p> <ul> <li>Cloud identity \u2013 Azure Active Directory configuration, including Multi-Factor Authentication (MFA) and conditional access, allows log in from anywhere and appropriate security policies to be applied</li> <li>Microsoft 365 \u2013 Configuration of Exchange Online, SharePoint Online, Microsoft Teams, Whiteboard, Forms and OneDrive for Business allowing cloud-based file storage</li> <li>Device management \u2013 Management of security and configuration profiles for enrolled devices (includes testing against security baselines and confirmation of security compliance)</li> <li>Applications \u2013 Delivery and configuration of applications appropriate to the user</li> <li>Security stack \u2013 Security configuration of Office 365 and endpoint devices to implement Essential Eight strategies</li> <li>Autopilot deployment \u2013 Configuration of Autopilot allows for automated deployment (and redeployment when required) of devices with no user interaction</li> <li>Support \u2013 A flexible support model with system administration and role-based access control, whether the support is carried out by in-house staff, third party contractors or a managed service provider.</li> </ul> <p>An agency can choose to deviate from the blueprint on any technology, licensing requirement, security aspect, platform or design decision. Deviations may affect the agency's security posture and will affect the blueprint's security documentation. </p>"},{"location":"blueprint/solution-overview/#design-considerations","title":"Design considerations","text":""},{"location":"blueprint/solution-overview/#implementation-type","title":"Implementation type","text":"<p>The blueprint includes guidance for cloud native and hybrid deployments (implementation types). It can also be for staged deployments to leverage hybrid configurations as a transition step to cloud native transformation. DTA can assist agencies in developing strategic roadmaps for transition.</p> <p>Considerations for implementation often include whether an agency has or requires:</p> <ul> <li>Microsoft Exchange servers on premises.</li> <li>an on-premises SharePoint instance.</li> <li>an on-premises identity management system.</li> <li>multiple active directories </li> <li>significant investment in on-premises infrastructure with serviceable life.</li> </ul> <p>A hybrid implementation can use Microsoft Endpoint Configuration Manager (MECM) or Microsoft Endpoint Manager - Intune (Intune) for client management, depending on the agency's cloud maturity. </p> <p>Blueprint artefacts provide guidance on integration between MECM and Intune for hybrid deployments. Agencies with existing infrastructure can migrate device management from MECM to Intune with no impact to the agency's existing cyber security posture.</p>"},{"location":"blueprint/solution-overview/#agency-classification","title":"Agency classification","text":"<p>The blueprint is based on a principle of 'engineered to Protected' to enhance the cyber security postures of adopting agencies. It is suitable for agencies aiming for Protected and below.</p> <p>The blueprint design and configuration at Protected assumes the agency has available the licencing level of Microsoft 365 E5, or the equivalent Microsoft 365 E3 with Microsoft 365 E5 security and compliance add-ons.</p> <p>The VSA 4 Common Cloud Commitment consists of:</p> <ul> <li>Windows 10 E3.</li> <li>Office 365 E3.</li> <li>Enterprise Mobility and Security E3.</li> <li>Productivity server licences (Exchange Server, SharePoint Server, Lync/Skype Server).</li> <li>Office Device licences.</li> </ul> <p>At a minimum, Microsoft recommends the following licensing in addition to the VSA 4 Common Cloud Commitment to satisfy Protected level requirements:</p> <ul> <li>Microsoft 365 E5 Security.</li> <li>Microsoft 365 E5 Compliance.</li> </ul> <p>Agencies that implement the blueprint at a Protected level will need to configure some components differently to enable connectivity to supporting systems. </p> <p>Components that transfer Protected information outside of an agency's environment include:</p> <ul> <li>a GovLink mail gateway</li> <li>Information management and protection</li> <li>collaboration components</li> </ul>"},{"location":"blueprint/solution-overview/#govlink","title":"GovLink","text":"<p>GovLink enables secure communication between Commonwealth entities across public infrastructure. GovLink provides secure, encrypted and trusted communication across the internet. This allows the Commonwealth to transmit and receive information up to the security classification of Protected. More information is available at GovLink.</p> <p>Protected email must be sent and received over GovLink. There is no native solution to allow a direct interface between the Office 365/Exchange Online environment and GovLink.</p> <p>DTA can provide further advice to agencies and reference sites of how other Commonwealth entities have achieved this connection.</p>"},{"location":"blueprint/solution-overview/#information-management","title":"Information management","text":"<p>Each agency determines information management approaches specific to its operational requirements. </p> <p>The following information management tools are available within the blueprint:</p> <ul> <li>OneDrive is for data relevant to the individual user, automatically synchronised to the cloud so it is available anywhere and backed up. This data can be personal data that is not relevant or required to be shared with other team members.</li> <li>Microsoft Teams is for data to be shared in a read-write format with work colleagues and/or external guests. Every team member has read-write access. People who are not members of the team do not need access. Besides document collaboration team members can chat, use voice and video call, share screens, and attend online meetings.</li> <li>SharePoint Online is for data that needs to be published internally. Users may need to access the data in a read-only manner. At this point the data should be moved to SharePoint. SharePoint by default allows for document owners (full control), contributors (read-write) and visitors (read-only). Internal staff and external guests may be added to any of these groups according to the permission they need. </li> </ul>"},{"location":"blueprint/solution-overview/#information-protection","title":"Information protection","text":"<p>Information protection covers the application of labels to documents and emails according to the classification of the content.</p> <p>Within the blueprint there are two options for labelling documents and emails. These are:</p> <ul> <li>Microsoft Information Protection (including Azure Information Protection (AIP) capabilities that form part of the broader Microsoft Information Protection capabilities)</li> <li>a third-party application.</li> </ul> <p>Microsoft sensitivity labels can be used for labelling documents and emails.</p> <p>Sensitivity labels create a protective marking within the message header. When combined with Exchange mail flow rules, the subject can be modified to prepend text in the subject according to the sensitivity.</p> <p>AIP (with the unified labelling client) can offer labelling capabilities outside of the native Microsoft 365 products. The blueprint favours using native M365 labelling capabilities where possible. Labels created in Microsoft Information Protection can be utilised with AIP.</p> <p>Microsoft Information Protection labelling does not offer a method to format email headers in a manner that is fully compliant with the requirements of the Protective Security Policy Framework (PSPF):</p> <ul> <li>Sensitivity labels, Exchange Transport rules or DLP, cannot set the <code>X-Protective-Marking</code> header *Origin- parameter prescribed in the PSPF.</li> <li>When using DLP or Auto Labeling policies to set a  <code>X-Protective-Marking</code> header:</li> <li>certain characters prescribed in the PSPF are not supported (such as <code>:</code> and <code>,</code>) </li> <li>a character limit of 64 characters is the maximum</li> <li>Exchange Transport rules do not have these character limitations</li> <li>When downgrading a sensitivity label, the downgrade cannot be prevented, only forcing the user to justify the downgrade. </li> <li>Sensitivity labels are not available within calendar invites.</li> </ul> <p>Future releases of the blueprint will capture developments on these limitations.</p> <p>The blueprint provides guidance about applying Microsoft sensitivity labels. The unified labelling client that underpins Microsoft sensitivity labels is built into Office 365. The sensitivity labels are available for use in:</p> <ul> <li>emails (thick client and Outlook Web Access and mobile platforms)</li> <li>documents (all office documents, including the web versions of the applications).</li> </ul> <p>Labelling for Microsoft Teams has recently been released for general availability and will be covered in the next release of the blueprint. This will ensure that labels can be applied to Microsoft Teams, Microsoft 365 groups and SharePoint sites.</p>"},{"location":"blueprint/solution-overview/#collaboration","title":"Collaboration","text":"<p>The blueprint enables cross-agency collaboration between 2 consenting agencies using Teams, SharePoint Online and Planner.</p> <p>The Teams application provides the following collaboration functionality using several Microsoft supporting products:</p> <ul> <li>individual and group chat/instant messaging</li> <li>individual and group voice call</li> <li>individual and group video call</li> <li>voicemail</li> <li>document collaboration</li> <li>screen and application sharing</li> <li>online meetings</li> <li>email-enabled channels</li> <li>organisation chart</li> <li>planning.</li> </ul> <p>Collaboration between organisations assessed and operating at the same security level is straightforward. Collaboration between organisations operating on networks that have been assessed at different security levels presents extra considerations and risk. </p> <p>The extra risks and considerations include:</p> <ul> <li>personnel clearances</li> <li>physical security requirements and the secure creation, storage and destruction of physical artefacts. </li> </ul> <p>Considerations need to be assessed for security risk on a case-by-case basis.</p> <p>Collaboration is initially controlled by lists of allowed domains. Individual users from those allowed external domains can then be invited individually to participate into Microsoft Teams as guests. Details about configuration are covered in the Platform design and in the Office 365 as-built-as-configured artefact.</p>"},{"location":"blueprint/solution-overview/#secure-internet-gateway","title":"Secure internet gateway","text":"<p>This blueprint does not include design information for a Secure Internet Gateway (SIG). A SIG is listed as a requirement in the Protective Security Policy Framework (PSPF) Robust ICT Systems. </p>"},{"location":"blueprint/solution-overview/#secure-system-administration","title":"Secure system administration","text":"<p>Most hybrid agencies should already have a secure administration model with set of policies and procedures. For example, this may include privileged access workstations (PAW) and jump host (sometimes referred to as bastion host, jump box or jump server) environments that provide a secure and resilient boundary for the administration of critical assets.</p> <p>Cloud native environments usually do not have a jump host environment or PAW. However, such a solution could be hosted within M365/Azure utilising components of the blueprint to provide a secure administration environment for the agency.</p> <p>PAW and jump host solutions for cloud native may comprise of:</p> <ul> <li>Separate credentials are provided for non-privileged and privileged duties</li> <li>Hardened PAW (Windows operating system) enrolled into Intune and coupled with conditional access polices to provide a zero trust entry point into the associated cloud apps to administer. Local administrative privileges should be restricted on the PAW, it is used to access the jump server solution or direct access to cloud admin portals</li> <li>Web filtering system to restrict privileged accounts to the set of agency approved admin portals only. This product could be a risk assessed cloud platform or built as an infrastructure as a service server. The web filtering solution should be mandatory on the jump host or PAWs. Tenant restrictions should be implemented to prevent misuse or data exfiltration to other Microsoft tenancies</li> <li>Virtual jump host solution may be built leveraging Azure Virtual Desktop (AVD) session hosts, which seamlessly provides Multifactor Authentication (MFA) through Conditional Access policies. This jump host may be the trusted location where admin portals are used, as well as a secure place to administer other hybrid assets. Network security groups can be used to restrict management traffic flows to these jump hosts only</li> <li>Restriction of management traffic flows limited to only critical assets should be implemented where possible. This could be achieved by utilising the Windows Defender native firewall functionality, web filtering, network security groups on cloud hosted jump hosts, and Conditional Access policies.</li> </ul> <p>Review the Australian Government Information Security Manual (ISM) controls for systems management to assist with implementing a secure administration model.</p>"},{"location":"blueprint/solution-overview/#zero-trust-security-model","title":"Zero Trust security model","text":"<p>\"Zero Trust\" is an IT security concept where the organisation does not automatically trust the user, the device they're on, or the network location they're connecting from.</p> <p>Implementing Zero Trust lowers the agency's risk profile and increases business agility as new devices and applications can be adopted faster.</p> <p>The blueprint supports the Zero Trust concept through M365 features like requiring device enrolment with conditional access and enforcing Azure Active Directory Identity Protection. Agencies should take a risk based approach when utilising features such as trusted IP locations, use these as a last resort when implementing a trust model.</p> <p>For more information, review Microsoft's Zero Trust Security Model and Framework.</p>"},{"location":"blueprint/solution-overview/#virtual-private-network","title":"Virtual private network","text":"<p>If you are considering the use of Apple iOS devices such as iPhones or iPads, ACSC's Security Configuration Guide for Apple iOS 14 Devices requires the use of a virtual private network to protect in transit communication. The blueprint includes suggested per app VPN configuration, however the selection and configuration of a VPN server is the responsibility of the agency. Please ensure you leverage a risk based approach in the selection and configuration of a VPN server.</p>"},{"location":"blueprint/solution-overview/#security","title":"Security","text":"<p>The blueprint's security artefacts enable an agency to conduct a security assessment. Relevant documentation an agency can develop from the artefacts include:</p> <ul> <li>a system security plan</li> <li>a system security plan annex (previously referred to as the Statement of Applicability - SOA)</li> <li>a security risk management plan</li> <li>an incident response plan</li> <li>standard operating procedures.</li> </ul>"},{"location":"blueprint/solution-overview/#design-decisions","title":"Design decisions","text":"<p>The blueprint is developed against a set of high-level design decisions to enable a secure user experience. </p> <p>The following tables describe the design decisions applicable to all agencies and implementation types, and any additional design decisions specific to cloud native or hybrid implementations.</p> <p>Design Decisions for all agencies and implementation types.</p> Decision point Design decision Justification Identity Protection Configured Identity Protection is a tool that allows organisations to accomplish 3 key tasks: automate the detection and remediation of identity-based risks. investigate risks using data in the portal.* export risk detection data to a utility for further analysis. Multi-Factor Authentication (MFA) Configured MFA will be enabled to meet ACSC hardening and Essential Eight compliance. This is discussed in the Platform design artefact. Enterprise collaboration Teams and SharePoint Online Teams and SharePoint Online will be used for enterprise collaboration. Enterprise email Exchange Online Exchange Online and Microsoft Outlook will be deployed for the enterprise email solution. Enterprise file storage SharePoint Online / OneDrive SharePoint Online and OneDrive will be deployed for enterprise file storage. Conditional access policies Configured Conditional access allows control of the devices and apps that allow connection to email and company resources depending on location. Workstation Government-issued device Only government-issued devices will be configured. Remote access Limited access depending on the device Conditional access policies will limit what users can do while logging in remotely from an unmanaged (non-government issued) device - such as view and edit in the browser without an ability to download or print Mail gateway Preferred For agencies connecting to GovLink, a mail gateway is the preferred method. For agencies that do not require email connectivity to GovLink a mail gateway is still the preferred method for mail transmission but may not be required. Internet connectivity Direct internet connectivity or VPN with internet gateway A forced tunnel VPN with central internet gateway provides the highest level of audit security for internet traffic. For agencies who do not require centralised auditing and logging of internet traffic, direct internet connectivity is suitable. <p>Addition design decisions for cloud native implementations.</p> Decision point Design decision Justification Identity Microsoft Entra ID Microsoft Entra ID will be the identity source. No on-premises Active Directory exists. Device standard operating environment deployment Configured Device configuration will be deployed using Microsoft Autopilot and ongoing configuration will be controlled using Intune. Workstation policy management Configured Workstation policy will be deployed and managed using Microsoft Intune. Windows updates and patches Configured Configuration of Windows and third-party updates will be managed using Microsoft Intune. Internet connectivity Direct internet connectivity or VPN with internet gateway An internet gateway is the preferred method for agencies to access the internet. A forced tunnel VPN with central internet gateway provides the highest level of audit security for internet traffic. For agencies who do not require centralised auditing and logging of internet traffic, direct internet connectivity may be considered. <p>Addition design decisions for hybrid implementations</p> Decision point Design decision Justification Identity Active directory Active directory is the identity source. Azure AD Connect Configured Azure AD Connect is required for hybrid implementations of the solution. Device standard operating environment deployment Configured Device configuration will be deployed, and ongoing configuration will be controlled using Intune or Microsoft Endpoint Configuration Manager (MECM). Workstation policy management Configured Workstation policy will be deployed and managed using Microsoft Intune or MECM. Windows updates and patches Configured Configuration of Windows and third-party updates will be managed using Microsoft Intune or MECM."},{"location":"news/","title":"News","text":"Novemeber 2023 Update13 Nov 2023Windows Information Protection sunset October 2023 Update11 Oct 2023Macro Execution Logging and Renaming AzureAD to Microsoft Entra ID Introducing The blueprint23 April 2023Many of you will be familiar with desktop.gov.au, and the Digital Transformation Agency (DTA) PROTECTED Utility Blueprint. You may know it better as the DTA Blueprint, which still lives at desktop.gov.au........ Windows 1123 April 2023At oobe we\u2019ve been running Windows 11 for a while in our fleet and we\u2019re excited at where it\u2019s headed. For the first time in a long time the day 1 release has been worth it as it\u2019s faster and looks nicer....... Enchanced MFA16 January 2023When Microsoft released an \u201cenhanced\u201d MFA capability, we were cautiously optimistic. With MFA prompt fatigue becoming a wider attack vector as time goes on, and everyone\u2019s number of accounts increases. The enhanced MFA capability offers......."},{"location":"news/enhanced-mfa-2023-01-16/","title":"Enhanced MFA","text":"<p>16 January 2023</p> <p>When Microsoft released an \u201cenhanced\u201d MFA capability, we were cautiously optimistic. With MFA prompt fatigue becoming a wider attack vector as time goes on, and everyone\u2019s number of accounts increases. The enhanced MFA capability offers a location map and a numbered verification prompt to any sign-in prompt through MS Authenticator. So your users can verify that it was their sign-in (or not) that triggered the MFA. We tested it at oobe and we\u2019re broadly happy with the results. The location is not always spot on, but you at least get a red flag if it looks like you\u2019re trying to sign in from overseas.</p> <p>You\u2019ll find the updated guidance in the Azure AD MFA section.</p>"},{"location":"news/intro-the-blueprint-2023-04-23/","title":"Introducing the blueprint","text":"<p>23 April 2023</p> <p>Many of you will be familiar with desktop.gov.au, and the Digital Transformation Agency (DTA) PROTECTED Utility Blueprint. You may know it better as the DTA Blueprint, which still lives at desktop.gov.au.</p> <p>It was a great initiative when it was launched. You may not know that oobe helped write it, the DTA published, and oobe deployed it as a pattern in many, many environments. But we at oobe noticed that it hadn\u2019t been updated for a while and the content was getting a little long in the tooth. Last meaningful updates were in July 2022. So we thought, why not keep the dream alive and move a bit faster to keep the content fresh? It\u2019s such a great initiative that we couldn\u2019t let it ride off into the sunset. Enter:</p> <p>The blueprint powered by oobe. Still open source, still publicly available, forked from the DTA Blueprint on GitHub but with more oobe green and some additions and recommendations for how we at oobe deploy things \u2013 securely, but still nice to use.</p> <p>Oh, and if you need a hand with a deployment, you\u2019d like to make a suggestion or you\u2019d just like to say hi, feel free to drop us a line on GitHub or contact us via the link on the homepage \ud83d\ude0a.</p> <p>The blueprint is something we're proud of, and we\u2019re excited about where is now and what\u2019s coming next. Don\u2019t touch that dial.</p>"},{"location":"news/october2023newsupdate/","title":"October 2023 update","text":"<p>11 Oct 2023</p> <p>In the last month or so we've been bedding down our processes for managing the blueprints.  That whole life cycle of making a change, committing, reviewing and then publishing ultimately out to a web page and documents.  We've got some more exciting stuff in the coming months so stay tuned :-)</p> <p>The first couple of changes that have gone through this process are:</p> <ol> <li>Macro Execution Logging</li> <li>Renaming Azure AD to Microsoft Entra ID</li> <li>Issues are now live on the blueprint repo; and</li> <li>Some typos and formatting changes</li> </ol> <p>Macro Execution Logging is enabled via Trust Center Logging and better aligns with the Essential 8 guidance from ACSC.  In the event of an incident, you'll be able to see detailed logs.</p> <p>Due to product renaming by Microsoft, we've renamed all instances of \"Azure AD\" to \"Microsoft Entra ID\". Much easier to say.  We're aware that Microsoft is still in the process of renaming some of the products like \"Azure AD Connect\" so we'll pick them up when Microsoft has finished.</p> <p>We're also in the process of reviewing any outstanding issues from the original DTA repo and where appropriate, adding those to our backlog.</p>"},{"location":"news/windows-11-2023-04-23/","title":"Windows 11","text":"<p>23 April 2023</p> <p>At oobe we\u2019ve been running Windows 11 for a while in our fleet and we\u2019re excited at where it\u2019s headed. For the first time in a long time the day 1 release has been worth it as it\u2019s faster, looks nicer and has some more intuitive features. But how do you secure it?</p> <p>The ACSC has published advice for Windows 10 up to 21H1, but Windows 11 or more recent releases of Windows 10 do not currently appear on their website. So we reached out to the ACSC's Government Uplift team for advice. Their response was that the controls in the Windows 10 hardening guide also apply to Windows 11, and therefore should continue to be used.</p> <p>We'll continue to keep an eye out for any updates from the ACSC, or guidance from our international partners, and update the blueprint accordingly. In the meantime, we\u2019ve added some guidance that we\u2019ll be maintaining, like everything in the blueprint, specifically on securely deploying Windows 11. It builds upon our real-world experience and our pedigree managing Windows for many, many years.</p> <p>You\u2019ll find the updated guidance in the Client Devices section, with updates to the configuration guides to follow soon.</p>"},{"location":"news/wip-guidance-2023-11-13/","title":"Windows Information Protection guidance","text":"<p>In July 2022 Microsoft announced deprecation of certain capabilities within the solution known as Windows Information Protection (WIP), previously referred to as Enterprise Data Protection (EDP).</p> <p>WIP as an offering is no longer under active feature development. The sunset process was announced here.</p> <p>Following this deprecation announcement, the Microsoft Endpoint Manager team announced ending support for the WIP without enrollment scenario by EOY 2022.</p> <p>The announcement by the Microsoft Endpoint Manager team is here.</p> <p>NOTE: This only impacts unmanaged devices. </p>"},{"location":"news/wip-guidance-2023-11-13/#where-does-this-leave-me","title":"Where does this leave me?","text":"<p>Your organisation falls into one of three categories: 1. You have already implemented the blueprint recommendations and you have at least some unmanaged devices, or 2. You have already implmented the blueprint recommendations and you only have managed devices. 3. You haven't yet implemented the blueprint recommended configurations</p>"},{"location":"news/wip-guidance-2023-11-13/#scenario-1","title":"Scenario 1:","text":"<p>If your organisation is using WIP without enrollment (unmanaged devices), Microsoft should have already been in touch with you about the impact to your devices and the timelines for that impact.</p>"},{"location":"news/wip-guidance-2023-11-13/#scenario-2","title":"Scenario 2:","text":"<p>If you are only using WIP with managed devices, Microsoft Endpoint Manager will continue to support WIP with enrollment (managed devices) for the duration of the Operating System (OS) lifecycle and will continue to offer options to enroll both corporate and personal devices for management (and subsequently to receive WIP policy).</p> <p>NOTE: There will be no feature updates and at some point Microsoft will drop support for this product. Probably good to add this to your roadmap.</p>"},{"location":"news/wip-guidance-2023-11-13/#scenario-3","title":"Scenario 3:","text":"<p>For all new configurations we recommend using the Alternative Products / Features listed below. More information on the configuration of these is the subject of future work in early 2024.</p> <ol> <li>Conditional Access + session controls using Microsoft Defender for Cloud Apps</li> <li>Using Windows MAM (Only for unmanaged devices)</li> <li>Leverage Tenant Restrictions to manage how SaaS and LOB applications are accessed</li> <li>Leverage Endpoint DLP to define work vs non-work data boundaries</li> </ol>"},{"location":"news/wip-guidance-2023-11-13/#these-wip-features-do-not-currently-have-an-alternative","title":"These WIP features do not currently have an alternative","text":"Feature Description Microsoft Status Unsanctioned Application Protections Currently admins can define a set of sanctioned applications, with their own enforcement on activities. This Unsanctioned App Protection feature would extend this to unsanctioned applications as well. In planning Context based classification This set of scenarios involves admins being able to scope protection to the context of where the file originates such as the originating source location or source application of the file. In planning Identity Any protections that rely on the context of the user\u2019s identity including identity separation in Outlook, Edge, and access within enlightened apps. These scenarios will not be supported in Purview. For user level restrictions, our guidance will be to use Tenant Level Restrictions within Azure AD. Not Planned"},{"location":"patterns/","title":"Patterns","text":"<p>A pattern is a set of controls that streamline the implementation of specific system(s) to complement your blueprint Microsoft 365 environment.</p> <p>Although these patterns have been implemented by other agencies, they are not bundled with the blueprint and are not represented in the blueprint's security documentation suite. It is advised that a risk-based assessment is undertaken and configuration adapted to business needs where required.</p> Name Category Description Azure Virtual Desktop Remote access Azure Virtual Desktop (AVD) is a PaaS offering that allows administrators to configure, deploy, and manage, scalable virtual desktop solutions. AVD provides a remotely accessible Windows Desktop working environment that closely matches the corporate working environment. AVD enables administrators to publish full desktops or remote applications in BYOD or managed desktop environments. Bring Your Own Device (BYOD) Device and data BYOD allows users to utilise their own consumer devices and access corporate data and applications securely. Polices can assist with protection of corporate data. This pattern provides guidance on how to implement various options for sensitive and non-sensitive data access, and outlines some risks involved on the security posture to PROTECTED while doing this."},{"location":"patterns/azure-virtual-desktop/","title":"Azure virtual desktop","text":""},{"location":"patterns/azure-virtual-desktop/#azure-virtual-desktop","title":"Azure Virtual Desktop","text":"<p>Azure Virtual Desktop (AVD) is a PaaS offering managed by Microsoft that allows administrators to configure, deploy, and manage, a scalable and flexible virtual desktop solution. AVD enables administrators to publish full virtual desktops or remote applications from a single host pool or create individual applications groupings for different sets of users.</p> <p>Using the Windows 10 Enterprise multi-session capability exclusively available to Azure Virtual Desktop on Azure services, agencies are able to reduce the number of virtual machines and OS overhead while providing the same resources to users.</p> <p>AVD provides the following benefits over a traditional Desktop-as-a-Service platform:</p> <ul> <li>Deliver fully feature-rich and scalable AVDs with Azure Windows 10 multi-session OS.</li> <li>Deliver a virtualised and optimised Office 365 experience.</li> <li>Bring Your Own Device (BYOD) options to allow for ease of transition.  </li> <li>An easy path to modernisation and reduction in data centre expenditure.</li> <li>Provide extended support for legacy desktop operating systems or hosting of legacy applications.</li> <li>Provide a rich work from home or alternate office solution, that is simple to use.</li> </ul> <p>The following sections of this document outline design defaults and guidance when deploying an AVD platform and is to be treated as an addendum to the client devices design.  </p> <p></p> <p>This diagram shows a typical architectural overview for AVD.</p> <ul> <li>The user endpoints reside either within an agency's on-premises network (hybrid) or on the public internet (cloud native). For hybrid deployments, ExpressRoute or a site-to-site VPN extends the on-premises network into Azure. Azure AD Connect integrates the agency's hybrid identity (Active Directory Domain Services (AD DS)) with Azure Active Directory (Azure AD). Cloud native deployments that do not have a hybrid identity (AD DS) can leverage cloud-native Azure AD Domain Services or use native Azure AD join with Intune management.</li> <li>The AVD control plane handles Web Access, Gateway, Broker, Diagnostics, and extensibility components like REST APIs.</li> <li>The agency manages AD DS and Azure AD, Azure subscriptions, virtual networks, Azure Storage, and the AVD host pools and workspaces.</li> <li>The agency uses multiple Azure subscriptions in an enterprise-scale landing zone architecture as per Microsoft's Cloud Adoption Framework for Azure.</li> </ul>"},{"location":"patterns/azure-virtual-desktop/#assumptions","title":"Assumptions","text":"<p>The following represent the assumptions when considering to deploy Azure Virtual Desktop.</p> <ul> <li>The agency already has a suitable Azure deployment or is planning an Azure deployment within the Australian Azure regions, with appropriate controls implemented up to Protected.</li> <li>Licensing is available for Windows 10 Enterprise multi-session, Windows 10 Enterprise and FSLogix.</li> <li>Microsoft 365 E3, E5</li> <li>Windows E3, E5</li> <li>Adequate storage is provisioned for the expected number of users. Recommendation of a minimum of 30GB per-user for the Windows profile hosted with the FSLogix solution.</li> <li>The agency has read the client devices blueprint and ensures the ACSC Windows 10 hardening guidelines are being adhered to in relation to the AVD Windows 10 session hosts.</li> </ul>"},{"location":"patterns/azure-virtual-desktop/#prerequisites","title":"Prerequisites","text":"<p>The following represent the prerequisites before deploying Azure Virtual Desktop.</p> <ul> <li>Optional but recommended for this pattern - Infrastructure with a configured Azure AD tenant and an Active Directory Domain Services (AD DS) that can sync with Azure AD.  AVD previously required session host virtual machines to be domain-joined to an AD DS domain to manage the machines computer object and provide policy and authentication. Depending on the Active Directory architecture chosen \u2013 hybrid or cloud native, AVD can be configured to domain-join an existing on-premises AD DS domain (over VPN or ExpressRoute), or a cloud-only Azure AD Domain Services (PaaS) hosted in Azure.</li> </ul> <p>Cloud native:</p> <ul> <li>Azure AD Connect synced to a cloud-only AD DS IaaS (Infrastructure as a Service) within the Azure deployment, or</li> <li>Azure AD DS PaaS configured within the Azure deployment (automatically synchronised to Azure AD), or</li> <li>Agencies can choose to opt out of a AD DS infrastructure and use native Azure AD join with Intune management, but there are caveats that need to be assessed (see Active Directory below).</li> </ul> <p>Hybrid:</p> <ul> <li>Azure AD Connect connected to AD DS (on-premises or hosted in Azure)</li> <li>An Azure subscription that contains a virtual network that can connect to the AD DS domain.</li> </ul>"},{"location":"patterns/azure-virtual-desktop/#platform-components","title":"Platform components","text":""},{"location":"patterns/azure-virtual-desktop/#active-directory","title":"Active Directory","text":"<p>Microsoft Windows Server Active Directory Domain Services (AD DS) and Azure Active Directory (AAD) maintain records of information required to identify services, users and other resources on the network. A domain is a security boundary that exists within AD, and all user accounts are based on domain membership.  </p> <p>Previously, AVD required session host virtual machines (the virtual desktops) to be domain-joined to an AD DS domain to manage the machines computer object and provide policy and authentication. AVD session hosts can now be joined to Azure Active Directory natively (without AD DS hybrid join) and can be managed by Intune, this includes delivery of security policy. Note that with this option, Intune policy support is limited to policies targeted to the O/S scope and not the user scope with multi-session AVD session hosts, and only local profiles are available. Due to current limitations, the pattern currently recommends deploying AVD with Active Directory Domain services to ensure there is full security policy scope for users and the operating system itself, and the user experience is not impacted. See Using Azure Virtual Desktop multi-session with Microsoft Endpoint Manager.</p> <p>Depending on the Active Directory architecture chosen \u2013 hybrid or cloud native, AVD can be configured to domain-join an existing on-premises AD DS domain (over VPN or ExpressRoute), or a cloud-only Azure AD Domain Services (PaaS) that is hosted in Azure.</p> <p>The following table outlines the environment specific infrastructure configurations and considerations for Active Directory services for the solution. </p> <p>Active Directory Design Decisions for the solution</p> Decision Point Design Decision Justification Active Directory Domain Type Hybrid: AD Connect synced to AD DS domainCloud Native: AD Connect synced to cloud-only AD DS IaaS hosted on Azure OR Azure AD DS PaaS configured on the Azure Platform (automatically synced to Azure AD) This pattern requires session host virtual machines to be joined to an AD DS domain to support user policy delivery as well as roaming profile support with FSLogix.Depending on the Active Directory architecture \u2013 hybrid or cloud native AVD can be configured to sync with an existing on-premises AD DS domain, or a cloud-only AD DS IaaS or Azure AD DS PaaS service hosted in Azure. Active Directory Domain [Domain Name] A new or current AD DS domain will be leveraged for the AVD solution. Active Directory Domain Functional Level (Hybrid Only) Windows Server 2016 functional level Latest support AD Functional level and supported by the AVD service. Single Sign On Optional \u2013 AD FS is required and supported with Web Client and Windows Client only. Active Directory Federation Services (AD FS) is required to support Single Sign On (SSO) from the RD Gateway logon point through to the AVD desktop. AD Organisation Units <code>OU=[Agency] Workstations,OU=Windows 10 Virtual,DC=[Domain], DC=GOV, DC=AU</code> AVD session host computer accounts will reside within a dedicated Windows 10 virtual desktop OU. DNS Type Hybrid: AD DS integrated DNS infrastructureCloud Native: AD DS / AAD DS integrated DNS infrastructure The agency will utilise AD DS integrated DNS infrastructure for name resolution. Communication for hybrid will occur inside the Azure VPN. Communication for Cloud native will be configured within Azure subnets. NTLM Requirements (Hybrid Only) Add AVD hostnames to security groups For hybrid environment, the AVD session host names will be added to group policy which is applied to the domain controllers:  Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication: <code>&lt;avd hostnames&gt;</code> Network security: Restrict NTLM: Add server exceptions in this domain: <code>&lt;avd hostnames&gt;</code> <p>The following figure outlines a suggested AD DS OU Structure with proposed OUs to accommodate the Virtual Desktop and hybrid joined devices.</p> <p></p>"},{"location":"patterns/azure-virtual-desktop/#group-policies","title":"Group policies","text":"<p>Group policies provide a user experience tailored to the needs and security requirements of an organisation. Policies are created and managed using the Group Policy Management Console (GPMC). Group policy is still required for session hosts when using pooled-random multi-session hosts, which is currently not supported with Intune.</p> <p>The following tables describe the Group Policy design decisions for the solution.   </p> Decision Point Design Decision Justification Group Policy template versions (ADMX) Windows: Windows 10 Enterprise ( 21H1)Microsoft Office: Microsoft 365 Apps for enterprise / Office 2016 / 2019Design Decisions for OS and Office versions, refer to client devices design. ADMXs required to support the current SAC release of Windows 10, Microsoft 365 and Microsoft Defender for Endpoint. Group Policy Inheritance Enabled The session host desktop policies will be linked to a new OU structure. No existing policies will be used. Group Policy Loopback Mode Replace Mode Loopback processing in Replace Mode will be configured to allow finer grained user policies to be linked at the computers OU level. ACSC Hardening Guidelines \u2013 Hardening Windows 10, Restricting Microsoft Office Macros and Hardening MS 365, Office 2021, Office 2019 and Office 2016. Deployed Ensures the ACSC Windows 10 and Office Macro Security hardening recommendations have been assessed and appropriately applied to devices via custom group policies.The Client Devices Design Blueprint advice will be followed to harden the AVD VM's except where it does not apply (I.e., Any recommendations that only apply to physical desktop machines and not VM's).  For example, the following outlined hardening recommendations from the guide will not be applied: Early Launch Antimalware Measured Boot Secure Boot BIOS and UEFI passwords Boot devices CD burner accessExact configurations per the ACSC guidelines will be included in the \u2018As-Built As-Configured' documentation. ACSC Group Policy \u2013 Override As required A set of custom group policy settings to override the ACSC group policies can be applied as needed to meet the agencies requirements (i.e., legacy applications configurations, custom organisational settings, etc). Group Policies Configuration To be outlined in As Built Configuration As required to allow system to function correctly and as per the agencies requirements."},{"location":"patterns/azure-virtual-desktop/#personalisation-and-profile-management","title":"Personalisation and profile management","text":"<p>User profiles and personalisation enable users to configure an application or desktop setting and have that setting retained the next time they login or roam to another computer. This is extremely important when using a virtual desktop, as the local Windows profile is generally always not present for each new virtual desktop login, this can impede the user performance as it can increase user login times and cause issues with applications missing configuration on virtual desktop sessions. </p> <p>Each user group, regardless of the required level of personalisation, should have a profile that determines how the user's settings will or will not persist across sessions. Part of the profile configuration includes folder redirection to better optimise the profile.</p> <p>Microsoft includes several standard options for user profiles, or personalisation. Alternatively, technologies such as Microsoft UE-V and FSLogix, can be used to address user profile and personalisation requirements. If no user profile is configured, a desktop local profile is used, which is seldom optimal.</p> <p>Microsoft provide the following profile management solutions:</p> <ul> <li>Local Profiles \u2013 Are created and stored on each workstation the user logs on to.</li> <li>Mandatory Profiles \u2013 A profile that does not save profile changes.</li> <li>Roaming Profiles \u2013 A network-based profile that allows user settings to be saved.</li> <li>Microsoft UE-V \u2013 Provides personalisation that operates at the application layer delivering a user's personal Windows experience across many devices, regardless of Windows or the applications are deployed physically or virtually. UE-V templates are created to specify which application settings and files are captured and roamed between sessions.</li> <li>FSLogix \u2013 Provides a full profile solution in addition to addressing issues when deploying Office 365 in a non-persistent VDI/RDS environment. Using the Profile Container and/or Office 365 Container data is cached locally helping avoid disruptions or application instability during brief storage interruptions like network switch resets or storage controller failovers. This cache sits between the user's desktop and the remote container storage (SMB file share or cloud cache functionality) and is configured either to persist between logons or start fresh each time the user logs in.</li> <li>Folder Redirection \u2013 Enables certain folders, such as Documents and AppData, to be redirected. This enables user data such as documents and email configuration, to not be loaded at login, which can improve performance when loading profiles. However, some applications communicate with the AppData frequently, making the application appear slow when this folder is redirected.</li> </ul>"},{"location":"patterns/azure-virtual-desktop/#fslogix-considerations","title":"FSLogix considerations","text":"<p>FSLogix provides various functionality and advanced profile configurations that can further optimise the virtual desktop experience:</p> <ul> <li>Simplification of gold image versioning via the use of application masking. This feature allows the base image to include most optional applications to be installed inside the gold image, while only presenting these applications to authorised users. This simplifies gold image management and application delivery and is relatively simple to setup. For further guidance on this this configuration see Implement Application Masking Tutorial.</li> <li>Management of Java versioning used for various URLs and applications, for those agencies running multiple java runtimes within the desktop.</li> <li>Use of redirections.xml with profile management provides the ability to control which portions of the profile (in the C: drive) are redirected out to the remote profile and kept in sync. Exclusions can optimise the desktop environment and are sometimes used to make an application work within a virtual environment. Microsoft recommend using this feature with caution and to only include exclusions where they are fully understood.  </li> <li>This pattern recommends to utilise the crowdsourced redirections.xml as a base. redirections.xml is maintained by the virtual desktop user community and can be found at crowdsourced redirections.xml - github. At minimum, Microsoft recommend excluding certain Microsoft Teams data, this guidance can be found in the FSLogix Azure Architecture Guide.</li> <li>Cloud Cache is a configuration option that provides greater resilience for the user profile outside of the standard VHDLocations configuration which only provides a mounted remote location for the users profile, this can be subject to availability constraints. The use of Cloud Cache in previous versions of FSLogix introduced a 'logon tax' meaning logon times were slower than using VHDLocations, at the expense of resilience and availability. Cloud Cache performance has not yet been validated within this pattern. Agencies are encouraged to assess this feature - which can greatly improve resilience if resilience and availability is a concern. For more information on this architecture, see Cloud Cache for resiliency and availability.</li> </ul> <p>The following table describes the Profile Management design decisions for the solution.</p> Decision Point Design Decision Justification Personalisation and Profile Management FSLogix FSLogix provides the best performance for AVD compared to alternative methods, and supports file shares within Azure. FSLogix License Entitlement Microsoft 365 E3/E5Windows 10 Enterprise E3/E5Remote Desktop Services (RDS) Client Access License (CAL)Remote Desktop Services (RDS) Subscriber Access License (SAL) Any of these licensing entitlements will provide access to FSLogix Profile Container, Office 365 Container, Application Masking, and Java Redirection tools. Folder Redirection Not required OneDrive redirection of known folders will be used in preference to Folder Redirection, with folders remaining local to the profile. Profile Management Configuration Refer to Personalisation and Profile Management Configuration and FSLogix Office 365 Container Configuration tables below <p>The following table describes Personalisation and Profile Management design decisions for the solution. These settings will be configured via ADMX Group Policy. </p> <p>Note, settings not specifically called out assume the default configuration.</p> Decision Point Design Decision Justification Profile Management Version FSLogix Apps 2.9.7838.44263 The latest version at the time of writing. The latest version should be assessed and utilised where appropriate. This agent is installed within the Azure marketplace image. The latest version available at time of deployment should be utilised. Profile Container Enabled FSLogix will be used to manage profiles for the solution. Office Container Enabled (optional) The Office container stores just the Microsoft Office portion of the profile and is utilised to spread storage load over various storage locations.Note, Microsoft Office data is stored in the profile container when the Office container is not utilised, this can simplify the deployment. See Profile Container vs. Office Container. Cloud Cache Not configured VHDLocations will be used in preference of Cloud Cache (CCDLocations) in this pattern due to the resilience and performance using NetApp Files or Azure files seen when appropriately configured for the size of the user base. Agencies are encouraged to test CCDLocations if resilience and availability is a problem. Profile Container Logging Enabled (All logs enabled) Logging is to be enabled for FSLogix. Enable Search Roaming Disabled FSLogix search functionality is not compatible with Server 2019, Windows 10 multi-session and should be disabled, and subsequent multi-session operating systems with enhanced native search capabilities. Search Database Configuration Not applicable FSLogix search functionality is not compatible with Server 2019, Windows 10 multi-session. Outlook Cached Mode Enabled FSLogix Outlook Cached mode will be configured to provide the best user experience. Dynamic VHD(X) Allocation Enabled Dynamic VHD(X) will be configured to provide storage cost savings where possible. Profile Virtual Disk Location Agency decision point: Azure Files or Azure NetApp Files for Storage Account.Storage Account Name/s: TBD - Share that will be used for profiles Each user will have a FSLogix virtual disk stored to an Azure location in Australia with data geo-replicated to a secondary location for DR purposes. Depending on required usage, performance and disaster recovery requirements, the agency must decide between Azure Files and Azure NetApp files depending on their requirements or consider the Cloud Cache option (out of scope for this blueprint). For further information, see Azure Files and Azure NetApp Files comparison. Virtual Disk Type VHDX VHDX is the latest available disk type and suitable for this solution. Allow concurrent users sessions Enabled Concurrent user sessions must be enabled to allow multi-session desktop scenarios. Delete local profile when FSLogix Profile should apply Enabled To provide the use a clean desktop session on each desktop launch, it is recommended to enable this setting. Redirections File Path Azure Storage account or other domain share The redirections configuration XML will be hosted on a common share, to be determined by the agency. Redirection Exclusions Copy <code>Redirections.xml</code> file to <code>[TBD-DOMAIN]\\NETLOGON\\FsLogix\\</code>See recommended crowd sourced redirections.xml for base inclusions.For structure and creation of the file see Structure of redirections.xml file. It is recommended to use the redirections file with caution. Base configuration recommended initially.Note, the folder path to the redirections.xml path is set through Group Policy and points to the folder where the file exists, not the full path of the file itself. Swap directory name components Enabled: Swap directory name components This configuration allows for easier navigation of the user VHDX folders when troubleshooting and during maintenance. <p>The following table includes FSLogix Office 365 Container Configuration.</p> Decision Point Design Decision Justification O365 Virtual Disk Location Network Share: [TBD - Network Share to be used for Virtual Disks] Each user will have a FSLogix virtual disk stored to an Azure location in Australia with data geo-replicated to a secondary location for DR purposes. Virtual Disk Access type Unique disk per session Required for this deployment type and provides support for OST and OneDrive. Virtual Disk Type VHDX VHDX is the latest available disk type and suitable for this solution. O365 Container Logging Enabled Logging is to be enabled for FSLogix. Concurrent Users Sessions Allowed Concurrent user sessions must be enabled to allow multi-session desktop scenarios. Office 365 Activation Data Enabled Office 365 activation data will be stored in the O365 container. Office Cache Data Enabled Office 365 cache data will be stored in the O365 container. OneDrive Data Enabled OneDrive data will be stored in the O365 container. OneNote Data Enabled OneNote data will be stored in the O365 container. Outlook Data Enabled Outlook data will be stored in the O365 container. Outlook data will be stored in the O365 container. Outlook Personalisation Data Enabled Outlook personalisation data will be stored in the O365 container. SharePoint Data Not configured Not configured Teams Data Disabled Teams data will not stored in the O365 container. This allows optimisation of the profile size in the Profile container to avoid profile bloat. Outlook Container Mode Cached Outlook cached mode will be enabled on successfully container attach. Dynamic VHD(x) Enabled Dynamic VHD(x) will be utilised to save on required space. Disks will grow only as space is required. Search Roaming Disabled FSLogix search functionality is not compatible with Server 2019, Windows 10 multi-session and should be disabled, and subsequent multi-session operating systems with enhanced native search capabilities. Search Database Not applicable FSLogix search functionality is not compatible with Server 2019, Windows 10 multi-session. Sync OST to VHD Enabled: Move OST to VHD Existing OST's are syncd to VHD/X when new VHD/X is created. Swap directory name components Enabled: Swap directory name components This configuration allows for easier navigation of the user VHDX folders when troubleshooting and during maintenance."},{"location":"patterns/azure-virtual-desktop/#resource-tags","title":"Resource tags","text":"<p>Resource Tags can be applied to objects within Azure to organise them into categories. Using Tags, resources can be retrieved from multiple Resource Groups. Tags enable simplified management and Azure billing capability.</p> <p>A Resource Tag is comprised of a Key and a Value. Both are defined by an administrator.</p> <p>The following tables describe the Azure Resource Tags design decisions for the solution. </p> Decision Point Design Decision Justification Tags Configured Tagging of resources provides a consistent way to view subscription costs by type. Tags Configured Tags configured for:CategoryEnvironment TypeDescriptionOwner Resource tags will be configured for each host pool to provide details for category, environment type, description, and owner."},{"location":"patterns/azure-virtual-desktop/#azure-virtual-desktop-components","title":"Azure Virtual Desktop components","text":""},{"location":"patterns/azure-virtual-desktop/#control-plane","title":"Control plane","text":"<p>Azure AVD is a PaaS offering managed by Microsoft that allows administrators to configure, deploy, and manage, scalable flexible solutions. AVD enables administrators to publish either full desktops or distinct remote apps from a single host pool or create individual app groupings for different sets of users.</p> <p>Using the Windows 10 Enterprise multi-session capability exclusively available to Azure Virtual Desktop on Azure services, corporations and departments are able to reduce the number of virtual machines and OS overhead while providing the same resources to users.</p> <p>The table below describes the AVD Control Plane design decisions for the solution.</p> Decision Point Design Decision Justification AVD Control Plane Australia East Metadata will be stored in Azure geography located in Australia. Note, at time of writing the Australia East location for AVD metadata is in public preview. Note: This is not the location where virtual desktops are hosted, this will be within the Azure landing zone in the Australian regions selected when creating the desktops. The stored information is encrypted at rest, and geo-redundant mirrors are maintained within the geography. Customer data, such as app settings and user data, resides in the location the customer chooses and isn't managed by the service. For further information, see Data locations for Azure Virtual Desktop - Azure Microsoft Docs. Azure License Entitlement Microsoft 365 E3/E5 Windows 10 Enterprise E3/E5 Any of these licensing entitlements will provide access to AVD. Note: AVD can be accessed from non-Windows Pro endpoints if a Microsoft 365 E3/E5 or Windows 10 VDA per user license is available. Windows 10 Enterprise and Windows 10 Enterprise Multi Session License Entitlements Microsoft 365 E3/E5 Windows E3/E5 Any of these licensing entitlements will provide access to Windows 10 and Windows 10 Multisession on Azure. Encryption TLS 1.2 TLS 1.2 is used for all connections initiated from the clients and session hosts to the Azure Virtual Desktop infrastructure components. Identity and Access Configuration Refer to AVD Control Plane Configuration table To meet the requirements of this design Connectivity Agency decision point: Optimised through SIG public internet or RDP Shortpath AVD does not currently support ExpressRoute optimisation with Microsoft peering. It is recommended that outgoing connections from within the agency to AVD desktops are optimised by either bypassing the agency web proxy, but still egressing the agency's SIG (direct route) or utilising Azure RDP Shortpath if there is direct line of sight to the Azure Landing zone inside the organisation.RDP Shortpath is the recommended approach where it is available the agency. <p>AVD Control Plane Configuration table:</p> Decision Point Design Decision Justification Administrator Access Azure Active Directory This provides native AD auditing, password policies and account control. User Access Azure hosted Web URL Users will access the solution via the Microsoft hosted Remote Desktop Web URL: <code>https://rdweb.wvd.microsoft.com/arm/webclient/</code>"},{"location":"patterns/azure-virtual-desktop/#host-pool","title":"Host pool","text":"<p>A host pool is a collection of Azure virtual machines that register to AVD as session hosts. All session host virtual machines in a host pool are sourced from the same image providing a consistent user experience.</p> <p>A host pool can be one of two types:</p> <ul> <li>Personal \u2013 Where each session host is assigned to individual users.</li> <li>Pooled \u2013 Where session hosts can accept connections from any user in an authorised app group within the host pool.</li> </ul> <p>Host Pool configuration allows the setting of properties to change load-balancing behaviour, how many sessions each session host can take, and what a user can do to session hosts in the host pool while signed into an AVD session.</p> <p>Azure Virtual Desktop supports two load-balancing methods. Each method determines which session host will host a user's session when connected to a resource in a host pool.</p> <p>The following load-balancing methods are available:</p> <ul> <li>Breadth-first \u2013 Allows user sessions to be distributed evenly across the session hosts in a host pool.</li> <li>Depth-first \u2013 Allows user sessions to completely fill a session host in the host pool. Once the first session reaches its session limit threshold, the load balancer directs any new user connections to the next session host in the host pool until it reaches its limit.</li> </ul> <p>The table below describes the Host Pool design decisions for the solution. </p> Decision Point Design Decision Justification Metadata Australia East Metadata will be stored in Azure geography associated in Australia East. For further information, see Control plane section. Host Pool Types Pooled Pooled is the preferred selection to ensure consistency. Load Balancing Method Breadth-First User sessions to be distributed evenly across the session hosts in a host pool. Number of Host Pools Dependant on User Personas The number of host pools will be aligned to the number and size of the user personas, and the VM-types assigned. Host Pool Configuration Refer to Host Pool Configuration table To meet the requirements of this design. <p>Host Pool Configuration table:</p> Decision Point Design Decision Justification Host Pool Name <code>&lt;agn&gt;-&lt;hp&gt;-&lt;os&gt;-&lt;pooltype&gt;</code> Host Pool naming will be configured as follows:<code>&lt;agn&gt;</code> = Agency Name<code>&lt;hp&gt;</code> = Host Pool<code>&lt;os&gt;</code> = Windows Version<code>&lt;pooltype&gt;</code> = Pool Namee.g. agency-hp-win10-fin Friendly Name Aligned to Host Pool name Descriptive text that aligns to the host pool name.e.g. Agency Windows 10 Access Aligned to user groups The AVD Session Hosts will accept any user connection with access to the host pool. Azure Resource Group <code>&lt;rg&gt;-&lt;agn&gt;-&lt;avd&gt;</code> Host Pool naming will be configured as follows:<code>&lt;rg&gt;</code> = Resource Group <code>&lt;agn&gt;</code> = Agency Name<code>&lt;avd&gt;</code> = Azure Virtual Desktop App Groups <code>&lt;agn&gt;-&lt;hp&gt;-&lt;os&gt;-&lt;pooltype&gt;-&lt;appgroup&gt;</code> Host Pool naming will be configured as follows:<code>&lt;agn&gt;</code> = Agency Name<code>&lt;hp&gt;</code> = Host Pool<code>&lt;os&gt;</code> = Windows Version<code>&lt;pooltype&gt;</code> = Pool Name<code>&lt;appgroup&gt;</code> = Application Groupe.g. agency-hp-win10-fin-accapps Max Session Limit Dependant on user-types To ensure no more than a defined number of users can connect to a single Windows 10 session. Can restrict number of users to a maximum limit per session host.  For best performance and density estimates, see section Session Host Sizing in the next section for further information. Session Host Members View Client Devices guidelines As per the Client device's blueprint guidelines. Validation Environment Enabled Allows to monitor service updates before rolling them out to the Production host pool. Assignment Method Automatic Users will be automatically assigned to a session host. RDP Properties The following to be configured via ADMX Group Policies:Multi-monitor mode: EnabledDrive redirections: DisabledRemote audio mode: Play LocallyRDP Properties Configuration: <code>audiocapturemode:i:1;drivestoredirect:s:;redirectcomports:i:0;camerastoredirect:s:*;devicestoredirect:s:*;redirectclipboard:i:0;redirectprinters:i:0;redirectsmartcards:i:0</code> To restrict data leaving the environment and to optimise performance and workability."},{"location":"patterns/azure-virtual-desktop/#session-host","title":"Session host","text":"<p>Each user group will utilise a desktop (Session Host) or RemoteApp based on an underlying image. Most organisations try to consolidate images into as few as possible while still providing a desktop environment that is not bloated with applications most users do not use.</p> <p>Users are provided access to RemoteApps or desktops based on group memberships permissions and business function.</p> <p>The Azure VM generation (version) can limit what operating system features are available such as UEFI (Unified Extensible Firmware Interface) support. Generation 2 is now available within Australian regions and should be used for Azure Virtual Desktops. The following Windows 10 features are supported with Trusted Launch:</p> <ul> <li>Secure boot</li> <li>vTPM</li> <li>Virtualization-based security (VBS).</li> </ul> <p>An AVD session host consists of the following core components:</p> <ul> <li>Operating System \u2013 The correct OS is critical to the success of a hosted desktop environment. It forms the foundation of the SOE and provides the launchpad for the applications deployed to it.</li> <li>Applications \u2013 The applications deployed to an AVD image and how each are deployed will affect the end user experience. Choosing the right applications and their configuration is critical to solution success. Applications are able to be delivered to an AVD image in the following ways:</li> <li>Installed \u2013 The application is part of the base desktop image. Every user receiving the image also receives the application. Typically, common applications are installed into the base image. FSLogix application masking can be utilised to prevent the user from seeing a particular application within the image, allowing the administrator to maintain a small number of session pools</li> <li>App-V \u2013 The application is delivered via the network, to the desktop just-in-time or pre-cached. The application is not traditionally installed within the OS, though executes within a temporary runtime environment. Applications are only visible to users who are granted access or are published globally</li> <li>RemoteApp \u2013 The application is hosted on a set of session host servers. Technically challenging applications are often delivered via the RemoteApp model</li> <li>MSIX App Attach \u2013 The application is delivered via the network, to the desktop. App Attach enables packaged applications to be stored outside the AVD sessions hosts to be maintained and updated separately to the image. This reduces the need to maintain multiple master images for different applications and/or the ability to package all virtualised apps into a single image.</li> </ul> <p>The table below describes the Session Host design decisions for the solution.</p> Decision Point Design Decision Justification Azure Region Any Azure Australian region In-line with government requirements and existing Azure Tenant / Subscription regions for this blueprint. Number of Session Hosts Dependant on user persona types and the size of the group. General guidance for Light, Medium, Heavy and Power user configuration is provided below.See Session Host Sizing table.For further information, see virtual machine sizing. Number of Images One per User Persona type It is recommended that one image will be deployed per User Persona type to allow easier image management. Operating System Windows 10 Enterprise Multi-Session, with Microsoft 365 Apps from the Azure Marketplace Latest stable version of Windows 10 available from the Azure Marketplace. Supported Language Packs EN-AU The default language is English. Time Zone Australian Eastern Standard Time (AEST) The default time zone AEST. Image Source Azure Marketplace The Windows 10 Enterprise Multi-Session with Microsoft 365 Apps SOE available from the Azure Marketplace will be utilised for the AVD image deployment. Image Deployment Method Azure Resource Manager AVD using Azure Resource Manager will be used to deploy pooled random virtual machines. Deployed Image Update Process Azure Resource Manager (ARM) Redeploy and auto updates ARM Redeploy capability with auto updates will be leveraged to provide \u2018Security and Feature' updates to the AVD images. Encryption Azure Disk Encryption Session host disks to be encrypted at rest using Azure Disk encryption. Using the Bitlocker feature of Windows, volume encryption for the OS and data disks of Azure virtual machines (VMs) will be configured. Will also be integrated with Azure Key Vault to help control and manage disk encryption keys and secrets. Graphical Application Support GPU Capable VMs available in selected Australian Regions Windows 10 VMs with higher GPU capability are available from Azure if there is a need to run graphical applications. Session Host Power Management Azure Automation Azure Automation will be utilised to scale session host power management. This will enable shutting down and deallocating session host VMs during off-peak usage hours, and powering on and reallocating as required (during peak hours). Session Host Configuration Refer to Session Host Configuration table Session Host configuration. Deployed Applications Agency defined Applications to be deployed post platform deployment. OS Optimisations Virtual Desktop Optimization Tool Microsoft recommend some optimisation to the OS image to increase performance and scalability and enhance the overall end user experience. Antivirus Microsoft Defender for Endpoint Microsoft Defender for Endpoint will be configured for the AVD platform. For configuration items that apply specifically to an AVD environment, such as a dedicated VDI file share and specific exclusions, refer to Deployment guide for Microsoft Defender Antivirus in a virtual desktop infrastructure (VDI) environment and for common client device configuration settings, refer to client devices design. <p>Session Host Sizing table:</p> Workload type Maximum users per vCPU vCPU/RAM/OS storage minimum Example Azure instances Profile container storage minimum Light 6 8 vCPUs, 16 GB RAM, 16 GB storage D8s_v4, F8s_v2, D8as_v4, D16s_v4, F16s_v2, D16as_v4 30 GB Medium 4 8 vCPUs, 16 GB RAM, 32 GB storage D8s_v4, F8s_v2, D8as_v4, D16s_v4, F16s_v2, D16as_v4 30 GB Heavy 2 8 vCPUs, 16 GB RAM, 32 GB storage D8s_v4, F8s_v2, D8as_v4, D16s_v4, F16s_v2, D16as_v4 30 GB Power 1 8 vCPUs, 16 GB RAM, 340 GB storage D8s_v4, F8s_v2, D8as_v4, D16s_v4, F16s_v2, D16as_v4, NV12, NVv4 30 GB <p>Session Host Configuration table:</p> Decision Point Design Decision Justification VM Size Dependant on user persona type selected Dependant on user persona type selected. Azure VM Generation Generation 2 Generation 2 should be selected to support security features such as UEFI. Trusted Launch Configured To increase the security posture of the virtual machine. Name Prefix <code>&lt;agn&gt;&lt;os&gt;&lt;shg&gt;&lt;nnn&gt;</code> To meet the requirements of this design. App Group naming will be configured as follows:<code>&lt;agn&gt;</code> = Agency Name<code>&lt;os&gt;</code> = Windows Version<code>&lt;shg&gt;</code> = Session Host Group<code>&lt;nnn&gt;</code> = Numerical Iteratione.g. agnwin10acc001 Domain [Agency Domain] As per agencies domain name. AAD DS / AD DS Domain Join Account svc_domjoin@[Agency Domain] Service account in the agencies domain. Domain Joined type Hybrid-Joined (depending on Agency Active Directory selection) AVD Session-hosts will be managed through AAD DS / AD DS. Organisational Unit <code>OU=[Agency] Workstations,OU=Windows 10 Virtual,DC=[Domain], DC=GOV, DC=AU</code> The guidance is to deploy the session hosts to a dedicated organisation unit for the session hosts. The agency can determine where that location best fits with the deployment. IP Subnet Customer design decision based on networking standards Adequately sized and number of subnets to be configured as required to host the number of session hosts. Network Security Group <code>&lt;agn&gt;-&lt;env&gt;-&lt;loc&gt;-&lt;vnet&gt;-&lt;host&gt;-&lt;nsg&gt;</code> Azure Virtual Desktop Subnet Network Security Gateway (NSG) with a default deny rule for all traffic, which can be modified as required for specific workloads. Naming convention as follows:<code>&lt;agn&gt;</code> = Agency <code>&lt;env&gt;</code> = Environment (e.g. Prod)<code>&lt;loc&gt;</code> = Location (e.g. auc1)<code>&lt;vnet&gt;</code> = Virtual Network<code>&lt;host&gt;</code> = Workloads the vnet is hosting (I.e. Desktops)<code>&lt;nsg&gt;</code> = Network Security Group Public Inbound Ports Disabled A default deny rule for all traffic, which can be modified as required for specific workloads. AVD control plane traffic will ingress regardless of the NSG configuration. Minimum Outbound Ports Allowed 135/TCP (RPC Endpoint Mapper)1024-65535/TCP (RPC)636/TCP (LDAP SSL)3268/TCP (LDAP GC)3269/TCP (LDAP GC SSL)53/TCP/UDP (DNS)88/TCP/UDP (Kerberos)445/TCP (SMB)1688/TCP (KMS)80 &amp; 443 TCP (internet) To meet the minimum requirements of this blueprint for the Virtual Desktop to communicate with Active Directory.  Agency to assess additional egress ports based on requirements. More information around network port requirements are outlined in the Access and connectivity section.Note 1: AVD control plane outbound ports are not explicitly configured on the NSG and are controlled per URL on the Azure Firewall egress point.Note 2: An internet filtering solution for user traffic is in place outside of the Azure Firewall. Associated Host Pool Aligned to Host Pools required Session Hosts will align to the host pools created. Built-In Applications As required Enterprise applications installed in the image as required."},{"location":"patterns/azure-virtual-desktop/#app-groups","title":"App groups","text":"<p>App groups are logical grouping of applications installed on session hosts in the host pool. An app group can be one of two types:</p> <ul> <li>RemoteApp - Enables a user to access the RemoteApps individually selected and published to the app group. Multiple RemoteApp app groups can be created to accommodate different worker scenarios. Distinct RemoteApp app groups can also contain overlapping RemoteApps.</li> <li>Desktop \u2013 Allows a user to access the full desktop session host. By default, a desktop app group (named \"Desktop Application Group\") is automatically created whenever a host pool is deployed. </li> </ul> <p>To access published resources, users must be assigned to an app group. When assigning users to app groups, consider the following things:</p> <ul> <li>A user can be assigned to both a desktop app group and a RemoteApp app group in the same host pool. However, users can only launch one type of app group per session.</li> <li>A user can be assigned to multiple app groups within the same host pool allowing the app feed to be an accumulation of both app groups. </li> </ul> <p>The table below describes the App Group design decisions for the solution. </p> Decision Point Design Decision Justification Azure Region Australia East Metadata will be stored in Azure geography associated with Australia East. For further information, see Control plane section. Number of App Groups Aligned to unique images required App groups will be created as per unique images required. App Group Type Desktop (one per host pool) RemoteApp (multiple as required per host pool) Desktop provides the full desktop experience, only one created per host pool. RemoteApp provides published apps, multiple can be created per host pool. App Group Configuration Refer to App Group Configuration table To meet the requirements of this design. <p>App Group Configuration table:</p> Decision Point Design Decision Justification App Group Name <code>&lt;agn&gt;-&lt;hp&gt;-&lt;os&gt;-&lt;loc&gt;-&lt;agn&gt;</code> To meet the requirements of this design. App Group naming will be configured as follows:<code>&lt;agn&gt;</code> = Agency Name<code>&lt;hp&gt;</code> = Host Pool<code>&lt;os&gt;</code> = Windows Version<code>&lt;loc&gt;</code> = Location<code>&lt;agn&gt;</code> = App Group Namee.g. agency-hp-win10-auc-dag Friendly Name Aligned to App Group Name Descriptive text that aligns to the host pool name.e.g. Agency Windows 10 Desktop App Group Azure Resource Group <code>&lt;rg&gt;-&lt;agn&gt;-&lt;avd&gt;</code> Host Pool naming will be configured as follows:<code>&lt;rg&gt;</code> = Resource Group <code>&lt;agn&gt;</code> = Agency Name <code>&lt;avd&gt;</code> = Azure Virtual Desktop App Group Type Desktop / RemoteApp Desktop or RemoteApp selected depending on the requirement of a full desktop experience or applications only. Description Aligned to App Group Name Descriptive text that aligns to the app group name. Assignments Aligned to User Persona User assignment will be aligned to groupings aligned to the persona image type required. Published Applications As required List published applications required to be launch separately from the desktop. Host Pool Aligned to the host pool Each App Group will be aligned to a host pool. Workspace Aligned to the host pool Each Workspace will be aligned to a host pool."},{"location":"patterns/azure-virtual-desktop/#workspaces","title":"Workspaces","text":"<p>Workspaces are logical grouping of App Groups in Azure Virtual Desktop. Each AVD App Group must be associated with a Workspace for users to see the remote apps and desktops published to them.</p> <p>The table below describes the Workspace design decisions for the solution. </p> Decision Point Design Decision Justification Number of Workspaces Aligned to logical grouping of App Groups Workspaces will be created for each logical grouping of App Groups. Workspace Name I.e. \u2018Accounting Workspace' The workspace name will be descriptive for the App Group collection. Workspace Configuration Refer to Workspace Configuration table Refer to Workspace Configuration table. <p>Workspace Configuration table:</p> Decision Point Design Decision Justification Workspace Name I.e. \u2018Accounting Workspace' The workspace name will be descriptive for the App Group collection. Friendly Name Aligned to Workspace Name Descriptive text that aligns to the Workspace name.e.g. Agency Windows 10 Desktop Workspace Azure Resource Group <code>&lt;rg&gt;-&lt;agn&gt;-&lt;avd&gt;</code> Host Pool naming will be configured as follows:<code>&lt;rg&gt;</code> = Resource Group <code>&lt;agn&gt;</code> = Agency Name<code>&lt;avd&gt;</code> = Azure Virtual Desktop Description Aligned to Workspace Name Descriptive text that aligns to the workspace name. Host Pool Aligned to Host Pool Each Workspace will be aligned to a host pool. App Groups List of App Groups List of App Groups that will form this Workspace."},{"location":"patterns/azure-virtual-desktop/#session-and-idle-timeouts","title":"Session and idle timeouts","text":"<p>Session and Idle timeouts can be configured to assist with security and resource availability. The following types of session timeouts can be configured:</p> <ul> <li>Disconnected Session Timeout \u2013 Defines the period that a disconnected session remains disconnected before automatically being logged off.</li> <li>Idle Session Timeout \u2013 Defines the number of minutes that a continuously idle session remains active before being disconnected.</li> </ul> <p>The table below describes the key Session and Idle Timeout design decisions for the solution. </p> Decision Point Design Decision Justification Disconnected Session Timeout 8 hours To let users reconnect to their session during a standard workday. Idle Session Timeout 15 minutes Short idle timeout (or Machine inactivity limit) to ensure unattended virtual desktops are disconnected.  This is defined as per ACSC Windows 10 Hardening guide."},{"location":"patterns/azure-virtual-desktop/#access-and-connectivity","title":"Access and connectivity","text":""},{"location":"patterns/azure-virtual-desktop/#gateway-firewall","title":"Gateway firewall","text":"<p>AVD utilises a number of URLs for its associated services. It is important that firewall rules are configured to enable access to these services to ensure communication flow and that these communication paths are optimised, ideally outside of the chosen Edge Firewall within Azure.</p> <p>The blocking of these URLs is unsupported and will affect service functionality. These URLs only correspond to Azure Virtual Desktop sites and resources, and do not include URLs for other services like Azure Active Directory.</p> <p>The table below describes the key Gateway Firewall design decisions for the solution.</p> Decision Point Design Decision Justification Gateway Firewall Azure Firewall Azure Firewall is the recommended firewall solution and does not require a third-party solution. <ul> <li>Required Session Host Allow List</li> <li>These URLs are required to provide minimum AVD functionality.</li> <li>Note: AVD currently does not have a list of IP address ranges that can be unblocked to allow network traffic. Only the support of unblocking specific URLs is supported at this time.</li> <li>If using a Next Generation Firewall (NGFW), you will need to use a dynamic list specifically made for Azure IPs to make sure you can connect.     <pre><code>*.wvd.microsoft.com 443\ngcs.prod.monitoring.core.windows.net 443\nproduction.diagnostics.monitoring.core.windows.net 443\n*xt.blob.core.windows.net 443\n*eh.servicebus.windows.net 443\n*xt.table.core.windows.net 443\n*xt.queue.core.windows.net 443\ncatalogartifact.azureedge.net 443\nkms.core.windows.net 1688\nmrsglobalsteus2prod.blob.core.windows.net 443\nwvdportalstorageblob.blob.core.windows.net 443\n169.254.169.254 80 (Azure Instance Metadata service endpoint)\n168.63.129.16 80 (Session host health monitoring)  \n</code></pre></li> <li>Recommended Session Host Allow List</li> <li>These URLs are recommended to provide best user experience and functionality.     <pre><code>*.microsoftonline.com 443\n*.events.data.microsoft.com 443\nwww.msftconnecttest.com 443\n*.prod.do.dsp.mp.microsoft.com 443\nlogin.windows.net 443\n*.sfx.ms 443\n*.digicert.com 443\n*.azure-dns.com 443\n*.azure-dns.net 443\n</code></pre></li> <li>Required Remote Desktop Client Allow List</li> <li>These URLs are required to provide minimum Remote Desktop client functionality.     <pre><code>*.wvd.microsoft.com 443\n*.servicebus.windows.net 443\ngo.microsoft.com 443\naka.ms 443\ndocs.microsoft.com 443\nprivacy.microsoft.com 443\nquery.prod.cms.rt.microsoft.com 443\n</code></pre></li> </ul>"},{"location":"patterns/azure-virtual-desktop/#client-access","title":"Client access","text":"<p>The following client access methods are available to clients:</p> <ul> <li>Windows Remote Desktop Client \u2013 Installed on user devices and provides users with secure, self-service access to company resources including, applications, and desktops from any of the user's Windows devices.</li> <li>Web Client (HTML5) \u2013 Allows access to Azure Virtual Desktop resources from any HTML5 compatible web browser, without the lengthy installation process on the Windows Desktop client.</li> <li>Android Remote Desktop Client \u2013 Allows users to access Azure Virtual Desktop resources directly from an Android device or a Chromebook that supports the Google Play Store.</li> <li>MacOS Remote Desktop Client \u2013Allows users to access Azure Virtual Desktop resources from an Apple computer.</li> <li>iOS Remote Desktop Client \u2013 Allows users to access Azure Virtual Desktop resources directly from an iOS device (iPhones and iPads).</li> <li>RDP Shortpath \u2013 Is an Azure Virtual Desktop optimisation feature that allows the client device to establish a direct UDP-based connection between the Remote Desktop Client and the Session host. The feature requires that the client has routing capability into the Azure VNet where the Session hosts reside. This connection method offers a secure reliable and low latency connection directly to Azure for agencies that meet the requirements.</li> </ul> <p>The table below describes the Client Access design decisions for the solution. </p> Decision Point Design Decision Justification Primary Client Access Web Client (HTML5)Windows Desktop Client User will primarily access AVD resources using the Web Client (HTML5) and the Windows Desktop Client.The Windows Desktop client installed on a Windows Desktop client is the recommend client access method as it provides support for RDP Shortpath. Browser Support Microsoft EdgeApple SafariMozilla FirefoxGoogle Chrome All current browsers advised by Microsoft which have HTML5 compatibility will be supported. Conditional Access App Exclusions Exclude from blocking policies:Windows Virtual DesktopWindows Virtual Desktop ClientInclude in MFA grant policy:Windows Virtual DesktopWindows Virtual Desktop Client Exclusion of any \u201cAll Cloud Apps\u201d policies that prevent the use of Azure Virtual Desktop should be implemented to allow connectivity from non-agency endpoints. Conditional Access Session Control Set to 14 hours (when KMSI enabled) Session Control policy should be implemented to enforce MFA after long periods when KMSI (Keep me Signed In) is implemented. RDP Shortpath Configured RDP Shortpath should be enabled if there is line of sight to the Azure Landing Zone, as it offers better reliability and consistent latency when compared to an Internet connection."},{"location":"patterns/azure-virtual-desktop/#users-and-devices","title":"Users and devices","text":""},{"location":"patterns/azure-virtual-desktop/#user-personas","title":"User personas","text":"<p>Personas identify the user types, their requirements and represent the typical user-type for the solution. </p> <p>In order to identify how many distinct personas will be required to support all of the users, the following criteria will need to be considered.</p> <ul> <li>Personal pools - Do specific groups of users require dedicated virtual desktops, instead of pools? For example, security, compliance, high-performance, or noisy-neighbour requirements might lead to some users running on dedicated desktops that aren't part of a pooling strategy. You'll enter this information by specifying a host pool type of personal during the Azure Virtual Desktop host pool deployment.</li> <li>Density - Do specific groups of users require a lower-density desktop experience? For example, heavier density might require two users per virtual central processing unit (vCPU) instead of the light-user assumption of six users per vCPU. You'll enter density information in the pool settings of the Azure Virtual Desktop host pool deployment.</li> <li>Performance - Do specific groups of users require a higher-performance desktop experience? For example, some users require more memory per vCPU than the assumed 4 gigabytes (GB) of RAM per vCPU. You'll enter the VM sizing in the virtual machine details of the Azure Virtual Desktop host pool deployment.</li> <li>Graphical processing (GPU) - Do specific groups of users have greater graphical requirements? For example, some users require GPU-based VMs in Azure, as demonstrated in the Configure GPU for Azure Virtual Desktop - Azure guide for configuring GPU VMs.</li> <li>Azure region: Do specific groups of OS users operate from various geographic regions? . For example, before you configure the host pool, a user from each region should test latency to Azure by using Azure Virtual Desktop Experience Estimator tool. The test user should share the lowest-latency Azure region and the latency in milliseconds for the top three Azure regions.</li> <li>Business functions - Can the specific groupings of users be bucketed by business unit, charge code, or their business function? This type of grouping will help align corporate costs in later stages of operations.</li> <li>User count - How many users will be in each distinct persona?</li> <li>Max session counts - Based on geography and hours of operation, how many concurrent users are expected for each persona during maximum load?</li> </ul> <p>Distinctions in each of the preceding questions will start to illustrate user personas by business function, cost centre, geographic region, and technical requirements. The following table can aid in recording responses to populate a completed assessment or design document:</p> Criteria Persona Group 1 Persona Group 2 Persona Group 3 Pools Pooled Pooled Dedicated (security concerns) Density Light (6 users/vCPU) Heavy (2 users/vCPU) Dedicated (1 user/vCPU) Performance Low High memory Low GPU N/A Required N/A Azure region Australian Central Australian Central Australian Central User count 1,000 50 20 Session count 200 50 10 <p>The table below describes the User Personas design decisions for the solution.</p> Decision Point Design Decision Justification Number of User Personas The considerations above will define the number of unique user personas. The number of user personas needs to be outlined early in the design process as this will align the group distribution and Windows 10 image alignment for each persona. Personal and Pooled Images Pooled, where appropriate To ensure images are managed centrally, all will be configured as pooled images unless otherwise required. Authentication Requirements Username, password and Azure MFA All remote users will be configured to utilise Multi-Factor Authentication as per ISM guidelines. Azure MFA will be implemented for this purpose. User Personas The considerations above will define the user persona types Primary persona types that will be accessing the environment. User Permissions Active Directory Group membership aligned to User Persona The groups used to provide users access to the AVD production host pool resources. User Assignments Aligned to User Persona User assignment will be aligned to groupings aligned to the persona image type required."},{"location":"patterns/azure-virtual-desktop/#client-devices","title":"Client devices","text":"<p>This section provides guidance for the client device-types that may access the environment and the peripherals that may be connected to the virtual desktops for the solution.</p> <p>Consideration must be taken to determine the policy and features available to end users when accessing virtual desktops: </p> <ul> <li>Device Types \u2013 Define what type of device users will access these AVD app and desktop resources from. These may include Windows PC, Apple MacOS, and various mobile devices such as iPads, Android tablets and smart phones.</li> <li>Device Ownership \u2013 Dictates the policies that are applied to a session. For example, a BYOD device may receive a restricted set of policies that block copy and paste between their device and the virtual desktop.</li> </ul> <p>The table below describes the Client Devices design decisions for the solution.</p> Decision Point Design Decision Justification Device Ownership Corporate Devices (Intune Managed)BYOD Device (External AVD Access) Both corporate and BYOD devices may access the AVD solution. Device Types Corporate Devices (Windows)BYOD Devices (Any Supported AVD Platform) Government agencies primarily utilise PCs to access the environments and BYOD will need to access via a support platform or a HTML5 capable browser.A Windows Client desktop is the preferred method for supportability. Supported Client Devices and Web Clients See Supported Client Devices and Web Clients Any of the supported client devices or web clients can be used to access the AVD platform. Client Device Configuration Refer to Client Device Considerations table To meet the requirements of this solution. <p>Client Device Considerations table:</p> Decision Point Design Decision Justification Windows Desktop Client Version Latest version To ensure all security enhancements and feature availability.  Corporate devices will be managed centrally.For BYOD, users will be expected to install the client manually or use HTML5 client. The full desktop client is recommended. Base Installation Switches, if required <code>RemoteDesktop.msi /qn</code> Silent install for Remote Desktop client when using Device Management / AD Software Deployment. Auto Discovery Corporate Email Set up DNS TXT Record for Email Address Discovery. User Restrictions Corporate Devices - Intune ManagedNot ApplicableBYOD Device \u2013 User ManagedDrive redirection or mapping prohibitedLocal printing prohibitedClipboard prohibitedUSB redirection prohibited To enforce security requirements for data loss prevention.To copy data to environment it is recommend using USB file transfer from Intune PROTECTED devices using approved USB devices."},{"location":"patterns/bring-your-own-device/","title":"Bring your own device","text":""},{"location":"patterns/bring-your-own-device/#bring-your-own-device","title":"Bring Your Own Device","text":"<p>This pattern provides guidance for blueprint users to allow access to Microsoft 365 services from various personally owned devices, without the need to enroll those devices. This is referred to as \"bring your own device\" (BYOD), within an enterprise mobility strategy.</p> <p>BYOD allows users to perform their work in a flexible manner within specific use-cases allowing access to corporate systems from personally owned devices across multiple business personas. BYOD provides a range of benefits including more flexible working arrangements for employees creating greater business agility for the Agency, catering for use cases such as:</p> <ul> <li>Working remotely from within another government Agency premises,</li> <li>Travel or working from home,</li> <li>Ad-hoc access to calendar and mail,</li> <li>Microsoft Teams collaboration and chat, and</li> <li>Accessing multiple tenants from a single device.</li> </ul> <p>The pattern works through various use cases and configuration required on top of the Protected Utility blueprint, taking into account vendor best practice configuration advice on this area from Microsoft's BYOD blueprint.</p> <p>It is recommended to read the ACSC risk management publication for enterprise mobility. See Risk Management of Enterprise Mobility Including Bring Your Own Device.</p> <p>This pattern suggests two BYOD access options dependent on the risk appetite of the Agency and provides some known risk and ISM control guidance. </p> <p>Agencies adopting BYOD should perform their own risk assessments and follow ACSC guidance in regards to the requirements surrounding the platform and adequate separation between private and corporate data.</p> <p>It is not recommended to process or store sensitive or classified (OFFICIAL:Sensitive and above) data on non-corporately managed devices. For commonwealth entities, non-sensitive data is marked as OFFICIAL.</p> <p>This pattern does not discuss Agency policy surrounding the use of personally/privately-owed devices. The following guidance from the ACSC for OFFICIAL and PROTECTED BYOD implementation is:</p> <ul> <li>Legal advice is sought prior to allowing privately-owned mobile devices to access systems or data (ISM control 1297)</li> <li>Personnel accessing OFFICIAL and PROTECTED systems or data using a privately-owned mobile device use an ACSC approved platform, a security configuration in accordance with ACSC guidance and have enforced separation of work data from any personal data (ISM control 1400) </li> </ul> <p>The Protected Utility blueprint does not specify any particular BYOD solution, allowing Agencies to implement a solution that best meets their needs.</p> <p>The technical controls that are described in this document have been grouped into two options that can be implemented together or separately, to provide various BYOD use cases:</p> <p>Mobile device access</p> <ul> <li>Allows access to some Microsoft 365 applications from personal mobile devices</li> <li>Granular control of user policies, session controls using Microsoft Defender for Cloud Apps when protecting browser apps</li> <li>Intune Application Protection policies to enforce secure containerisation for company data</li> <li>Conditional Access enforced Agency approved apps for Mobile Devices</li> <li>Suits personas for ad-hoc access to Teams, SharePoint and Outlook on Android and iOS phone or tablet devices</li> <li>Agencies to risk assess for their environment and data classification</li> <li>This BYOD option is not recommended for use cases involving access to sensitive or classified information.</li> </ul> <p>Virtual desktop</p> <ul> <li>Azure virtual desktop requires an Azure subscription</li> <li>Uses Azure Virtual Desktop (AVD) to provide a desktop experience that closely matches the corporate desktop, including legacy application access</li> <li>Supports any client device able to access AVD</li> <li>Lower security risk approach compared to mobile device, but offers greater use cases</li> <li>More complexity and cost involved to deploy and operate</li> <li>Suits personas for enterprise mobility, including cross-Agency working</li> <li>Agencies to risk assess for their environment and data classification.</li> </ul> <p></p>"},{"location":"patterns/bring-your-own-device/#assumptions","title":"Assumptions","text":"<p>The following represent the assumptions when considering to deploy either BYOD options into an existing blueprint deployment:</p> <ul> <li>Protected Utility blueprint deployed in a cloud-only or hybrid pattern</li> <li>Licensing as per the DTA PROTECTED utility</li> <li>Azure Virtual Desktop requires a suitable Azure subscription</li> </ul>"},{"location":"patterns/bring-your-own-device/#prerequisites","title":"Prerequisites","text":"<p>The following represent the prerequisites before deploying the selection BYOD option.</p> <p>All deployment types:</p> <ul> <li>Protected Utility blueprint AVD pattern to be deployed for the virtual desktop pattern, see Azure Virtual Desktop pattern</li> </ul> <p>Cloud native:</p> <ul> <li>No cloud-only specific prerequisites</li> </ul> <p>Hybrid:</p> <ul> <li>No hybrid only specific prerequisites</li> </ul>"},{"location":"patterns/bring-your-own-device/#byod-options","title":"BYOD Options","text":""},{"location":"patterns/bring-your-own-device/#options-comparison","title":"Options comparison","text":"Options Use-Cases Complexity to implement Risk considerations Mobile device access (Option 1) Provides ad-hoc access on the road and in the office to email, Teams and SharePoint from personally owned mobile devices such as iOS and Android devices. Use-case provides some offline access if connectivity is limited.Not suitable for OFFICIAL:Sensitve and above (sensitive or classified data). Easiest Inability to enforce device security controlsLimited ability to check compliance for zero trustLost phone, potential inability to remote data wipe as phone is not fully managed Virtual desktop (Option 2) Provided through the Azure Virtual Desktop service, this provides a full Windows working environment similar to the corporate desktop. Access is available from a user's personal Windows or Mac device to access the virtual desktop.Remote working within another government Agency or partner environment.Legacy or non-cloud corporate applications (hybrid) can operate with this use-case.Use case requires always-on Internet connection. More difficult Greater compliance with PROTECTED-level ISM controls and the Essential EightScreen shot/scraping and physical security (e.g. taking picture of the screen) is a residual risk <p>The following process can be followed to determine which pattern option to follow.</p> <p></p>"},{"location":"patterns/bring-your-own-device/#security-considerations","title":"Security Considerations","text":"<p>Introducing BYOD carries some risk for the Agency. While some controls can be addressed through a technical control, others require user training and Agency policy (for example, Standard Operating Procedures (SOPs)) in place to ensure responsibilities are met and understood, and the appropriate mitigations are in place.</p> <p>The following controls while not exhaustive should be a focus while assessing the risk for BYOD under an enterprise mobility strategy. </p> <p>Note, refer to the System Security Plan for full traceability against all controls for the Protected Utility blueprint outside of this pattern.</p>"},{"location":"patterns/bring-your-own-device/#ism-controls","title":"ISM Controls","text":"Control Description Option 1 (mobile device) Option 2 (AVD) 1533 A mobile device management policy is developed and implemented. Agency to address Not applicable 1195 A Mobile Device Management solution is used to ensure mobile device management policy is applied to all mobile devices. Not implemented Not applicable 1400 Personnel accessing official or classified systems or data using a privately-owned mobile device use an ACSC approved platform, a security configuration in accordance with ACSC guidance, and have enforced separation of official and classified data from any personal data. Partially implemented Not applicable 1297 Legal advice is sought prior to allowing privately-owned mobile devices to access official or classified systems or data. Agency to address Not applicable 0869 All data on mobile devices is encrypted using at least an Australian Signals Directorate Approved Cryptographic Algorithm. Implemented Not applicable 1085 Mobile devices used to communicate sensitive or classified data over public network infrastructure use encryption approved for communicating such data over public network infrastructure. Implemented Not applicable 1202 The range of Bluetooth communications between mobile devices and other Bluetooth devices is restricted to less than 10 metres by using class 2 or class 3 Bluetooth devices. Not Implemented Not applicable 1196 Mobile devices are configured to remain undiscoverable to other Bluetooth devices except during Bluetooth pairing. Not implemented Not applicable 1200 Bluetooth pairing is performed using Bluetooth version 2.1 or later. Not implemented Not applicable 1198 Bluetooth pairing is performed in a manner such that connections are only made between intended Bluetooth devices. Not implemented Not applicable 1199 Bluetooth pairings are removed from mobile devices when there is no longer a requirement for their use. Not implemented Not applicable 0863 Mobile devices prevent personnel from installing or uninstalling applications once provisioned. Not implemented Not applicable 0864 Mobile devices prevent personnel from disabling or modifying security functions once provisioned. Not implemented Not applicable 1365 Mobile carriers that are able to provide timely security updates for mobile devices are used. Partially implemented through O/S version control (App Protection policy) Not applicable 1366 Mobile devices are able to accept security updates from mobile carriers as soon as they become available. Partially implemented through O/S version control Not applicable 0874 Web browsing from mobile devices is conducted through an organisation\u2019s internet gateway rather than via a direct connection to the internet. Not implemented Not applicable 0705 When accessing an organisation system via a VPN connection, split tunnelling is disabled. Not applicable Not applicable 1082 A mobile device usage policy is developed and implemented. Agency to address Agency to address 1083 Personnel are advised of the sensitivity or classification permitted for voice and data communications when using mobile devices. Agency to address Agency to address 0240 Paging, Multimedia Message Service, Short Message Service or instant messaging apps are not used to communicate sensitive or classified data. Implemented through MAM-WE, cannot share data with native apps Not applicable 0866 Sensitive or classified data is not viewed or communicated in public locations unless care is taken to reduce the chance of the screen of a mobile device being observed. Agency to address Agency to address 1644 Sensitive or classified phone calls are not conducted in public locations unless care is taken to reduce the chance of conversations being overheard. Agency to address Agency to address 0871 Mobile devices are kept under continual direct supervision when being actively used. Agency to address Agency to address 0870 Mobile devices are carried or stored in a secured state when not being actively used. Agency to addressProtection via inactivity lockouts is implemented Agency to addressProtection via inactivity lockouts is implemented 1084 If unable to apply encryption to mobile devices that is suitable for them to be carried through areas not authorised to process the data stored on them, they are physically transferred in a security briefcase or an approved multi-use satchel, pouch or transit bag. Implemented (data is encrypted in container and protected via credential) Data not stored outside of AVD session but screenshot to physical device is possible 0701 A mobile device emergency sanitisation process, and supporting mobile device emergency sanitisation procedures, is developed and implemented. Agency to develop SOP to selectively wipe container when required. Refer to How to Selective Wipe Not applicable, no data on mobile device 1298 Personnel are advised of privacy and security risks when travelling overseas with mobile devices. Agency to address Not applicable 1554 If travelling overseas with mobile devices to high/extreme risk countries, personnel are:issued with newly provisioned accounts and devices from a pool of dedicated travel devices which are - used solely for work-related activities- advised on how to apply and inspect tamper seals to key areas of devices- advised to avoid taking any personal devices, especially if rooted or jailbroken. Agency to address, MAM policy to prevent jailbreak/rooted Not applicable 1555 Before travelling overseas with mobile devices, personnel take the following actions:- record all details of the devices being taken, such as product types, serial numbers and International Mobile Equipment Identity numbers- update all applications and operating systems- remove all non-essential accounts, applications and data- apply security configuration settings, such as lock screens- configure remote locate and wipe functionality- enable encryption, including for any media used- backup all important data and configuration settings. Agency to address Selective wipe available when requiredO/S version control availableScreenlock and mandatory passcodes enforced with MFA Not applicable 1299 Personnel take the following precautions when travelling overseas with mobile devices:- never leaving devices or media unattended for any period of time, including by placing them in checked-in luggage or leaving them in hotel safes- never storing credentials with devices that they grant access to, such as in laptop bags - never lending devices to untrusted people, even if briefly - never allowing untrusted people to connect other devices or media to their devices, including for charging- never using designated charging stations, wall outlet charging ports or chargers supplied by untrusted people- avoiding connecting devices to open or untrusted Wi-Fi networks- using an approved Virtual Private Network to encrypt all device communications- using encrypted mobile applications for communications instead of using foreign telecommunication networks- disabling any communications capabilities of devices when not in use, such as cellular data, wireless, Bluetooth and Near Field Communication- avoiding reuse of media once used with other parties\u2019 devices or systems- ensuring any media used for data transfers are thoroughly checked for malicious code before - never using any gifted devices, especially media, when travelling or upon returning from travelling. Agency to address Not applicable 1088 Personnel report the potential compromise of mobile devices, media or credentials to their organisation as soon as possible, especially if they:- provide credentials, decrypt devices or have devices taken out of sight by foreign government officials- have devices or media stolen that are later returned - lose devices or media that are later found- observe unusual behaviour of devices. Agency to address Not applicable 1300 Upon returning from travelling overseas with mobile devices, personnel take the following actions:- sanitise and reset devices, including all media used with them- decommission any physical credentials that left their possession during their travel- report if significant doubt exists as to the integrity of any devices following their travel. Agency to address Not applicable 1556 If returning from travelling overseas with mobile devices to high/extreme risk countries, personnel take the following additional actions:- reset user credentials used with devices, including those used for remote access to their organisation\u2019s systems- monitor accounts for any indicators of compromise, such as failed login attempts. Agency to address Not applicable"},{"location":"patterns/bring-your-own-device/#mobile-device-access-byod-option-1","title":"Mobile device access (BYOD Option 1)","text":"<p>The Mobile device access option will leverage:</p> <ul> <li> <p>Azure Active Directory Multi-Factor Authentication (MFA) and Conditional Access policies</p> </li> <li> <p>Defender for Cloud Apps to prevent data leakage and spills</p> </li> <li> <p>Intune - Application Protection Policies.</p> </li> </ul> <p>The outcome will allow the end user to:  - Access email using Outlook on their personal Mobile Device.  - Access Teams on their personal Mobile Device  - Access SharePoint Online on their personal Mobile Device  - Use of Word, Excel, PowerPoint approved mobile apps.</p> <p>Mobile devices in the context of this BYOD option are smart phones or tablets running Apple iOS or Android.</p>"},{"location":"patterns/bring-your-own-device/#mobile-application-management","title":"Mobile Application Management","text":"<p>Access via Mobile Application Management (MAM) is provided through approved applications published by Microsoft to the respective app store (Apple AppStore or Google Play Store). </p> <ul> <li>Intune app protection policies provide a container policy to the applications to secure corporate data, and prevent download upload, copy and paste actions, and enforce a PIN/appropriate passcode. </li> <li>A MAM model does not require the device to be managed (MDM) or enrolled so will carry additional risk. Intune app protection MAM policies can be applied without enrolment requirement, this is referred to as MAM without enrolment (MAM-WE). Approved applications can be defined through the Conditional Access policies.  Conditional Access policies can be applied based on various attributes such as device state, user group or location.</li> <li>With MAM, iOS devices do not require Apple Business Manager or Apple Push Notification Service certificate configuration (the configuration in the blueprint for MDM can be ignored if this pattern is the only method for Mobile Devices for the Agency). Without MDM policies and enrolment, various functions cannot be prevented such as the ability to restrict screenshot for example.</li> <li>To protect the data in the event that a device is lost or stolen or if the employee leaves the Agency, Selective Wipe capability can be used to wipe the corporate data in managed apps from the device. Intune app protection policies can help prevent data contamination between non managed apps on a client device.</li> <li>Agencies should provide some guidance or user guides to their users on how to install the Office applications on their devices and authenticate to avoid confusion. Note, these actions and out-of-the-box setup are generally automated within a supervised, managed deployment. </li> </ul>"},{"location":"patterns/bring-your-own-device/#azure-ad-identity-protection","title":"Azure AD Identity Protection","text":"<p>Azure AD Identity Protection is an Azure AD feature that protects the identity through:</p> <ul> <li>automation of detection and remediation of identity-based risks,</li> <li>includes additional challenge to user based on risk detection in real time, and</li> <li>Provides a portal for identify based investigation.</li> </ul>"},{"location":"patterns/bring-your-own-device/#defender-for-cloud-apps","title":"Defender for Cloud Apps","text":"<p>Defender for Cloud Apps (formerly Microsoft Cloud App Security (MCAS)) provides capabilities that can restrict access to only authorised platforms and device types and can minimise the risk of data loss and spills within a supported app or browser. Defender for Cloud App Session Control is enabled through Conditional Access policies (App Control), which enables Defender for Cloud App to act as a Cloud Access Security Broker (CASB) for the connection from the browser to the data source. Further control through the CASB can:</p> <ul> <li>Block data upload/download</li> <li>Check device characteristics</li> <li>Block printing</li> <li>Block copy/paste actions</li> </ul>"},{"location":"patterns/bring-your-own-device/#implementation-decisions","title":"Implementation Decisions","text":"<p>The following tables describe the high level implementation decisions</p> Decision Point Design Decision Justification Mobile device use cases Authorised applications on iOS and Android devices without MDM enrollment (MAM) Allowing MAM on these device platforms offers great flexibility but also greater risk than full application access on managed Windows devices. Less risk can be provided by the virtual desktop BYOD option. Conditional Access Conditional Access will be configured with exception group for those trusted for MAM Provides a Zero Trust method to restrict access to this use case only and allows Protected Utility blueprint baseline configuration for remainder of Agency that do not require BYOD for their persona. Defender for Cloud Apps Cloud App security Session policies will restrict access to data within browser sessions Provides a Zero Trust method to restrict access to leaking of data. Intune app protection policies App protection polices will be deployed to the MAM identity groups without enrollment required (MAM-WE) Provides some protection against Agency data within a managed app. Protection will require a passcode within the app, control sharing of data between apps and prevent copy of data to personal locations. This allows separation between corporate and personal data to address the intent of ISM security control 1400. Azure AD Identity Protection Blueprint configuration will remain in place enabling Enable the sign-in risk policy and user risk policy within the Azure AD tenant Provide reporting of detected suspicious sign-in activity based on defined MFA, sign-in risk and user risk policies for increased security and automated remediation steps such as requiring a password change or MFA challenge when authentication is suspicious. Multi Factor Authentication Multi Factor authentication for this use-case will always be enforced. As per the blueprint baselines defined within the platform design."},{"location":"patterns/bring-your-own-device/#byod-option-1-configuration-guide","title":"BYOD Option 1 configuration guide","text":"<p>The configuration options provided here assume that the PROTECTED utility has been implemented.</p>"},{"location":"patterns/bring-your-own-device/#azure-ad-groups","title":"Azure AD Groups","text":"<p>The following updates are required within Azure AD.</p> <p><code>Azure Active Directory &gt; Groups</code></p> Item Value New Group: rol-Agency-MAMUsers Type: SecurityMembership: Statically assigned"},{"location":"patterns/bring-your-own-device/#app-protection-policies","title":"App Protection Policies","text":"<p>The following updates are required to existing app protection policies.</p> <p><code>Microsoft Endpoint Manager &gt; Apps &gt; App protection policies &gt; iOS App Protection Policy</code></p> Item Value Existing policy name: iOS App Protection Policy Assignment: Exclude Group - rol-Agency-MAMUsers"},{"location":"patterns/bring-your-own-device/#conditional-access-polices","title":"Conditional Access Polices","text":"<p>The following updates are required to the following Conditional Access Policies as deployed standard within the blueprint.</p> <p><code>Azure AD Conditional Access &gt; Policies</code></p> Item Value Existing policy name: GRANT - iOS Device access This policy requires iOS device state to be compliant which requires enrollment. The update required to this policy is the exclude the MAM users group.Assignments &gt; Exclude &gt; rol-Agency-MAMUsers <p>The following is a new Conditional Access Policy to allow MAM access for BYOD option 2.</p> Item Value New policy name: GRANT - MAM BYOD access Authorised applications on iOS and Android devices  without MDM enrollment (MAM). <ul> <li>Name: <code>GRANT \u2013 MAM BYOD access</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>rol-Agency-MAMUsers</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>Select apps</code></li> <li><code>Office 365</code></li> <li>Exclude: None</li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>Yes</code></li> <li>Include: <code>Select device platforms</code><ul> <li><code>iOS</code></li> <li><code>Android</code></li> </ul> </li> <li>Exclude: <ul> <li><code>Windows Phone</code></li> <li><code>Windows</code></li> <li><code>macOS</code></li> <li><code>Linux</code></li> </ul> </li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>Yes</code></li> <li>Browser: <code>Yes</code></li> <li>Mobile apps and desktop clients: <code>True</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Other clients: <code>False</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>No</code></li> <li>Grant access: <code>Yes</code></li> <li>Require multi-factor authentication: <code>True</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>True</code></li> <li>Require app protection policy: <code>True</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>Yes</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>True</code></li> <li>Use Conditional Access App Control: <code>True &gt; Custom policy</code></li> <li>Sign-in frequency: <code>8 Hours</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul> <p>The following is a new Conditional Access Policy to allow block unapproved apps for MAM users on iOS and Android.</p> Item Value New policy name: BLOCK - MAM BYOD unapproved apps Block all applications that are not Office 365 on iOS and Android devices. <ul> <li>Name: <code>BLOCK \u2013 MAM BYOD unapproved cloud apps</code></li> <li>Assignments</li> <li>Users and groups<ul> <li>Include: <code>rol-Agency-MAMUsers</code></li> <li>Exclude</li> <li>All guest and external users: <code>False</code></li> <li>Directory roles: <code>False</code></li> <li>Users and groups: <code>True</code><ul> <li>Excluded users and groups: <code>grp-Conditional_Access_Exclude</code></li> </ul> </li> </ul> </li> <li>Cloud apps or actions<ul> <li>Select what policy this applies to: <code>Cloud apps</code></li> <li>Include: <code>All cloud apps</code></li> <li>Exclude: <code>Select apps</code></li> <li><code>Office 365</code></li> <li><code>Azure Virtual Desktop</code></li> </ul> </li> <li>Conditions<ul> <li>User risk:</li> <li>Configure: <code>No</code></li> <li>Sign-in risk</li> <li>Configure: <code>No</code></li> <li>Device platforms:</li> <li>Configure: <code>Yes</code></li> <li>Include: <code>Select device platforms</code><ul> <li><code>iOS</code></li> <li><code>Android</code></li> </ul> </li> <li>Exclude: <ul> <li><code>Windows Phone</code></li> <li><code>Windows</code></li> <li><code>macOS</code></li> <li><code>Linux</code></li> </ul> </li> <li>Locations:</li> <li>Configure: <code>No</code></li> <li>Client apps</li> <li>Configure: <code>No</code></li> <li>Browser: <code>False</code></li> <li>Mobile apps and desktop clients: <code>False</code></li> <li>Exchange ActiveSync clients: <code>False</code></li> <li>Other clients: <code>False</code></li> <li>Device state:</li> <li>Configure: <code>No</code></li> </ul> </li> <li>Access controls</li> <li>Grant<ul> <li>Block access: <code>Yes</code></li> <li>Grant access: <code>No</code></li> <li>Require multi-factor authentication: <code>False</code></li> <li>Require device to be marked as compliant: <code>False</code></li> <li>Require Hybrid Azure AD joined device: <code>False</code></li> <li>Require approved client app: <code>False</code></li> <li>Require app protection policy: <code>False</code></li> <li>Require password change: <code>False</code></li> <li>Terms of Use: <code>False</code></li> <li>Require all the selected controls: <code>No</code></li> <li>Require one of the selected controls: <code>No</code></li> </ul> </li> <li>Session</li> <li>Use app enforced restrictions: <code>False</code></li> <li>Use Conditional Access App Control: <code>False</code></li> <li>Sign-in frequency: <code>False</code></li> <li>Persistent browser session: <code>False</code></li> <li>Enable policy: <code>On</code></li> </ul>"},{"location":"patterns/bring-your-own-device/#defender-for-cloud-app-policies","title":"Defender for Cloud App Policies","text":"<p>The following policies provide protection while connected over a browser session.</p> <p><code>portal.cloudappsecurity.com &gt; Control &gt; Create Session policies</code></p> <p>Defender for Cloud App session policy for blocking copy/paste</p> Setting Value Policy template Block cut/copy and paste based on real time content inspection Policy name BLOCK - Copy and paste Policy severity Low Category DLP Description Defender for Cloud Apps will evaluate the content of items that are cut/copied from and/or pasted to a browser and will block any violations in real-time. Session control type Block activities Activity source Activity type equals Cut/Copy item, Paste item Action Block <p>Defender for Cloud App session policy for block download</p> Setting Value Policy template Block cut/copy and paste based on real time content inspection Policy name BLOCK - Download Policy severity Low Category DLP Description Defender for Cloud Apps will evaluate the content of files being downloaded and will block any violations in real-time. Session control type Control file download (with inspection) Activity source None Inspection Method None Action Block <p>Defender for Cloud App session policy for block printing</p> Setting Value Policy template None Policy name BLOCK - Print Policy severity Low Category DLP Description Defender for Cloud Apps will evaluate the action of printing and block it Session control type Block activities Activity source None Inspection Method None Action Block <p>Defender for Cloud App session policy for block outdated OS</p> Setting Value Policy template None Policy name BLOCK - outdated OS Policy severity Low Category Access Control Description Defender for Cloud Apps will evaluate the outdated OS and block it Session control type Block activities Activity source User agent tag equals Outdated operating system, App equals Office 365, Activity type is set Inspection Method None Action Block"},{"location":"patterns/bring-your-own-device/#intune-app-protection-polices-mam-we","title":"Intune App Protection Polices (MAM-WE)","text":"<p>The following updates are required for managed application on iOS and Android.</p> <p><code>Microsoft Endpoint Manager &gt; Apps &gt; App protection policies</code></p>"},{"location":"patterns/bring-your-own-device/#ios-mam-app-protection-policy-without-enrollment","title":"iOS MAM app protection policy without enrollment","text":"Setting Value Name iOS MAM App Protection Policy Platform iOS/iPadOS Apps Target Apps on all device types No (Unmanaged) Target policy to Selected Apps Public Apps Microsoft EdgeMicrosoft ExcelMicrosoft OutlookMicrosoft PowerPointMicrosoft WordMicrosoft SharePointMicrosoft TeamsMicrosoft OneDrive Data Protection Backup or data to iTunes and iCloud Block Send org data to other apps Policy managed apps with Open-In/Share filtering Save copies of org data Block Allow user to save copies to selected services One Drive for BusinessSharePoint Transfer telecommunication data to Any dialer app Receive data from other apps Policy managed apps Restrict cut, copy and paste between other apps Policy managed apps with paste in Cut and copy character limit for any app 0 Third party keyboards Block Encrypt Org Data Require Sync policy managed app data with native apps or add-ins Block Printing org data Block Restrict web content transfer with other apps Microsoft Edge Org data notifications Block Access requirements PIN for access Require PIN type Passcode Simple PIN Block Select minimum PIN length 14 Touch ID instead of PIN for access Allow Override biometrics with PIN after timeout Require Timeout 30 minutes Face ID instead of PIN for access Allow PIN reset after number of days Yes Number of days 365 App PIN when device pin is set Require Work or school account credentials for access Not required Conditional Launch Max PIN attempts 5 (reset pin) Offline grace period 720 minutes (Block access) Offline grace period 30 days  (Wipe data) Jailbroken/rooted devices Block access Min OS version 15.0 (Block access)Note: define latest version at time of configure Disabled account Block access Assignments Included groups rol-Agency-MAMUsers"},{"location":"patterns/bring-your-own-device/#android-mam-app-protection-policy-without-enrollment","title":"Android MAM app protection policy without enrollment","text":"Setting Value Name Android MAM App Protection Policy Platform Android Apps Target Apps on all device types No (Unmanaged) Target policy to Selected Apps Public Apps Microsoft EdgeMicrosoft ExcelMicrosoft OutlookMicrosoft PowerPointMicrosoft WordMicrosoft SharePointMicrosoft TeamsMicrosoft OneDrive Data Protection Backup or data to Android backup services Block Send org data to other apps Policy managed apps with Open-In/Share filtering Save copies of org data None Allow user to save copies to selected services One Drive for BusinessSharePoint Transfer telecommunication data to Any dialer app Receive data from other apps Policy managed apps Restrict cut, copy and paste between other apps Policy managed apps with paste in Screen capture and Google Assistance Block Cut and copy character limit for any app 0 Approved keyboards Gboard - the Google KeyboardSwiftKey KeyboardSamsung KeyboardGoogle Indic KeyboardGoogle Pinyin InputGoogle Japanese InputGoogle Korean InputGoogle Handwriting InputGoogle voice typingSamsung voice inputSamsung Keyboard Encrypt Org Data Require Sync policy managed app data with native apps or add-ins Block Printing org data Block Restrict web content transfer with other apps Microsoft Edge Org data notifications Block Access requirements PIN for access Require PIN type Passcode Simple PIN Block Select minimum PIN length 8 Fingerprint instead of PIN for access Allow Override fingerprint with PIN after timeout Require Timeout 30 minutes Biometrics instead of PIN for access Allow PIN reset after number of days Yes Number of days 365 Select number of pervious PIN values to maintain 3 App PIN when device pin is set Require Work or school account credentials for access Not required Recheck the access requirements after inactivity 15 minutes Conditional Launch Max PIN attempts 5 (reset pin) Offline grace period 720 minutes (Block access) Offline grace period 30 days  (Wipe data) Jailbroken/rooted devices Block access Min OS version 12.0 (Block access)Note: define latest version at time of configure Disabled account Block access Assignments Included groups rol-Agency-MAMUsers"},{"location":"patterns/bring-your-own-device/#virtual-desktop-byod-option-2","title":"Virtual desktop (BYOD Option 2)","text":"<p>The virtual desktop (Azure Virtual Desktop) device access option will leverage:</p> <ul> <li>Azure AD MFA and Conditional Access policies</li> <li>Secure Azure compute boundary that will provide the environment where data is accessed, creating full separation between the personal device and the corporate desktop.</li> </ul> <p>The outcome will allow the end user to: </p> <ul> <li>Access all M365 applications, from within the virtual desktop only</li> <li>Access all other corporate applications, from within the virtual desktop only</li> <li>Prevent copy, paste, saving of files and printing on the Mobile Device.</li> </ul> <p>The recommendation to implement this option is to utilise the Azure Virtual Desktop blueprint pattern. The solution requires architectural decisions to be made that are outside the scope of this pattern. This BYOD option is more difficult to implement than the MAM BYOD option 1, but offers a less complex implementation than other virtual desktop solutions.</p> <p>The pattern recommends the following:</p> <ul> <li>A suitably configured Azure subscription is available, which may include connectivity to the Agency's IT premises (e.g. data centre) where connectivity to hybrid Active Directory or corporate apps is required.</li> <li>Windows Desktop OS multi-session operation system is used to offer greater supportability and cost savings than that of a single instance virtual machines.</li> <li>Conditional Access policies are configured to allow access to the AVD application without enrollment or restriction, and to allow access to Microsoft 365 applications inside the virtual desktop. This will allow personal devices to connect to the service without restriction but only the virtual desktop to access the data.</li> <li>Copy and paste actions, file copy and print are prevented within RDP client properties and group policy to prevent virtual channels being used to copy data in and out of the PROTECTED boundary (the virtual desktop).</li> <li>Multifactor authentication is enforced with session controls to prevent multiple day use of the MFA token.</li> <li>Identity Protection is configured to allow detection of risky sign-ins.</li> </ul> <p>Mobile devices or personal devices in the context of this BYOD option are consumer desktop devices using MacOS or Windows, or devices provided by another government Agency (cross-Agency working use-cases).</p>"},{"location":"patterns/bring-your-own-device/#data-segregation","title":"Data segregation","text":"<p>AVD allows users access to Office 365 applications that are hosted on a Windows virtual desktop, including any hybrid applications provided these are configured appropriately within the Azure environment. The user interacts with the applications within the virtual desktop preventing the user from extracting corporate data to the local physical device.</p> <p>Virtual desktops provide a greater level of security accessing Agency data over a MAM solution (option 1) as all the data remains within the Azure secure boundary (the Azure enterprise landing zone).</p>"},{"location":"patterns/bring-your-own-device/#client-device-access","title":"Client device access","text":"<p>The mobile device used to access the virtual desktop is not limited to a particular platform, but a Windows client device is recommended. Users can choose from using a HTML5 web browser (e.g. Edge or Chrome), or the official Azure Virtual Desktop client, to access the virtual desktop. </p>"},{"location":"patterns/bring-your-own-device/#implementation-decisions_1","title":"Implementation Decisions","text":"<p>The following tables describe the high level implementation decisions</p> Decision Point Design Decision Justification Mobile device use cases Personal device access to a corporate Windows virtual desktop. Offers greater level of access to applications and data and less risk exposure than MAM data separation. Conditional Access Conditional Access will be configured with exception group for those trusted for AVD Provides a Zero Trust method to restrict access to this use case only and allows Protected Utility blueprint baseline configuration for remainder of Agency that don't require virtual desktops for their job role. Azure Virtual Desktop design Protected Utility blueprint Azure Virtual Desktop pattern The Protected Utility blueprint Azure Virtual Desktop pattern provides advice to deploy a secure enterprise virtual desktop solution on Azure with suitable controls to operate at PROTECTED.Note: Agencies should risk assess their own design or deployment of this pattern to determine suitability to operate in their environment."},{"location":"patterns/bring-your-own-device/#byod-option-2-configuration-guide","title":"BYOD Option 2 configuration guide","text":"<p>Further implementation advice is provided in the Protected Utility blueprint Azure Virtual Desktop pattern. This guide is a bolt-on pattern to the Protected Utility blueprint.</p>"},{"location":"security/cloud-assessment-and-authorisation-alignment/","title":"Cloud assessment and authorisation alignment","text":""},{"location":"security/cloud-assessment-and-authorisation-alignment/#cloud-assessment-and-authorisation-alignment","title":"Cloud assessment and authorisation alignment","text":"<p>4 minutes to read - 30 March 2023</p> <p>The purpose of this document is to provide guidance on how the Protected Utility blueprint developed by the Digital Transformation Agency (DTA) aligns with the Cloud Security Guidance issued by the Australian Cyber Security Centre (ACSC).</p> <p>The ACSC's Cloud Security Guidance suite of documents provides advice to organisations, including Government agencies, on how to perform an assessment of a Cloud Service Provider and its cloud services. The guidance aims to enable organisations to make risk-informed decisions on cloud solutions and their suitability to safely handle the organisations data.</p> <p>This document explains how the three key phases of Cloud Assessment and Authorisation would apply to agencies using the blueprint to introduce a new desktop environment. </p> <p></p>"},{"location":"security/cloud-assessment-and-authorisation-alignment/#anatomy-of-a-cloud-assessment-and-authorisation","title":"Anatomy of a cloud assessment and authorisation","text":"<p>The Protective Security Policy Framework (PSPF) requires applicable Federal and State Government agencies to secure their ICT systems by applying the controls within the Information Security Manual (ISM). It also requires that a formal risk assessment and authorisation (process occur when an ICT system is being introduced into service.</p> <p>This authorisation process is articulated in the Anatomy of a Cloud Assessment and Authorisation document issued by the ACSC, which describes the three (3) phases Cloud Consumers (i.e., the organisation or agency who will be deploying the blueprint), should take to assess and accept a cloud service and solution into service. In the context of the blueprint, Microsoft is the Cloud Service Provider (CSP), with Cloud Services being Microsoft products such as Microsoft 365 and Azure.</p> <p>Whilst the DTA has designed the blueprint to meet the ISM requirements for the classification level of PROTECTED, agencies must still assess for themselves whether the blueprint design meets their own particular security needs and requirements.</p> <p></p>"},{"location":"security/cloud-assessment-and-authorisation-alignment/#phase-1-csp-security-fundamentals-and-cloud-services-assessment","title":"Phase 1: CSP security fundamentals and cloud services assessment","text":"<p>The purpose of Phase 1 is to ensure that security of the CSP and their cloud services are appropriately assessed, and that Cloud Consumers review these assessments to determine if the CSP is appropriate for their security needs and risk tolerances. </p> <p>Microsoft and its services used within the blueprint has undergone assessment by an ASD endorsed IRAP assessor. The findings of this assessment are captured within the Cloud Security Assessment and IRAP Reports for Microsoft 365 and Azure available from Microsoft.</p> <p>Organisations intending to deploy the blueprint are responsible for reviewing these reports to confirm that Microsoft's products and services provide the required level of security. An organisations Authorising Officer (i.e. the individual with the authority to decide if a system can be used within the agency) should formally document this review and eventual decision.</p> <p></p>"},{"location":"security/cloud-assessment-and-authorisation-alignment/#phase-2-cloud-consumer-systems-assessment-authorisation","title":"Phase 2: cloud consumer systems assessment authorisation","text":"<p>During Phase 2, the Cloud Consumer assesses how it has implemented and configured the cloud services assessed in Phase 1 to ensure that it meets the cloud consumer's own security requirements and risk tolerance. </p> <p>Phase 2 is when organisations deploying the blueprint must assess whether the design and implementation of the blueprint is acceptable to them. While the blueprint delivers a pre-existing design and supporting documentation which can be leveraged by an agency to efficiently deliver a solution, it is still up to individual organisations to assess and accept that any risks associated with the operation of the blueprint is acceptable.</p> <p>Organisations are free to develop their own policy on how assessment and authorisation is to take place. It is recommended that organisations capture the findings from Phase 1 and Phase 2a in a Cloud Authorisation Package which includes:</p> <ul> <li>The Microsoft cloud security assessment reports;</li> <li>Any supplementary, new or updated cloud services report (if required); and</li> <li>Cloud systems assessments and other documentation developed for the agency's implementation of the blueprint.</li> </ul> <p>The conclusion of Phase 2 is formal approval by the Authorising Officer or their delegate, to operate the system that has been built using the blueprint. </p> <p></p>"},{"location":"security/cloud-assessment-and-authorisation-alignment/#phase-3-continuous-monitoring-and-assurance","title":"Phase 3: continuous monitoring and assurance","text":"<p>Continuous monitoring provides ongoing situational awareness of evolving information security risks, vulnerabilities, threats, security controls and incidents to provide assessment and assurance of the Cloud Consumer's cloud security posture. This is a responsibility shared between the CSP and cloud consumer.</p> <p>The blueprint assumes that organisations using it will take on the following responsibilities, including:</p> <ul> <li>Performing assurance over any changes that could impact the cloud consumer's systems and data to evaluate any additional or changed risks;</li> <li>Processing of Microsoft security advisories and how they relate to the ongoing authorisation processes;</li> <li>Monitoring of organisation systems and data for indicators of compromise; and</li> <li>Re-evaluating and accepting the cloud service when needed.</li> </ul> <p>The blueprint provides an example Continuous Monitoring Plan, which contains guidance on how organisations can approach conducting continuous monitoring in partnership with Microsoft. It details a number of technology options embedded within the blueprint design that may help facilitate ongoing monitoring.</p> <p></p>"},{"location":"security/continuous-monitoring-plan/","title":"Continuous monitoring plan","text":""},{"location":"security/continuous-monitoring-plan/#continuous-monitoring-plan","title":"Continuous monitoring plan","text":"<p>25 minutes to read - 30 March 2023</p> <p>This Continuous Monitoring Plan (CMP) has been prepared to support assessment of the ongoing security posture of the Protected Utility blueprint desktop environment. Throughout, this document provides continuous monitoring guidance including:</p> <ul> <li>Developing an agency-specific continuous monitoring plan</li> <li>Developing measurements to assess security controls</li> <li>Collecting data relating to areas of security that the agency is responsible for managing</li> <li>Aggregating collected monitoring data for analysis</li> <li>Analysing monitoring information to identify and assess the severity of security weaknesses, and</li> <li>Responding to identified security weaknesses.</li> </ul> <p>Throughout this document several security monitoring tools are identified. While continuous monitoring and security monitoring are not identical, some overlap exists between the two in their purpose. Security monitoring tools gather and record information that enables identification of potential vulnerabilities that arise in a system. This information is useful in assessing the system's overall health and security posture.</p>"},{"location":"security/continuous-monitoring-plan/#purpose","title":"Purpose","text":"<p>The Information Security Manual (ISM) requires agencies to create a CMP as one of the system-specific documents prior to a system's operation. This is to assist agencies in identifying, prioritising and responding to security vulnerabilities.</p> <p>To meet this requirement, this CMP provides agencies leveraging the blueprint desktop environment (the desktop environment) with an outline of implemented technologies that produce continuous monitoring data. This plan also provides guidance for monitoring the security posture of the system and verifying implemented security controls remain fit-for-purpose for the system's operating and threat environment.</p> <p>The three most common types of continuous monitoring activities are: vulnerability assessments; vulnerability scans; and penetration tests. These are not always possible or appropriate for systems that consume cloud services, such as the blueprint. Therefore, agencies should utilise this plan to consider what mechanisms are available to them to provide appropriate ongoing monitoring.</p>"},{"location":"security/continuous-monitoring-plan/#scope","title":"Scope","text":"<p>The scope of this CMP is specific to monitoring security controls involved with the agency's use of Microsoft 365 services as part of the desktop environment. As the blueprint is implemented in collaboration with Microsoft as the Cloud Service Provider (CSP), a shared responsibility model exists to divide responsibilities relating to the security of the desktop environment.</p> <p>While continuous monitoring and security monitoring are not identical, overlap exists between the two in that many security monitoring tools gather and record monitoring information that is useful in assessing the overall security posture of a system. Agencies may wish to utilise a Security Information and Event Management System (SIEM) to aggregate monitoring information for the purpose of identifying weaknesses in the desktop environment's security posture.</p> <p>Continuous monitoring responsibilities that a consumer of the Microsoft 365 solution is not required to manage are out of this document's scope, these include:</p> <ul> <li>Vulnerability scanning of the Microsoft 365 platform and software</li> <li>Penetration testing of the Microsoft 365 platform and software, and</li> <li>Vulnerability assessment activities pertaining to the Microsoft 365 platform and software.</li> </ul> <p>This document covers continuous monitoring responsibilities owned by the agency or jointly owned between the agency and Microsoft.</p> <p>The CMP is a living document. It is anticipated that, over time, amendments and updates may be applied to the plan in the event of changes to the blueprint, the desktop environment or the agency.</p>"},{"location":"security/continuous-monitoring-plan/#developing-a-continuous-monitoring-plan","title":"Developing a Continuous Monitoring Plan","text":"<p>Agencies are free to develop the structure of their CMP as appropriate for their organisation. The ISM specifies only that agencies must:</p> <ul> <li>conduct vulnerability scans for systems at least monthly</li> <li>conduct vulnerability assessments or penetration tests for systems at least annually</li> <li>analyse identified security vulnerabilities to determine their potential impact and appropriate mitigations based on effectiveness, cost and existing security controls</li> <li>use a risk-based approach to prioritise the implementation of identified mitigations.</li> </ul> <p>Whilst agencies will be able to undertake these activities in relation to on-premise equipment, there is limited ability to conduct vulnerability assessments, vulnerability scans and penetration tests against CSP infrastructure.</p> <p>Outside of ISM requirements, this document provides further suggestions and mechanisms which are available to agencies to provide ongoing monitoring across their implementation of the blueprint.</p> <p>The National Institute of Standards and Technology (NIST) outlines a standard process for conducting continuous monitoring information which includes the following initiatives, which agencies should utilise when developing their continuous monitoring strategy:</p> <ul> <li>Define a continuous monitoring strategy based on risk tolerance that maintains clear visibility into assets and awareness of vulnerabilities, up-to-date threat information and business impacts</li> <li>Establish metrics and measures, status monitoring frequencies, control assessment frequencies, and where needed a technical architecture</li> <li>Implement a continuous monitoring program to collect the security related data required for the defined metrics and measures. Automate collection, analysis and reporting of data where possible</li> <li>Analyze the data gathered and Report findings, determining the appropriate response. It may become necessary to collect additional information to clarify or supplement existing monitoring data</li> <li>Respond to findings with technical, management, and operational mitigating activities or acceptance, transference/sharing, or avoidance/rejection</li> <li>Review and Update the monitoring program, revising the continuous monitoring strategy and maturing measurement capabilities to increase visibility into assets and awareness of vulnerabilities; further enhance data driven control of the security of an organization's information infrastructure; and increase organizational flexibility.</li> </ul>"},{"location":"security/continuous-monitoring-plan/#continuous-monitoring-plan-structure-and-guidance","title":"Continuous Monitoring Plan structure and guidance","text":"<p>The following section provides suggested inclusions and guidance for developing a CMP. The suggested sections are detailed in the table below.</p> Section Detail Roles and Responsibilities Matrix of assigned roles related to continuous monitoring Measurements List of agency specific measurements and expected metric targets sorted by each continuous monitoring domain Information Sources and Collection List of information sources required to calculate measurements and procedures for collection (refer to Attachment B: Data Collection Example) Timeframes and Frequencies Define agency specific requirements for timeframes and frequencies Information Storage and Management Agency specific policy decisions surrounding aggregation and storage of information Analysis Agency specific analysis procedures Response Agency policy details around risk assessment, risk tolerance and expected response actions and procedures (refer to Attachment C: Risk Analysis Example) Continuous Monitoring Assessment List of measurement assessment tables (refer to Attachment A: Measurements/Metrics Development and Analysis Examples)"},{"location":"security/continuous-monitoring-plan/#roles-and-responsibilities","title":"Roles and responsibilities","text":"<p>The CMP should document relevant roles and responsibilities associated with performing continuous monitoring and maintaining the capabilities within the agency.</p> <p>Roles associated with continuous monitoring that may require documentation include:</p> <ul> <li>Chief Information Security Officer</li> <li>System Owner</li> <li>Authorising Officer</li> <li>Security Operations Centres</li> <li>Vulnerability Management Teams</li> <li>Desktop Support Teams, and</li> <li>Cloud Operations Teams.</li> </ul> <p>Responsibilities associated with continuous monitoring may include collecting, analysing and reporting continuous monitoring data. These responsibilities should be assigned to the relevant defined roles.</p>"},{"location":"security/continuous-monitoring-plan/#measurements","title":"Measurements","text":"<p>The CMP should outline measures that the agency will use to evaluate whether security controls are working as intended and whether it is managing risk associated with the desktop environment appropriately.</p> <p>Measures should align with specific security objectives and aid in providing decision makers with an understanding of how security is performing within the system. The ISM recommends the agency's CISO implement metrics and measures for the organisation.</p> <p>The agency may wish to refer to guidance outlined in NIST 800-55 Performance Measurement Guide for Information Security. This guidance recommends measures are developed for security controls at the organisational, program and system levels to assess the following aspects of a security control:</p> <ul> <li>Implementation \u2013 progress in implementing information security programs, specific security controls and associated policies and procedures</li> <li>Effectiveness/efficiency \u2013 validating that security controls are implemented correctly, operating as intended and meeting their desired outcome</li> <li>Impact \u2013 the impact of a control on the agency's mission</li> </ul> <p>For holistic assessment of security, measures should be mapped to controls within the agency's security control framework.</p> <p>Examples of security control measurements have been included in Attachment A: Measurements/Metrics Development and Analysis Examples.</p>"},{"location":"security/continuous-monitoring-plan/#information-sources-collection","title":"Information sources &amp; collection","text":"<p>The CMP should list any sources of information necessary to assess the defined measures. The agency should detail how this information will be collected, the purpose it is collected for and relevant details such as corporate business owners.</p> <p>The agency may consider utilising the example table provided in Attachment B: Data Collection Example to document their data collection requirements and methods.</p>"},{"location":"security/continuous-monitoring-plan/#data-gathering-tools-and-sources","title":"Data gathering tools and sources","text":"<p>Corporate desktop environments generate vast quantities of digital information from sources such as network devices, databases, servers and endpoints. Agencies will need to consider which information sources they require to maintain an awareness of the current state of their environment.</p> <p>Cloud based systems generate a wide range of information about their operation and use. This section provides examples of various information sources available that agencies may collect and monitor to provide visibility over the posture of their security program.</p> <p>The below table lists each continuous monitoring security domain alongside applicable Microsoft and agency tools and sources of information. The agency may consider monitoring information from these sources to measure each domain's security controls.</p> <p>Note: In July 2022 Microsoft announced deprecation of certain capabilities within Windows Information Protection (WIP). Please see the news article here</p> Domain M365 Tools Agency Tools and Sources Vulnerability &amp; Patch Management Windows Server Update Service  Microsoft Endpoint Configuration Manager Microsoft Intune  Microsoft Defender for Endpoint Vulnerability scanner  Vulnerability database  Patch Management database  Software registry Event &amp; Incident Management MECM Endpoint Detection and Response  Microsoft Defender for Identity (Azure Advanced Threat Protection)  Microsoft Defender for Office 365 Incident database  SIEM Malware Detection Microsoft Defender for Identity (Azure Advanced Threat Protection)  Microsoft Defender Antivirus  Microsoft Defender for Office 365  Microsoft Defender for Endpoint Incident database Asset Management Microsoft Cloud App Security (MCAS)  Microsoft Intune  Microsoft Endpoint Configuration Manager Asset management registry Configuration Management Microsoft Secure Score  Security Center   Compliance Center  Microsoft Attack Surface Reduction  Azure Active Directory Identity Protection  Azure Conditional Access  Azure Active Directory Agency configuration database  Certification and authorisation registry Network Management Microsoft Cloud App Security (MCAS)  Windows Defender Application Control  Conditional Access  Windows Firewall  Microsoft Intune  Microsoft Endpoint Configuration Manager Network perimeter firewall License Management Microsoft 365 Admin Center Software asset registry Information Management Microsoft Information Protection  Windows Information Protection  Information Protection (Office 365)  Retention Labels &amp; Policies  Microsoft Cloud App Security (MCAS) Data classification and categorization policies"},{"location":"security/continuous-monitoring-plan/#reference-data-sources","title":"Reference data sources","text":"<p>The agency should consider monitoring updates to the below reference data sources to gather information on software and configuration vulnerabilities.</p> <p>To identify and assess known vulnerabilities, the agency should consider subscribing to receive security notifications when relevant vulnerabilities are identified in Microsoft's tools and products. In addition, the agency should also consider subscribing to other vulnerability advisory services to receive vulnerability updates about any non-Microsoft applications they may utilise.</p> <p>To assess the security of their system's architecture, the agency should consider monitoring updates to the blueprint, relevant compliance standards and configuration benchmark advisories.</p> Category Reference Data Source Vulnerability &amp; Patch Management Microsoft Security Notification Service National Vulnerability Database US-CERT ACSC Security Notifications AusCERT Configuration Management Australian Government Information Security Manual ACSC Essential Eight ACSC Publications Protected Utility blueprint Center for Internet Security (CIS) Benchmarks"},{"location":"security/continuous-monitoring-plan/#continuous-monitoring-information-elicitation-activities","title":"Continuous monitoring information elicitation activities","text":"<p>To elicit information about potential vulnerabilities within the organisation's information security program, the agency should perform the below activities.</p> Technique Detail Control effectiveness assessments This technique would elicit detail on the coverage, effectiveness, impact and efficiency of the agency's security controls Vulnerability scans Vulnerability scans can be performed to identify known vulnerabilities in the agency's deployed software or weaknesses in the system's configuration Vulnerability assessments or penetration tests Vulnerability scans can be performed to find known vulnerabilities in the agency's deployed software or weaknesses in the system's configuration"},{"location":"security/continuous-monitoring-plan/#timeframes-and-frequencies","title":"Timeframes and frequencies","text":"<p>The CMP should outline when and how often effectiveness reviews and testing activities are performed for each security control and associated measurement. When determining timeframes and frequencies, the agency should establish achievable assessment frequencies commensurate with their risk appetite. Factors the agency may wish to consider when determining frequencies include:</p> Consideration Detail Impact Criticality of controls Is the control critical to the effectiveness of the security program?  Is the control critical to the agency's priorities? Controls providing highly critical functionality should be more frequently monitored Volatility of control Is the effectiveness of the security control likely to change as the system evolves? Controls expected to be volatile should be more frequently monitored Robustness of controls Does the control have any current weaknesses inhibiting its effectiveness? Controls with known weaknesses should be more frequently monitored until remediated Risk tolerance Does the timeframe align with the agency's risk tolerance? Agencies with higher risk tolerance could perform less frequent monitoring Threat advisories/Vulnerability information Has the agency received information that may impact the effectiveness of a control? An ad hoc control assessment may need to be performed or monitoring frequencies altered Regulatory requirements Do mandatory timeframes exist within the agency's regulatory requirements? The agency may need to alter timeframes to align with requirements Reporting Requirements Has the agency defined specific reporting requirements that need to be met? The agency may need to alter timeframes to align with requirements <p>When defining assessment and response frequencies, the agency may specify tasks assigned to applicable roles defined in Roles and Responsibilities section above. Examples of tasks include:</p> <ul> <li>Desktop teams will review Intune reports monthly, and</li> <li>Office 365 administrators will review Active Directory weekly.</li> </ul>"},{"location":"security/continuous-monitoring-plan/#required-ism-timeframes","title":"Required ISM timeframes","text":"<p>For infrastructure under the control of the agency, such as on premises Exchange and Active Directory servers, the ISM specifies required timeframes for the activities defined in the below table:</p> Activity Frequency Vulnerability scans At least monthly Vulnerability assessments or penetration tests At least monthly Review SOEs At least monthly Review security documentation At least monthly"},{"location":"security/continuous-monitoring-plan/#information-aggregation-storage-and-management","title":"Information aggregation, storage and management","text":"<p>The CMP should document how information required for continuous monitoring will be stored and managed. This should include where information will be stored and relevant parties responsible for the information.</p>"},{"location":"security/continuous-monitoring-plan/#security-information-and-event-management-system-siem","title":"Security Information and Event Management System (SIEM)","text":"<p>To enhance the ability to identify inappropriate or unusual activity, agencies may wish to integrate the analysis of vulnerability scanning information, network monitoring, and system log information through the use of a SIEM.</p>"},{"location":"security/continuous-monitoring-plan/#security-management-dashboards","title":"Security management dashboards","text":"<p>Security management dashboards are virtual security management workspaces provided by Microsoft's customer security and compliance teams the agency could leverage Microsoft's security management dashboards to achieve automation of information aggregation.</p> <p>These solutions are integrated across Microsoft 365 services and provide actionable insights to help reduce risks and safeguard Microsoft 365 deployments. They provide the ability to aggregate and view monitoring information in a single location.</p> Dashboard Detail Microsoft 365 Security Center Agencies can utilise Security Center to view alerts and incidents related to their infrastructure and reports measures within Microsoft Secure Score.  Agencies can utilise Secure Score to determine the security baseline of their Microsoft 365 configuration. Secure Score can scan a Microsoft environment, assign an overall security score to the environment's configuration and provide recommendations to improve the security of the environment. Microsoft 365 Compliance Center Agencies can use Compliance Center to track specific compliance issues and risks. Compliance Center also provides customisable policies which can alert agencies when Microsoft 365 contravenes a particular policy. Microsoft Cloud App Security Dashboard Agencies can utilise the Cloud App Security Dashboard to view security information of their cloud environment including open alerts, discovered apps, files infected with malware, azure security configuration recommendations and DLP alerts."},{"location":"security/continuous-monitoring-plan/#analysis","title":"Analysis","text":"<p>The CMP should document procedures for conducting analysis of collected information against defined measures. These processes could take the form of runbooks or work instructions. This would facilitate assessment of potential vulnerabilities or weaknesses in a manner that is repeatable and consistent.</p> <p>To analyse collected data, the agency should calculate the measurements that were defined as part of the Roles and Responsibilities section. To perform this analysis, the agency may wish to refer to the example measurements analysis tables included in Attachment A: Measurements/Metrics and Analysis Examples.</p>"},{"location":"security/continuous-monitoring-plan/#response","title":"Response","text":""},{"location":"security/continuous-monitoring-plan/#assessment","title":"Assessment","text":"<p>The CMP should set out the process for how identified system weaknesses and vulnerabilities will be prioritised for response. Once analysis has been completed and vulnerabilities are identified or controls do not meet their expected measurement target, the agency should assess and manage the risk involved utilising methods detailed in their Security Risk Management Plan (SRMP). Example details of the risk assessment table have been included in Attachment C: Findings Analysis Example.</p> <p>The agency should undertake analysis which allows them to reach a thorough understanding of the potential impacts of identified vulnerabilities and the risk that is posed to the agency. This may include asking questions such as:</p> <ul> <li>What is the likelihood of the vulnerability being exploited?</li> <li>What happens/what is the impact if the vulnerability is exploited?</li> <li>How effective are current controls in reducing potential risk?</li> </ul> <p>Prior to the determination of a mitigating response, the agency should consider their risk tolerance levels and determine if other actions are appropriate such as:</p> <ul> <li>Accepting</li> <li>Transferring, or</li> <li>Avoiding the risk.</li> </ul> <p>Assessments should be conducted by suitably skilled personnel, where possible independent of the system owner or developer, or by a third party who is independent of the target of the assessment. Assessments may be performed by either using automated assessment tools or manually by appropriately skilled ICT professionals.</p> <p>When assessing vulnerabilities, the agency may consider vendor security bulletins or the severity ratings assigned to security vulnerabilities under schemes such as the Common Vulnerability Scoring System.</p>"},{"location":"security/continuous-monitoring-plan/#responsive-actions","title":"Responsive actions","text":"<p>The CMP should document potential responsive actions. These may include actions such as system configuration changes, training, procuring security tools, changing system architecture, establishing new procedures or updating security policy documentation.</p> <p>When determining the appropriate responsive action, the agency should asking the following questions:</p> <ul> <li>What are the available mitigation techniques?</li> <li>How effective are those mitigations likely to be?</li> <li>Who is responsible for implementing any mitigations?</li> <li>What will the cost of implementing the mitigations be?</li> </ul> <p>When deciding on a responsive action, Agencies should consider change management and approval requirements.</p>"},{"location":"security/continuous-monitoring-plan/#prioritisation-of-response","title":"Prioritisation of response","text":"<p>The CMP should outline how identified weaknesses and vulnerabilities will be prioritised based on their assessed risk or impact and the timeframes within which actions will be taken.</p> <p>The agency may wish consider the timeframes specified within the ISM under which action must be taken as outlined in the below table.</p> Vulnerability Risk Timeframe Extreme 48 hours High Two Weeks Moderate Four Weeks Low Four Weeks <p>Depending on the vulnerability identified and its severity, action may be required immediately or may be implemented over a period of time. Agencies should consider their risk tolerance levels and verify that processes exist to track the progress of remediation actions as they occur.</p>"},{"location":"security/continuous-monitoring-plan/#reporting","title":"Reporting","text":"<p>The CMP should document requirements of reporting in relation to continuous monitoring. This may include details as set out in the below table.</p> Activity Detail Generating Reporting Specific personnel and roles responsible for generating reporting information Stakeholders and Audience Personnel and roles that will be receiving generated reporting Content and Format Content included in reporting and expected format the report will be presented in Reporting Frequency How often reporting is to be generated and sent to its audience Tools Used for Reporting Any tools used to generate or automate reporting <p>Many of these details would be included in the analysis tables as shown in Attachment A: Measurements/Metrics and Analysis Examples.</p>"},{"location":"security/continuous-monitoring-plan/#review-and-update","title":"Review and update","text":"<p>The CMP should outline when and under what conditions review and updates to the continuous monitoring strategy and approach will occur. Continuous monitoring processes should not be static, they should adapt based on changes in agency's threat and risk and when changes are made to desktop environment technology and architecture. The CMP should be reviewed to ensure that it supports the agency in operating within its acceptable risk tolerance levels, that chosen measurements remain relevant, and that data is current and complete.</p> <p>The agency should review the contents of the CMP annually or bi-annually.</p>"},{"location":"security/continuous-monitoring-plan/#attachment-a-measurementsmetrics-development-and-analysis-examples","title":"Attachment A: Measurements/metrics development and analysis examples","text":"<p>Measures have been provided in this section as examples for how the agency could approach monitoring security controls. It is important to note that the agency should develop custom measurements, this list is for reference and is not intended to be exhaustive. These examples have been developed leveraging methods detailed in NIST 800-55 Performance Measurement Guide for Information Security.</p> <p>Additionally, this section identifies relevant guidance on identifying and populating required data collection details.</p>"},{"location":"security/continuous-monitoring-plan/#guidance","title":"Guidance","text":"<p>Agencies may refer to above guidance on developing measures and populating information. These include:</p> <ul> <li>Roles and Responsibilities</li> <li>Developing Measurements</li> <li>Data Collection Sources</li> <li>Collection and Reporting Frequencies</li> <li>Reporting Details</li> </ul>"},{"location":"security/continuous-monitoring-plan/#configuration-management-measurement-example","title":"Configuration management measurement example","text":"<p>The below table provides an example configuration management measure.</p> Field Data Measure ID CM-1 Goal All system users are identified and authenticated in accordance with the agency's information security policy Related Controls ISM 0974, 1173 Measure Percentage (%) of accounts without MFA enabled Type Effectiveness/Efficiency Formula (Number of MFA-enabled accounts/total number of accounts) * 100 Target (Percentage (%) target defined in accordance with agency risk tolerance) Implementation Evidence CM-1.1 Number of users with access to the system. CM-1.2 Number of users exempt from MFA requirements Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Active Directory, Azure Conditional Access Policies, Microsoft Security Center Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#vulnerability-and-patch-management-measurement-example","title":"Vulnerability and patch management measurement example","text":"<p>The below table provides an example vulnerability and patch management measure.</p> Field Data Measure ID VPM-1 Goal All system vulnerabilities are identified and remediated in accordance with the agency's information security policy Related Controls ISM 0304, 1143, 1493, 1643 Measure Percentage (%) of security vulnerabilities not mitigated Type Effectiveness/Efficiency Formula (Number of mitigations (patches or other) applied + Number of vulnerabilities accepted within risk tolerance) / (Total number of system vulnerabilities) * 100 Target (Percentage (%) target defined in accordance with agency risk tolerance) Implementation Evidence VPM-1.1 Number of vulnerabilities identified through advisories. VPM-1.2 Number of vulnerabilities identified through vulnerability scanning activities.  VPM-1.3 Number of mitigations (patches or other) applied. VPM-1.4 Number of vulnerabilities determined not applicable.  VPM-1.5 Number of vulnerabilities accepted within risk tolerance Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Software Registry, Vulnerability Database, Patch Management Database, Microsoft Intune, Microsoft Defender for Endpoint Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#event-incident-management-measurement-example","title":"Event &amp; incident management measurement example","text":"<p>The below table provides an example event and incident management measure.</p> Field Data Measure ID EIM-1 Goal Security incidents are reported within timeframes defined in the agency's Incident Response Policy Related Controls ISM 0123, 0125, 0140 Measure Percentage (%) of incidents reported within acceptable timeframes (calculated for each incident category) Type Effectiveness/Efficiency Formula For each incident category (number of incidents reported within agency defined timeframes / number of reported incidents) * 100 Target (target defined in accordance with agency risk tolerance) Implementation Evidence EIM-1.1 Number of incidents reported for:  Category 1: (Incident category defined in agency's IRP)  Category 2: (Incident category defined in agency's IRP)  Category N: (Incident category defined in agency's IRP)   EIM-1.2 Of incidents reported for each category, how many were reported within agency defined timeframes? Category 1: (Incident category defined in agency's IRP)  Category 2: (Incident category defined in agency's IRP)  Category N: (Incident category defined in agency's IRP) Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Incident database Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#malware-detection-measurement-example","title":"Malware detection measurement example","text":"<p>The below table provides an example malware detection measure.</p> Field Data Measure ID MD-1 Goal Effectively detect and prevent instances of malware installation/execution Related Controls ISM 1288 Measure Calculated or each malware detection tool (percentage (%) of malware detection false positives.) Type Effectiveness/Efficiency Formula For each malware detection tool (Number of alerts identified as false positives / Number of alerts) * 100) Target (Percentage (%) target defined in accordance with agency risk tolerance) Implementation Evidence MD-1.1 Number of malware detection alerts marked as false positives for:   MD-1.2 Total number of malware detection alerts for:  Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Microsoft Defender Antivirus, Microsoft Defender for Endpoint, agency specific malware and endpoint detection tools Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#asset-management-measurement-example","title":"Asset management measurement example","text":"<p>The below table provides an example asset management measure.</p> Field Data Measure ID AM-1 Goal All devices are managed within the agency's device management policy Related Controls ISM 1533, 1195, 1482, 0869, 1085, 1202 Measure Percentage (%) of managed endpoints not compliant with MDM security policy Type Implementation Formula (Number of managed endpoints identified as out-of-compliance / Total number of managed endpoints) * 100 Target (Percentage (%) target defined in accordance with agency risk tolerance) Implementation Evidence Number of managed endpoints identified as out-of-compliance Total number of managed endpoints Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Microsoft Intune, Microsoft Endpoint Configuration Manager, Asset Management Register Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#network-management-measurement-example","title":"Network management measurement example","text":"<p>The below table provides an example network management measure.</p> Field Data Measure ID NM-1 Goal All devices are managed in accordance with the agency's Asset Management Policy Related Controls ISM 1301, 1418 Measure Percentage (%) of devices discovered on the network that are unrecognised Type Effectiveness/Efficiency Formula Number of unrecognised devices discovered on the network / Total number of discovered devices * 100 Target (Percentage (%) target defined in accordance with agency risk tolerance) Implementation Evidence Number of unrecognised devices discovered during network discovery.  Total number of devices discovered during network discovery Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Asset Management List, Microsoft Defender for Endpoint, Microsoft Endpoint Manager Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#license-management-measurement-example","title":"License management measurement example","text":"<p>The below table provides an example license management measure.</p> Field Data Measure ID LM-1 Goal Software lifecycle is effectively managed in accordance with the agency's Information Security Policy Related Controls ISM 1467, 1483, 1407 Measure Percentage (%) of deployed software that has reached End of Support Type Effectiveness/Efficiency Formula Number of software license versions that have reached End of Support / Total number of software licenses * 100 Target (Percentage (%) target defined in accordance with agency risk tolerance) Implementation Evidence Number of software license versions that have reached End of Support.  Number of software licenses Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source Software Registry, Microsoft Defender for Endpoint Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#information-management-measurement-example","title":"Information management measurement example","text":"<p>The below table provides an example information management measure.</p> Field Data Measure ID IM-1 Goal Information is identified and protected in accordance with the agency's information security policy Related Controls ISM 1187, 1297, 0663 Measure Number of data loss prevention policy exceptions granted during monitoring period Type Effectiveness/Efficiency Formula Total number of policy exceptions granted during monitoring period Target (Target total defined in accordance with agency risk tolerance) Implementation Evidence Policy exceptions granted during monitoring period Frequency Collection frequency: (e.g. monthly)  Reporting frequency: (e.g. monthly) Responsible Parties Applicable roles and responsibilities, e.g. collector, owner, stakeholders Data Source MCAS, Microsoft Defender for Endpoint, MIP Reporting Format (Agency's preferred reporting method i.e. bar graph in Monthly Health Check report)"},{"location":"security/continuous-monitoring-plan/#attachment-b-data-collection-example","title":"Attachment B: Data collection example","text":"<p>This section provides an example data collection table the agency may wish to utilise to record data collection details. Additionally, this section identifies relevant guidance on identifying and populating required data collection details.</p>"},{"location":"security/continuous-monitoring-plan/#guidance_1","title":"Guidance","text":"<p>For each measurement, the agency should create data collection tables for each item under \u201cImplementation Evidence\u201d.</p> <p>The following lists sections the agency may refer to for guidance developing measures and populating information:</p> <ul> <li>Roles and Responsibilities</li> <li>Data Collection Sources</li> <li>Collection and Reporting Frequencies</li> </ul>"},{"location":"security/continuous-monitoring-plan/#data-collection-table-example","title":"Data collection table example","text":"<p>The below table provides an example table the agency may wish to utilise to record data collection details.</p> Field Data Relevant Measurement CM-1 Information Detail List of users without MFA enabled Collection Frequency Monthly Source Tool Active Directory Information Owner (Agency team or position responsible for the tool) Role Responsible for Collection (Agency specific role assigned to this task) Information Collection Method Agency specific process to elicit this information. Examples are:  * Process for logging in to Azure admin portal and performing manual inspection; or,  - Process for eliciting information through PowerShell script"},{"location":"security/continuous-monitoring-plan/#attachment-c-risk-analysis-example","title":"Attachment C: Risk analysis example","text":"<p>This section provides an example risk analysis table that the agency may wish to utilise when determining and prioritising a response. Additionally, this section identifies relevant guidance on risk analysis and response.</p>"},{"location":"security/continuous-monitoring-plan/#guidance_2","title":"Guidance","text":"<p>The below lists sections the agency may refer to for guidance developing measures and populating information;</p> <ul> <li>Relevant Assets to Each Security Domain</li> <li>Response Assessment and Prioritisation</li> </ul>"},{"location":"security/continuous-monitoring-plan/#risk-assessment-table-example","title":"Risk assessment table example","text":"<p>Example detail the agency could capture is provided in the below table. For more detail, and the Risk Matrix refer to the blueprint's Security Risk Management Plan (SRMP) or Hybrid (SRMP).</p> Field Detail Risk Overview Brief risk statement Assets affected List of assets impacted by the risk Threat sources Types of threat actors (e.g. Adversarial \u2013 Trusted Insider) Threat events Events that may occur as a result of this risk being realized Inherent likelihood Likelihood rating without controls considered Inherent consequence Consequence rating without controls considered Inherent risk rating Result from comparing Likelihood and Consequence on Risk Matrix Ongoing and completed treatments Treatments being implemented to address the risk Residual likelihood Likelihood rating with current controls considered Residual Consequence Consequence rating with current controls considered Residual risk rating Result from comparing Likelihood and Consequence on Risk Matrix Proposed treatments Risk mitigation treatments for consideration Target likelihood Desired likelihood rating with proposed treatments considered Target consequence Desired consequence rating with proposed treatments considered Target risk rating Result from comparing Likelihood and Consequence on Risk Matrix"},{"location":"security/hybrid-incident-response-plan/","title":"Hybrid incident response plan","text":""},{"location":"security/hybrid-incident-response-plan/#hybrid-incident-response-plan","title":"Hybrid incident response plan","text":"<p>23 minutes to read - 30 March 2023</p> <p>This Incident Response Plan (IRP) has been prepared to support to the Digital Transformation Agency (DTA) HybridSystem. The document provides guidance for responding to cyber security incidents that may occur in relation to an Agency\u2019s operation of the HybridSystem.</p>"},{"location":"security/hybrid-incident-response-plan/#purpose","title":"Purpose","text":"<p>The purpose of this IRP is to provide guidance to Agencies operating the HybridSystem including how to detect cyber security incidents, how to respond and remediate them, along with how to reduce the risk of an incident re-occurring in the future.</p>"},{"location":"security/hybrid-incident-response-plan/#scope","title":"Scope","text":"<p>The scope of this IRP is specific to the use of Microsoft 365 services as part of the HybridSystem. As such it is termed a system-specific IRP and is designed to be subordinate to an Agency\u2019s overarching IRP. As a result, this IRP does not directly address topics that it is reasonable to assume are discussed in an Agency-level IRP.</p> <p>The HybridSystem IRP is a living document. It is anticipated that, over time, amendments and updates will be applied to the HybridSystem IRP specific to agency business needs and lessons learnt from cyber incidents.</p>"},{"location":"security/hybrid-incident-response-plan/#incident-response-plan","title":"Incident response plan","text":"<p>This Incident Response Plan (IRP) is based on the four step National Institute of Standards and Technology (NIST) incident response life cycle as documented in Special Publication 800-61 Revision 2. The four steps of the process are illustrated in Figure 1 and are:</p> <ul> <li>Preparation</li> <li>Detection &amp; Analysis</li> <li>Containment, Eradication, and Recovery</li> <li>Post-Incident Activity.</li> </ul> <p></p> <p> Figure 1 Incident Response Process </p> <p>Each of the four incident response phases are detailed in the following sections of this document.</p>"},{"location":"security/hybrid-incident-response-plan/#preparation","title":"Preparation","text":"<p>The preparation phase of the incident response life cycle is a shared responsibility between the project team and Agency cyber security personnel. The project team is responsible for the design, implementation, and security assessment of the solution. This includes performing a risk assessment and determining which specific Information Security Manual (ISM) controls to implement to reduce and manage the risk of security incidents. The following documentation has been produced for the HybridSystem and it is recommended that the Agencies cyber security personnel familiarise themselves with the content to aid them in their preparation to manage an incident:</p> <ul> <li>Blueprint \u2013 Solution Overview which describes the solution, which features have been enabled/disabled for the Agency, and how the solution has been structured.</li> <li>Blueprint \u2013 Platform Design which describes the technologies used that make up the \u2018platform\u2019 portion of the solution and how they are implemented.</li> <li>Blueprint \u2013 Client Devices Design which describes the technologies used that make up the Windows 10 portion of the solution and how it is implemented.</li> <li>Blueprint \u2013 Office 365 Design which describes the technologies used that make up the Office 365 portion of the solution and how it is implemented.</li> <li>Hybrid Blueprint \u2013 Security Risk Management Plan (SRMP) which includes the details of the risk assessment performed and the recommended treatments.</li> <li>Hybrid Blueprint \u2013 System Security Plan (SSP) which describes how controls identified in the SSP Annex are implemented by the system.</li> <li>Hybrid Blueprint \u2013 System Security Plan Annex (September 2021) which states the compliance of the solution with the September 2021 version of the ISM.</li> <li>Hybrid Blueprint \u2013 Standard Operating Procedures which describe the steps required to perform multiple operational tasks within the environment.</li> </ul> <p>In addition to having ongoing access to the above documentation it is assumed that Agency cyber security personnel have access to tools and resources as described in the Agency IRP. Specific resources that are also required by Agency cyber security personnel to detect and respond to security incidents include:</p> <ul> <li>Access to the various Microsoft management portal required to administer the blueprint, as listed below in Table 1</li> <li>Membership of the role(s) required to perform any actions related to the incident</li> </ul> <p> Table 1 Microsoft Management Portals </p> Portal URL Microsoft 365 Defender portal https://security.microsoft.com Defender for Cloud Apps portal https://portal.cloudappsecurity.com Azure portal (including Azure AD) https://portal.azure.com Microsoft 365 compliance portal https://compliance.microsoft.com Microsoft 365 admin center https://admin.microsoft.com/ Defender for Identity portal https://portal.atp.azure.com"},{"location":"security/hybrid-incident-response-plan/#detection-and-analysis","title":"Detection and analysis","text":"<p>Multiple detection methods are available to the Agency\u2019s cyber security personnel to aid them in discovering and categorising security incidents. These detection methods include:</p> <ul> <li>Alerts from Azure AD (including Azure AD Identity Protection) including risky sign-ins and users flagged for risk.</li> <li>Azure AD logs stored in Azure and available via the portal, including the audit log for all administrative activities relating to Azure AD.</li> <li>Defender for Office 365 alerts and reports for each of the configured capabilities including Safe Attachments, Safe Links, Safe Attachments for SharePoint, OneDrive and Microsoft Teams, and Anti-phishing in Defender for Office 365 protection.</li> <li>Microsoft Defender for Endpoint including the Security Operations, Incidents, and Alerts Queue dashboards which provide tailored information and actions for cyber security personnel.</li> <li>Defender for Identity provides User Entity Behavioural Analytics (UEBA) by monitoring authentication requests to on-premises Active Directory (AD) Domain Controllers (DCs). </li> <li>Microsoft Defender for Cloud Apps Threat Detection, Privileged Accounts, and Access Control dashboards spanning the whole Microsoft 365 deployment, along with configurable email alerts and automatic response capabilities.</li> <li>Local Windows 10 events logs written to each Windows 10 endpoint including authentication attempts, firewall activities, and Windows Defender Application Control (WDAC) events.</li> </ul> <p>Due to its containment, eradication and recovery capabilities in addition to its detection and analysis functionality, Microsoft Defender for Endpoint is the primarily incident response tool for the hybridsystem and is described in further detail in the section below.</p>"},{"location":"security/hybrid-incident-response-plan/#microsoft-defender-for-endpoint","title":"Microsoft Defender for Endpoint","text":"<p>The HybridSystem leverages Microsoft Defender for Endpoint to monitor, detect, investigate, and respond to threats targeting Windows 10 endpoints. When an alert is triggered of sufficient severity, an email is automatically sent to a specified recipient email address (typically the Agency cyber security team mailbox or similar). Additional email recipients can be configured as required.</p>"},{"location":"security/hybrid-incident-response-plan/#recommendation","title":"Recommendation","text":"<p>Agency should ensure a recipient email address (typically the Agency cyber security team mailbox or similar) shared with multiple users is created and monitored.</p> <p>The majority of alerts generated within the Microsoft 365 Defender portal \u2013 which include Microsoft Defender for Endpoint alerts \u2013 relate to automatically detected issues and are informational in nature. This means that they are not necessarily harmful to the system but must be reviewed and accounted for. Alerts are organised by severity as they enter the \u2018Alerts queue\u2019, the severity of which is detailed below in Table 2.</p> <p> Table 2 Microsoft 365 Defender Alert Severities </p> Severity Description High Threats marked as 'High' have the potential to cause severe damage to the system and devices using it. These alerts must be treated with urgency. Medium Threats marked as 'Medium' must be treated with some importance but typically will indicate anomalous behaviour within the environment such as the execution of suspicious files, un-sanctioned registry changes, or observed behaviours typical of a cyber threat or attack. Low 'Low' urgency threats will typically be identified as commercial/known malware or hacking tools, their function is generally well understood and the ability to stop it is high. Informational 'Informational' alerts are those that might not be considered harmful to the network but are good to track. <p>Figure 2 shows an example of an alert from Defender for Endpoint which detected a suspicious sequence of activities and automatically generated an incident detailing the severity, timestamps, devices affected, applications called, and more.</p> <p></p> <p> Figure 2 Suspicious sequence of activities </p> <p>When the Agency's cyber security personnel receive an alert, they should perform analysis to determine the cause and any potential impact, including recommended actions within the Microsoft 365 Defender portal. If an alert occurs during an approved change window and relates directly to the contents of the change, for example an unapproved/not allowed executable runs during an application deployment, then it is unlikely that a security incident has occurred. However, if an alert is triggered outside of a change window and without an obvious cause then the probability of the event being a security incident is probable.</p> <p>Note, Microsoft assign a criticality to each alert based on an internal rating system. It is up to the Agency\u2019s cyber security team to make their own assessment of the criticality of all potential security incidents in accordance with the Agency\u2019s overarching IRP.</p> <p>The assignment of criticality to an incident is an important step and due care must be applied to avoid the risks associated with both under and over classifying an incident. If there is ever any doubt, cyber security personnel should always investigate further.</p> <p>The alerts captured in the Microsoft 365 Defender portal should be leveraged by Agency cyber security personnel to detect and analyse potential security incidents. The Microsoft 365 Defender portal provides far deeper detail than is available from the email alerts, these emails should only serve as a cursory notification, not an in-depth analysis of the incident.</p> <p>Within the Microsoft 365 Defender portal there are two capabilities that should be utilised by Agency cyber security personnel for the purpose of detection and analysis of incidents on a day-to-day basis.</p> <ul> <li>Incidents lists all automatically generated incidents detected by Defender for Endpoint - along with Defender for Office 365, Defender for Identity and Defender for Cloud Apps, including the severity of the incident, the machines and users involved, last activity, assignment of the incident, et cetera. All incidents should be assigned as they are generated and managed based on the Agency\u2019s operating procedures by cyber security personnel.</li> <li>Alerts queue lists all alerts based on the alert type not the incident case that is generated, this can be supremely helpful when attempting to identify patterns of behaviour. This alerts queue will also sort by severity, which incident it is related to, status, and investigation state.</li> </ul> <p>For both the Incidents and Alerts queue Agency cyber security personnel can select individual records to access detailed information on the specific activity.</p>"},{"location":"security/hybrid-incident-response-plan/#incident-criticality-assignment","title":"Incident criticality assignment","text":"<p>Regardless of the detection source for a potential incident, all incidents should be assigned a criticality in a consistent manner. In accordance with guidance issued by the Chief Information Security Officer (CISO) or other personnel responsible for the daily operational information security of the Agency, all incidents should be assigned a system specific criticality. The criticality ratings for incidents have been developed from a number of Federal Government Agencies\u2019 overarching risk frameworks, specifically the consequence definitions. These definitions are listed below in Table 3.</p> <p>Note, if incident criticality definitions are included in the Agency IRP cyber security personnel should use those in preference to the criticalities defined below. The Business Impact Levels (BILs) defined in the Protective Security Policy Framework (PSPF) should also be considered in the assessment of incident criticalities.</p> <p> Table 3 Incident Criticality Definitions </p> Incident Criticality Performance Metrics Reputational Metrics Extreme Major impact on departmental outcomes and performanceRequires major additional management effort by Senior Executive to control the impactUnavailability of agency mission critical systems including the delivery of Government outcomes (e.g. a public facing system that is used in emergency procedures, a grants systemCatastrophic breach and or loss and or destruction of agency information containing sensitive and personal information of Australian citizens and or classified information Significant adverse publicityLoss of stakeholder confidence requiring intervention by SecretaryReporting to accountable authorities outside of the Agency e.g. Privacy Commissioner, Minister of Department etc High Moderate impact on achievement of outcomes and performanceRequires additional management effort by business area, Senior Executive to control the impact Substantial adverse publicityLoss of stakeholder confidence requiring intervention at Executive level Medium Minor impact on achievement of outcomes and performanceRequires additional management effort within the business area to control the impact Some adverse publicityMinor loss of stakeholder confidence Low Insignificant impact on achievement of outcomes and performance Some adverse publicityMinor loss of stakeholder confidence <p>Agency cyber security personnel should use the above table to define the criticality of incidents based on the data available to them at the time of detection and analysis. If this data is updated or found to be inaccurate Agency cyber security personnel should re-assess the criticality of the related incident(s). The criticality of an incident should be used to determine the resources, timeframes and reporting requirements related to it.</p>"},{"location":"security/hybrid-incident-response-plan/#azure-service-outages","title":"Azure service outages","text":"<p>An additional data source that can be leveraged by Agency cyber security personnel when analysing potential security incidents is the Azure status dashboard. This dashboard is published by Microsoft and reports on the current status of all Azure-based services, including any current warnings or errors. An example of the dashboard is shown below in Figure 3.</p> <p>The Azure status dashboard is available at https://status.azure.com/ and does not require the user to be logged into Azure to view the current status.</p> <p></p> <p> Figure 3 Azure Status Dashboard </p> <p>Agency cyber security personnel can use the dashboard to determine if a potential incident is local to the Agency\u2019s system or is a widespread issue affecting the underlying Azure service(s).</p>"},{"location":"security/hybrid-incident-response-plan/#recommendation_1","title":"Recommendation","text":"<p>It is recommended that at least one Agency cyber security personnel member is subscribed to the provided Rich Site Summary (RSS) feed to receive updates whenever an Agency-leveraged service is affected.</p>"},{"location":"security/hybrid-incident-response-plan/#microsoft-365-service-outages","title":"Microsoft 365 service outages","text":"<p>Agency cyber security personnel should review the Microsoft 365 service status (including all Office 365 services) when investigating an incident relating to availability. The following resources are available from Microsoft to identify the status of Microsoft 365 services:</p> <ul> <li>Microsoft 365 Service health status</li> <li>Microsoft 365 Status Twitter</li> </ul> <p>In the first instance the Microsoft 365 Service health status page should be consulted, followed by the Microsoft 365 Status Twitter account. If no issues are identified by either of these resources, then Agency-specific scenarios should be explored such as loss of Internet connect, Local Area Network (LAN) outage, etc.</p> <p>As an example of how to navigate the Microsoft 365 Service health status page, please refer to Figure 4 below.</p> <p></p> <p> Figure 4 Office 365 Service Outages </p> <p>Agency cyber security personnel can use the dashboard to determine if a service is down, whether the issue is widespread and affecting the underlying services, or whether there is no identified outage. This page can also be used to review ongoing service advisories such as those identified below in Figure 5.</p> <p></p> <p> Figure 5 Office 365 Service Health Advisories </p>"},{"location":"security/hybrid-incident-response-plan/#recommendation_2","title":"Recommendation","text":"<p>It is recommended that at least one Agency cyber security team member, or another person assigned with cyber security responsibilities, review these services daily to ensure there are no ongoing service outages that will affect the availability.</p>"},{"location":"security/hybrid-incident-response-plan/#containment-eradication-and-recovery","title":"Containment, eradication, and recovery","text":"<p>The Agencies cyber security teams\u2019 approach to containment, eradication, and recovery \u2013 particularly in relation to resource allocation and priority \u2013 should be based on the category of the incident as previously described. However, regardless of the criticality of an incident the basic actions that are required to address the incident are dependent on the specific incident type.</p> <p>This IRP defines specific incident types that are directly related to the solution, namely:</p> <ul> <li>Violation of confidentiality of Agency data stored in Office 365 (including Exchange Online)</li> <li>Violation of integrity and/or confidentiality of Azure AD accounts</li> <li>Violation of integrity of Azure AD configuration</li> <li>Violation of integrity of Office 365 configuration</li> <li>Loss of availability of Agency data stored in Office 365</li> </ul> <p>The following table provides recommendations for the containment, eradication, and recovery activities associated with the above incident types:</p> <p> Table 4 Incident Containment, Eradication, and Recovery Activities </p> Incident type Containment, Eradication, and Recovery Activities Violation of confidentiality of Agency data stored in Office 365(For example, sensitive information is sent outside the organisational boundaries \u2013 data spill) Containment \u2013 Data Loss Prevention (DLP) policies are in place across Microsoft Teams, Exchange Online, SharePoint Online, and Outlook. All data stored in these corporate data locations is backed by policies to block the egress of what is identified as \u2018sensitive\u2019. Note, if DLP policies have been disabled or modified they should be re-enabled and verified by referring to the relevant ABAC.Eradication \u2013 DLP policies automatically block messages from being sent or redacts and obfuscates data attempting to leave organisational boundaries.Recovery \u2013 Recovery of sensitive information is automated by DLP. User notifications are linked to DLP policies upon creation. The Agency cyber security team should review DLP policies often to ensure they align with business needs. New policies should be created based on commonly used applications within the organisation. Violation of integrity and/or confidentiality of Azure AD account(s)(For example, user or administrative account compromised) Containment \u2013 Compromised account credentials can result in catastrophic damage to the system if the account in question has administrative privileges, and breaches of sensitive data. To contain this, Conditional Access and Multi-Factor Authentication (MFA) are employed to control access to all accounts, even if account credentials are compromised. Agency cyber security personnel can perform a global account sign-out and password reset if an account is suspected of being compromised.Eradication \u2013 Compromised accounts can be disabled from log-ins, passwords reset, and global sign-outs initiated. Agency cyber security personnel should review Azure AD logs to identify the source of the breach from an identity perspective. They should also review sharing audit logs against SharePoint Online and OneDrive for Business prior to the user being given their account credentials back. Additionally, a full audit of the user\u2019s log-in habits should be performed to ensure they comply with Agency security requirements.Recovery \u2013 Once the incident has been remediated the users account should be re-enabled, password reset, and access granted. Simultaneous to this, the Agency cyber security team are to review all appropriate logs dependant on the breach. Violation of integrity of Azure AD configuration(For example, unapproved changes are made to Conditional Access policies) Containment \u2013 Unauthorised changes to Conditional Access policies can result in gaps within the approved authentication process. To prevent these changes Privileged Identity Management should be utilised to only grant temporary permissions to perform privileged tasks.Eradication \u2013 Agency cyber security personnel should revert any changes made to the configuration in alignment with the configuration outlined in the \u2018Platform \u2013 Detailed Design\u2019 and \u2018Conditional Access \u2013 ABAC\u2019 documents.Recovery \u2013 Ensure all changes have been reverted, to ensure this has been completed successfully refer to the design and ABAC documents. Once the change(s) have been reverted any further authentication attempts will need to pass the conditional access policies. Measures should be in place to record any security incidents and unexpected changes to the configuration due to lack of knowledge. Violation of integrity of Office 365 configuration(For example, DLP or retention policies are disabled or modified without authorisation) Containment \u2013 DLP and retention policies are in place to ensure sensitive data does not improperly leave organisational boundaries. DLP is controlled by Azure AD permissions, as such, all access to it should be controlled by Privileged Identity Management (PIM). In the event of an incident PIM can be used to restrict administrative privileges to prevent further changes and provide an audit log of previous actions.Eradication \u2013 Agency cyber security personnel should revert any changes made to the configuration in alignment with the configuration in the \u2018Office 365 \u2013 Detailed Design\u2019 document. The Azure AD and PIM logs should be scrutinised to review by whom the unapproved change was made.Recovery \u2013 Ensure all changes have been reverted, to ensure this has been completed successfully refer to the design and ABAC documents. Agency cyber security personnel should review the last modified time of the affected policy and align it with PIM logs. A review of all privileged users and groups is recommended. Loss of availability of Agency data stored in Office 365(For example, the Microsoft Teams service is unavailable, and critical corporate data cannot be accessed) Containment \u2013 Service availability within the Office 365 and Azure environments is very high, if however, a service is offline or otherwise inaccessible, the Agency cyber security team should ensure the status of the service via the Microsoft 365 Service Health Status portal (see: Microsoft 365 Service Outages). If Microsoft Teams is inaccessible, secondary pathways to the data should be explored, for example, accessing the Teams back-end SharePoint Online site.Eradication \u2013 Not applicable for availability incidents.Recovery \u2013 The service is controlled by Microsoft and its availability is backed by Microsoft service level agreements. <p>Note, the activities listed above are designed to aid Agency cyber security personnel in responding to the specific incident types defined. However, this is not an exhaustive list of all possible responses. Agency cyber security personnel should use their judgement to determine if they are appropriate to a specific incident or if other actions should be taken.</p>"},{"location":"security/hybrid-incident-response-plan/#defender-for-endpoint-threat-remediation","title":"Defender for Endpoint threat remediation","text":"<p>Defender for Endpoint provides the ability to automate responses to detected threats, reducing the total response time for an incident and eliminating the need for manual actions to be taken by the Agency\u2019s cyber security team. Five levels of automation are available as listed below:</p> <ul> <li>No automated response \u2013 automated investigations are not run, and all activities must be performed by the Agency\u2019s cyber security team.</li> <li>Semi (any folder) \u2013 approval is required from the cyber security team for all remediation activities suggested as part of an automated investigation.</li> <li>Semi (non-temp folders) \u2013 remediation occurs automatically for temporary folders including users\u2019 download folders, remediation for other locations requires approval.</li> <li>Semi (core folders) \u2013 remediation occurs automatically for all folders other than operating system directories (e.g. Program Files and Window).</li> <li>Full \u2013 all remediation activities are performed automatically.</li> </ul> <p>The hybridsystem uses the default Defender for Endpoint configuration for automated investigations, namely Full automation. Therefore, Agency cyber security personnel will not be prompted to approve remediation activities that are recommended as part of Defender for Endpoint automated investigations. The automation level can be adjusted if required based on the specific requirements of the Agency\u2019s cyber security personnel.</p> <p>Note, prior to early 2021, the default configuration was Semi (any folder).</p>"},{"location":"security/hybrid-incident-response-plan/#automated-remediation-notification","title":"Automated remediation notification","text":"<p>Depending on the nature of the initial alert, if Microsoft Defender for Endpoint detects a threat and it is resolved automatically it will notify administrators by sending a follow up email. An example of an alert resolution email is shown below in Figure 6.</p> <p></p> <p> Figure 6 Alert Resolution Email </p> <p>Agency cyber security personnel should be aware of these notifications but should not rely on them as a trigger to cease investigation and/or recovery activities. </p>"},{"location":"security/hybrid-incident-response-plan/#recommendation_3","title":"Recommendation","text":"<p>It is recommended that Agency cyber security personnel verify that an incident resulting from alert is actually resolved before moving to the post-incident phase.</p>"},{"location":"security/hybrid-incident-response-plan/#post-incident-activity","title":"Post-incident activity","text":"<p>In accordance with the Agency\u2019s overarching IRP recommendation, \u2018lessons learnt\u2019 meetings should be held after all major incidents. However, for incidents it is recommended that one of these meetings is held after every incident. This provides an opportunity to assess the current controls in place and evaluate if additional controls can be applied to prevent or minimise the effect of a similar incident occurring again.</p> <p>Due to the regular update cadence for Azure and Office 365, new features are made available monthly. This often includes Preview features in Azure that provide enhanced capabilities but are still under development by Microsoft. One of the goals of the post-incident meetings should be to assess newly released and preview features for their potential to reduce the risk of the incident re-occurring. This may require specialist resources to attend to present newly available features and discuss how implementing them may reduce the risk to the system. </p> <p>Note, new capabilities and services \u2013 including all Preview features \u2013 should be assessed by Agency cyber security personnel before being enabled.</p> <p>Figure 7 illustrates how a preview feature is presented in the Azure portal using the \u201c\u2026 (Preview)\u201d suffix to the feature/service name.</p> <p></p> <p> Figure 7 Azure AD Preview Feature </p> <p>Note, as of the time of writing the Azure AD Identity Secure Score feature is no longer in preview and is generally available for all tenants.</p> <p>The outcomes of all post-incident meetings should be recorded in the report prepared for each incident. This ensures there is a document chain of events for the incident including tasks that will now be undertaken due to the analysis of the incident, but potentially not directly related (for example applying an additional control to prevent a future incident). This report may be the subject of an internal or external audit in accordance with the Agencies reporting requirements and therefore should be treated as a formally controlled document and stored in accordance with existing policies. Additionally, any information collected as part of the incident response should be either be directly included in the report, or its storage location referenced, as applicable.</p> <p>All other aspects of the \u2018lessons learnt\u2019 meetings and reporting requirements should be undertaken in accordance with the recommendations provided in the Agency\u2019s overarching IRP.</p>"},{"location":"security/hybrid-incident-response-plan/#coordination-with-external-resources","title":"Coordination with external resources","text":"<p>In some cases, Agency cyber security personnel may require the assistance of additional external resources to aid in one or more phases of the Incident Response Life Cycle. When this is required, Agency cyber security personnel should follow existing Agency policies and procedures to appropriately engage and communicate with external resources to assist with incident management and response.</p>"},{"location":"security/hybrid-incident-response-plan/#microsoft-support-requests","title":"Microsoft support requests","text":"<p>With the introduction of Azure AD an additional external resource becomes available to assist Agency cyber security personnel manage and respond to security incidents. Microsoft Support Requests can be made from within the Azure Portal to report issues and access assistance with all Azure hosted services, including Azure AD, Azure MFA, and Conditional Access. Support Requests are associated with Azure Subscriptions, and a user must have \u2018write permissions\u2019 for the subscription to raise a support request.</p> <p>The New support request wizard provides a three-step process to detail and submit new support requests via the Azure Portal. The three steps are:</p> <ul> <li>Basics \u2013 which includes the issue type (most likely to be technical if raised in relation to a security incident), the subscription affected and the specific service. This is illustrated below in Figure 8.</li> <li>Problem \u2013 which includes a technical description of the issue/incident including severity, problem type, category, title, and details. It also provides fields to identify when the problem started and provide the option for the user to upload a file.</li> <li>Contact information \u2013 which includes contact details for a Microsoft engineer to use to assist with the support request. Depending on the reported severity of the issue the Preferred contact method and Response may be auto-filled (for example, high severity requests default to phone and 24x7 respectively).</li> </ul> <p></p> <p> Figure 8 New Support Request </p> <p>The progress of support requests can also be tracked from within the Azure Portal under the Help + support page. This is illustrated below in Figure 9.</p> <p></p> <p> Figure 9 All Support Requests </p> <p>For more information on creating Azure support requests, including any updates to the process, refer to Create an Azure support request.</p>"},{"location":"security/hybrid-incident-response-plan/#australian-cyber-security-centre","title":"Australian Cyber Security Centre","text":"<p>In the case where an incident has not been able to be resolved using the steps defined previously, the ACSC may be engaged by agency approved staff as per the Agency\u2019s overarching IRP.</p> <p>An incident can be reported to the ACSC via the following methods:</p> <ul> <li>Website - https://www.cyber.gov.au</li> <li>Phone number \u2013 1300 CYBER1 (1300 292 371)</li> <li>Email \u2013 asd.assist@defence.gov.au</li> </ul> <p>Note, reporting an incident via the phone is preferred when the incident is considered urgent by the Agency.</p>"},{"location":"security/hybrid-security-risk-management-plan/","title":"Hybrid security risk management plan","text":""},{"location":"security/hybrid-security-risk-management-plan/#hybrid-security-risk-management-plan","title":"Hybrid security risk management plan","text":"<p>33 minutes to read - 30 March 2023</p> <p>This Security Risk Management Plan (SRMP) has been developed to demonstrate the reduction in risk that can be achieved by implementing the HybridSystem to secure access to Microsoft Office 365 services from Windows 10 endpoints and iOS mobile devices. </p> <p>Each risk has been assessed in the context of the controls implemented by the HybridSystem directly, those implemented by Microsoft as part of the Office 365 service, as well as those that are expected to be implemented by organisations that will leverage the HybridSystem. The risk matrix, including definitions of likelihood and consequence, is provided at Risk Matrix. Organisations leveraging the HybridSystem should review the risk ratings and align them to their internal risk management framework as applicable.</p> <p>The residual risk to the organisation has been assessed as Medium. This can be further reduced to Medium-Low by implementing the additional treatments detailed in this document. It is an organisation\u2019s responsibility to accept the risks and associated residual risk rating as described within this document.</p> <p>A summary of the identified risks and the assessed risk ratings are listed in Table 1.</p> <p> Table 1 Summary of Risk Events and Risk Ratings </p> Risk Event ID Risk Event Description Inherent Risk Rating Residual Risk Rating Target Risk Rating R01 Inadequate privileged account management High Medium Low R02 Sensitive/classified email sent to unauthorised recipients High Medium Medium R03 Unauthorised access to data hosted within Office 365 High Medium Medium R04 Malicious insider disables security capabilities Medium Medium Medium R05 Unskilled administrator misconfigures services Medium Medium Low R06 Components infected by malicious code High Medium Low R07 Unauthorised access to email on Exchange Online High Medium Medium R08 Denial of service attacks High Medium Low R09 Cyber security incident not detected High Medium Medium R10 Inability to recover from a data loss event Medium Low Low R11 Operating System vulnerability allows exploitation High Medium Medium R12 Application vulnerability allows exploitation High Medium Medium R13 Attacker bypasses application control capability High Low Low R14 Password spray attack directed at Azure AD High Medium Medium R15 Lack of availability due to cloud service provider outage Medium Low Low R16 Privileged Access Workstations not implemented for administration High Medium Medium R17 Mobile device compromised High High High R18 Use of un-assessed cloud services creates exposures High Medium Medium R19 Users declassifying emails without the owner\u2019s permission High Medium Medium R20 Compromise of the Azure AD Connect database Medium Medium Medium R21 Compromise of the SharePoint database Medium Medium Medium"},{"location":"security/hybrid-security-risk-management-plan/#introduction","title":"Introduction","text":"<p>This Security Risk Management (SRMP) has been prepared to support organisations planning to leverage the HybridSystem. The document demonstrates the controls implemented by the HybridSystem that reduce the risk of leveraging Office 365 up to and including PROTECTED security classified information.</p> <p>PROTECTED is used thought the document to describe the maximum security classification of information able to be managed by the system. Where PROTECTED is used, the security markings described by the Protective Security Policy Framework (PSPF) such as OFFICIAL and OFFICIAL: Sensitive are inferred.</p>"},{"location":"security/hybrid-security-risk-management-plan/#purpose","title":"Purpose","text":"<p>The purpose of this SRMP is to identify the risks and the residual risk to an organisation implementing the HybridSystem.</p>"},{"location":"security/hybrid-security-risk-management-plan/#scope","title":"Scope","text":"<p>The scope of this SRMP is limited to those threats and risks specific to the use of Office 365 as part of the HybridSystem. </p> <p>The Microsoft Office 365 service is addressed in the Information Security Registered Assessors Program (IRAP) report (available in the Service Trust Portal), therefore, risks specific to the underlying Office 365 service are not reassessed by this SRMP.</p> <p>Organisations should make themselves aware of any risks identified in the IRAP assessment that have been inherited by the HybridSystem.</p>"},{"location":"security/hybrid-security-risk-management-plan/#methodology","title":"Methodology","text":"<p>The assessment of the threats and risks presented in this SRMP has been performed in accordance with industry best practice in line with AS/NZS ISO 31000:2009. The risk matrix that was used in the assessment of risk ratings is included in Risk Matrix.</p>"},{"location":"security/hybrid-security-risk-management-plan/#risk-assessment","title":"Risk assessment","text":"<p>Detailed assessment of the risks to the operation of the system are outlined in the following sections which demonstrate the controls required to manage risks within the solution. All risk ratings have been updated to align with the risk matrix identified in Risk Matrix.</p>"},{"location":"security/hybrid-security-risk-management-plan/#r01-inadequate-privileged-account-management","title":"R01 Inadequate privileged account management","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview","title":"Risk overview","text":"<p>If a privileged account were to be compromised or system privileges were incorrectly assigned, the environment could be accessed by staff without a legitimate need to know. Once inside, the unauthorised user could use the account to make malicious changes, such as the addition, alteration or deletion of data. Depending on the nature of the account used, the unauthorised user could bring down the environment.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers, and endpoints)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Trusted Insider, Insider, Outsider</li> <li>Unintentional \u2013 Organisation system administrator</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events","title":"Threat events","text":"<ul> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unavailable or no longer trustworthy </li> <li>Obfuscate adversary actions</li> <li>Obtain information by opportunistically stealing or scavenging information systems/components</li> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive and or classified information via exfiltration</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Organisation IT Security Policy for authorised staff to not provide privileged access to unauthorised staff and not allow logging in using service accounts</li> <li>Administrative break glass accounts will only be utilised when no other privileged account can be utilised</li> <li>Approval process to obtain a privileged user account</li> <li>Training to Organisation nominated system administrators </li> <li>HybridSystem treatments</li> <li>Conditional Access enforces Multi-Factor Authentication (MFA) for all privileged users</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Azure AD Privileged Identity Management (PIM) provides Just-In-Time (JIT) privileged access</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust Role-Based Access Control (RBAC) model</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Emergency access accounts are configured in accordance with Microsoft best practice to prevent administrators from being locked-out of Azure services</li> <li>Defender for Identity monitors Active Directory authentications and performs User and Entity Behaviour Analytics (UEBA)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments","title":"Proposed treatments","text":"<ul> <li>An annual audit of privileged accounts is performed by the Organisation leveraging Azure AD access reviews</li> <li>Forward logs to a Security Information and Event Management (SIEM) solution</li> <li>Administrator training provided for specific technologies utilised within the HybridSystem</li> <li>Organisation training for security and system administrators for the use of Security Centre / Sentinel</li> <li>Monitoring of events within Security Centre / Sentinel</li> <li>Managed Service Accounts (MSAs), including group MSAs (gMSAs), are used where supported</li> <li>Privileged accounts are added to the \u201cProtected Users\u201d security group</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r02-sensitiveclassified-email-sent-to-unauthorised-recipients","title":"R02 Sensitive/classified email sent to unauthorised recipients","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_1","title":"Risk overview","text":"<p>A user sends an OFFICIAL: Sensitive or PROTECTED classified mail/attachment, or personal information (as defined by the Privacy Act 1988) to an unauthorised recipient resulting in a data spill.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_1","title":"Assets affected","text":"<ul> <li>OFFICIAL: Sensitive and PROTECTED data </li> <li>Personal information</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_1","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Unintentional \u2013 General user</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_1","title":"Threat events","text":"<ul> <li>Cause disclosure by spilling sensitive and or classified information to a system and or person not authorised to view or handle the information</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_1","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_1","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_1","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_1","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>All email transits via a gateway mail server which enforces email security classification label checking</li> <li>User awareness training to staff</li> <li>HybridSystem treatments</li> <li>Microsoft Information Protection (MIP) requires users to apply a classification marking to all emails and documents</li> <li>The sensitivity and classification markings from the PSPF for up-to PROTECTED are configured as MIP sensitivity labels   </li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_1","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_1","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_1","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_1","title":"Proposed treatments","text":"<ul> <li>Implement an automated security classification labelling solution for emails based on the classification of attachments</li> <li>Data spill processes and procedures are developed and regularly tested</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_1","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_1","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_1","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r03-unauthorised-access-to-data-hosted-within-office-365","title":"R03 Unauthorised access to data hosted within Office 365","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_2","title":"Risk overview","text":"<p>An unauthorised user attempts to access data hosted within Microsoft\u2019s Office 365 cloud services, including Exchange Online, OneDrive for Business, SharePoint Online, and Teams to gain access to PROTECTED data. The attacker may attempt to use either stolen or guessed credentials or attempt to introduce malicious code into one or more Office 365 services.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_2","title":"Assets affected","text":"<ul> <li>PROTECTED data within the tenant</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_2","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider (including Microsoft support staff)</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_2","title":"Threat events","text":"<ul> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive and or classified information via exfiltration</li> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_2","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_2","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_2","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_2","title":"Ongoing and completed treatments","text":"<ul> <li>Native Office 365 treatments</li> <li>Office 365 services IRAP assessed up to a PROTECTED level</li> <li>All Office 365 traffic is protected using Transport Layer Security (TLS)</li> <li>Exchange Online Protection (EOP) provides built in protection for Exchange Online mailboxes</li> <li>Microsoft\u2019s Cyber Defence Operations Centre helps protect, detect, and respond to Office 365 cloud service threats in real time</li> <li>HybridSystem treatments</li> <li>Password complexity is enforced in line with Information Security Manual (ISM) standards, and users are required to change passwords on first use</li> <li>Conditional Access enforces MFA for all users and administrators</li> <li>Office 365 audit logging enabled to provide the ability to audit actions undertaken within the Office 365 services</li> <li>Microsoft Defender for Office 365 Safe Links, Safe Attachments, Safe Documents, and Anti-Phishing capabilities enabled to reduce the likelihood of malicious code infiltrating the environment</li> <li>Defender for Identity monitors Active Directory authentications and performs User and Entity Behaviour Analytics (UEBA)</li> <li>Microsoft Defender for Cloud Apps enabled and app connectors and policies configured to detect risky behaviours, violations, or suspicious data points and activities within Office 365</li> <li>Sender Policy Framework (SPF), Domain based Message Authentication, Reporting and Conformance (DMARC), and DomainKeys Identified Mail (DKIM) records are configured to mitigate spoofing of emails being sent into the organisation </li> <li>Office 365 services are only utilised within Australian regions</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Pass-through Authentication (PTA) is used with Azure AD Connect for authentication</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_2","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_2","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_2","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_2","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_2","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_2","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_2","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r04-malicious-insider-disables-security-capabilities","title":"R04 Malicious insider disables security capabilities","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_3","title":"Risk overview","text":"<p>A malicious insider attempts to disable cloud-based security capabilities (e.g., Azure MFA) increasing the risk of further exploitation.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_3","title":"Assets affected","text":"<ul> <li>All cloud-based infrastructure</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_3","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Trusted Insider, Insider, or Privileged Insider</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_3","title":"Threat events","text":"<ul> <li>Functionality of security features are reduced or disabled</li> <li>Level of security monitoring is limited or disabled</li> <li>Allow malicious activity to be undetected</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_3","title":"Inherent likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_3","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_3","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_3","title":"Ongoing and completed treatments","text":"<ul> <li>HybridSystem treatments</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Azure AD PIM provides JIT privileged access</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust RBAC model</li> <li>Microsoft 365 audit logging is enabled</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_3","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_3","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_3","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_3","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre </li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_3","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_3","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_3","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r05-unskilled-administrator-misconfigures-services","title":"R05 Unskilled administrator misconfigures services","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_4","title":"Risk overview","text":"<p>An authorised administrator misconfigures services increasing the risk of further exploitation. This may be due to a misunderstanding of the functionality of specific Azure or Office 365 service due to a lack of training or insufficient procedural documentation.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_4","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers, and endpoints)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_4","title":"Threat sources","text":"<ul> <li>Accidental \u2013 Privileged User/Administrator</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_4","title":"Threat events","text":"<ul> <li>Functionality of security features are reduced</li> <li>Level of security monitoring is limited</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_4","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_4","title":"Inherent consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_4","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_4","title":"Ongoing and completed treatments","text":"<ul> <li>HybridSystem treatments</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Azure AD PIM provides JIT privileged access</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust RBAC model</li> <li>Microsoft 365 audit logging is enabled</li> <li>Standard Operating Procedures (SOPs) are provided for administrators</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_4","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_4","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_4","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_4","title":"Proposed treatments","text":"<ul> <li>Administrator training provided for specific technologies utilised within the HybridSystem</li> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_4","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_4","title":"Target consequence","text":"<p>1 \u2013 Minimal</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_4","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r06-components-infected-by-malicious-code","title":"R06 Components infected by malicious code","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_5","title":"Risk overview","text":"<p>Malicious code introduced to the environment by one or more vectors leading to the loss of availability or integrity of the solution.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_5","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers, and endpoints)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_5","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_5","title":"Threat events","text":"<ul> <li>Deliver known malicious to internal organisational information systems (e.g. virus via email including spam, whaling, spear phishing etc.)</li> <li>Deliver modified malicious code to internal organisational information systems</li> <li>Deliver targeted malicious for control of internal systems and exfiltration of data</li> <li>Insert untargeted malicious into downloadable software and/or into commercial information technology products</li> <li>Email contains unknown (zero day) exploit which is undetected by Microsoft security systems and delivered to the user</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_5","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_5","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_5","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_5","title":"Ongoing and completed treatments","text":"<ul> <li>Native Office 365 treatments</li> <li>Exchange Online Protection provides built-in protection for Exchange Online mailboxes</li> <li>Microsoft\u2019s Cyber Defence Operations Centre helps protect, detect, and respond to Office 365 cloud service threats in real time</li> <li>HybridSystem treatments</li> <li>Microsoft Defender Antivirus provides signature and heuristic-based detection</li> <li>Controlled folder access configured to prevent unauthorised applications to writing to specified directories</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>Microsoft Defender for Office 365 Safe Links, Safe Attachments, Safe Documents, and Anti-Phishing capabilities enabled to reduce the likelihood of malicious code infiltrating the environment</li> <li>Defender for Identity monitors Active Directory authentications and performs UEBA</li> <li>Windows Defender Application Control (WDAC) provides application control functionality to block unauthorised executables from running</li> <li>Windows Defender Exploit Guard (WDEG) \u2018exploit protection\u2019 feature is enabled</li> <li>Hardening of Windows 10 endpoints including application control in accordance with ACSC guidance</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Early Launch Antimalware (ELAM), Secure Boot and Trusted Boot are enabled as part of the Windows 10 SOE</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_5","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_5","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_5","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_5","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre </li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_5","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_5","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_5","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r07-unauthorised-access-to-email-on-exchange-online","title":"R07 Unauthorised access to email on Exchange Online","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_6","title":"Risk overview","text":"<p>An unauthorised user attempts to access email within mailboxes hosted in Exchange Online which may expose sensitive and or security classified data. This may be attempted using leaked or guessed credentials, or by attempting to intercept legitimate authentication traffic in transit.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_6","title":"Assets affected","text":"<ul> <li>Sensitive and or security classified data </li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_6","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_6","title":"Threat events","text":"<ul> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain security classified and or sensitive information via exfiltration</li> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> <li>Commit CEO fraud and or Business Email Compromise (BEC)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_6","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_6","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_6","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_6","title":"Ongoing and completed treatments","text":"<ul> <li>HybridSystem treatments</li> <li>Password complexity is enforced in line with ISM standards, and users are required to change passwords on first use</li> <li>Conditional Access enforces MFA for all users and administrators</li> <li>Conditional Access blocks access to Office 365 from external networks</li> <li>Service provider networks are segregated from Organisation networks through the use of a Secure Internet Gateway (SIG)</li> <li>Legacy authentication blocked via Conditional Access policies</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>PTA is used with Azure AD Connect for authentication</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_6","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_6","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_6","title":"Residual risk rating","text":"<p>2 - Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_6","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_6","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_6","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_6","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r08-denial-of-service-attacks","title":"R08 Denial of service attacks","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_7","title":"Risk overview","text":"<p>An external attacker attempts to disrupt availability by launching a Denial of Service (DoS) attack targeting one or more public facing IP addresses (including Microsoft services).</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_7","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers, and endpoints)</li> <li>Organisation gateway (if utilised)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_7","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_7","title":"Threat events","text":"<ul> <li>Conduct simple DoS attacks</li> <li>Conduct Distributed Denial of Service (DDoS) attacks</li> <li>Conduct targeted DoS attacks</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_7","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_7","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_7","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_7","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Basic DoS protection is available within the Organisation gateway</li> <li>Native Microsoft treatments</li> <li>Microsoft provide an underlying denial-of-service defense strategy for Microsoft 365</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_7","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_7","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_7","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_7","title":"Proposed treatments","text":"<ul> <li>Enhance DoS/DDoS protection within the Organisation\u2019s gateway</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_7","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_7","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_7","title":"Target risk rating","text":"<p>1 - Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r09-cyber-security-incident-not-detected","title":"R09 Cyber security incident not detected","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_8","title":"Risk overview","text":"<p>An intrusion is not detected leading to a threat of malicious activity and possible compromise of sensitive and or security classified data and services.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_8","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers and endpoints)</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_8","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_8","title":"Threat events","text":"<ul> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive information via exfiltration</li> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> <li>Coordinate a campaign that spreads attacks across organisational systems from existing presence</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_8","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_8","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_8","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_8","title":"Ongoing and completed treatments","text":"<ul> <li>Native Office 365 treatments</li> <li>Microsoft\u2019s Cyber Defence Operations Centre helps protect, detect, and respond to Office 365 cloud service threats in real time</li> <li>HybridSystem treatments</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>Defender for Cloud Apps enabled and app connectors and policies configured to detect risky behaviours, violations, or suspicious data points and activities within Office 365</li> <li>Defender for Identity monitors Active Directory authentications and performs UEBA</li> <li>Microsoft 365 audit logging is enabled</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_8","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_8","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_8","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_8","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_8","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_8","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_8","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r10-inability-to-recover-from-a-data-loss-event","title":"R10 Inability to recover from a data loss event","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_9","title":"Risk overview","text":"<p>The failure of backup procedures leading to the inability to restore critical system components and information when data loss occurs. This risk takes into account the ISM controls relating to \u2018Data backups\u2019 that are not implemented as part of the solution.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_9","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers and endpoints)</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_9","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_9","title":"Threat events","text":"<ul> <li>Availability of Organisation information and systems</li> <li>Cause integrity loss by polluting or corrupting critical data</li> <li>Cause integrity loss by injecting false but believable data into organisational information systems</li> <li>Data corruption or accidental deletion</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_9","title":"Inherent likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_9","title":"Inherent consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_9","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_9","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Ongoing operational procedures to monitor backups</li> <li>HybridSystem treatments</li> <li>Configuration settings of Office 365 are backed up through the As-Built As-Configured (ABAC) documentation</li> <li>Documents, Desktops, Pictures on endpoints are redirected to OneDrive using Windows Known Folders providing a backup of data to the cloud</li> <li>Cloud-based files have Recycle bin and Restore options</li> <li>Exchange Online has a recover deleted items from server option</li> <li>Retention policies will be created that ensure that 3 months of data is retained for Office 365 services</li> <li>Workstation configuration is stored in Intune or Microsoft Endpoint Configuration Manager (MECM), and Standard Operating Environments (SOEs) are to be used</li> <li>SOPs provided for administrators</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_9","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_9","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_9","title":"Residual risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_9","title":"Proposed treatments","text":"<ul> <li>Implement an offline backup solution in the event Office 365 services are unavailable</li> <li>Data backup and recovery processes and procedures are developed and regularly tested</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_9","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_9","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_9","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r11-operating-system-vulnerability-allows-exploitation","title":"R11 Operating system vulnerability allows exploitation","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_10","title":"Risk overview","text":"<p>Security vulnerabilities are discovered within the operating system versions utilised by the solution allowing exploitation.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_10","title":"Assets affected","text":"<ul> <li>Endpoints</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_10","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_10","title":"Threat events","text":"<ul> <li>Exploit recently discovered vulnerabilities</li> <li>Exploit vulnerabilities on internal organisational information systems</li> <li>Exploit vulnerabilities using zero-day attacks</li> <li>Craft attacks specifically based on deployed information technology environment</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_10","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_10","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_10","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_10","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>The Organisation\u2019s support team will monitor patching and perform manual remediation as required</li> <li>HybridSystem treatments</li> <li>Windows Update for Business and Microsoft Intune are enabled and configured to automatically update Windows 10 on endpoints</li> <li>Multiple software update rings provide staged approach to updates</li> <li>Intune or MECM can deploy firmware patches as executable files as required</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Microsoft Defender for Endpoint provides vulnerability management capabilities to detect missing patches</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_10","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_10","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_10","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_10","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_10","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_10","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_10","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r12-application-vulnerability-allows-exploitation","title":"R12 Application vulnerability allows exploitation","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_11","title":"Risk overview","text":"<p>Security vulnerabilities are discovered within applications utilised by the solution allowing exploitation.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_11","title":"Assets affected","text":"<ul> <li>Applications</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_11","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_11","title":"Threat events","text":"<ul> <li>Exploit recently discovered vulnerabilities</li> <li>Exploit vulnerabilities on internal organisational information systems</li> <li>Exploit vulnerabilities using zero-day attacks</li> <li>Craft attacks specifically based on deployed information technology environments</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_11","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_11","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_11","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_11","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>The Organisation\u2019s support team will monitor patching and perform manual remediation as required</li> <li>HybridSystem treatments</li> <li>Intune or MECM used to patch applications on a regular basis</li> <li>Windows Defender Firewall enabled for inbound connections</li> <li>User Account Control (UAC) enabled to enforce the elevation of privileges to help prevent vulnerability exploitation</li> <li>WDEG \u2018exploit protection\u2019 feature is enabled</li> <li>Local administrator account renamed and disabled via Intune policy</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Microsoft Defender for Endpoint provides vulnerability management capabilities to detect missing patches</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_11","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_11","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_11","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_11","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_11","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_11","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_11","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r13-attacker-bypasses-application-control-capability","title":"R13 Attacker bypasses application control capability","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_12","title":"Risk overview","text":"<p>An attacker attempts to bypass the application controls enforced on endpoints.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_12","title":"Assets affected","text":"<ul> <li>Endpoints</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_12","title":"Threat sources","text":"<ul> <li>Accidental \u2013 Privileged User/Administrator</li> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_12","title":"Threat events","text":"<ul> <li>Compromise software of organisational critical information systems</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_12","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_12","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_12","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_12","title":"Ongoing and completed treatments","text":"<ul> <li>HybridSystem treatments</li> <li>WDAC provides application control functionality to block unauthorised executables from running</li> <li>Microsoft recommended block rules and Microsoft recommended driver block rules implemented to prevent known WDAC bypasses</li> <li>Windows Application Defender Control (WDAC) policies configured centrally from Intune or MECM</li> <li>WDEG \u2018exploit protection\u2019 feature is enabled</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_12","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_12","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_12","title":"Residual risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_12","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_12","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_12","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_12","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r14-password-spray-attack-directed-at-azure-ad","title":"R14 Password spray attack directed at Azure AD","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_13","title":"Risk overview","text":"<p>An attacker attempts to gain access by attempting to logon using a number of different passwords against a crafted list of Azure AD accounts over a period of time.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_13","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers and endpoints)</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_13","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_13","title":"Threat events","text":"<ul> <li>Conduct login attempts/password guessing attacks</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_13","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_13","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_13","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_13","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Mandatory security awareness training by the Organisation to educate users on the importance of using strong passwords or passphrases</li> <li>HybridSystem treatments</li> <li>Conditional Access enforces MFA for all users and administrators</li> <li>Password complexity is enforced in line with ISM standards, and users are required to change passwords on first use</li> <li>Azure AD Smart Lockout configured to lock out accounts for a period of time after a number of invalid attempts</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Defender for Identity monitors Active Directory authentications and performs UEBA</li> <li>PTA is used with Azure AD Connect for authentication</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_13","title":"Residual likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_13","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_13","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_13","title":"Proposed treatments","text":"<ul> <li>Organisation training for security and system administrators for the use of Security Centre </li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_13","title":"Target likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_13","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_13","title":"Target risk rating","text":"<p>2 - Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r15-lack-of-availability-due-to-cloud-service-provider-outage","title":"R15 Lack of availability due to cloud service provider outage","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_14","title":"Risk overview","text":"<p>A major outage occurs to the cloud services causing the inability to provide services to the Organisation.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_14","title":"Assets affected","text":"<ul> <li>Microsoft Azure, and Microsoft Office 365.</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_14","title":"Threat sources","text":"<ul> <li>Environmental \u2013 Infrastructure Failure/Outage</li> <li>Environmental \u2013 Natural or man-made disaster</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_14","title":"Threat events","text":"<ul> <li>Network communications outage or contention</li> <li>Interruption to cloud services</li> <li>Earthquake, fire, flood, hurricane, or tornado</li> <li>Force majeure</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_14","title":"Inherent likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_14","title":"Inherent consequence","text":"<p>4 \u2013 Major</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_14","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_14","title":"Ongoing and completed treatments","text":"<ul> <li>Native Microsoft Cloud treatments</li> <li>Azure cloud services are available within multiple regions in Australia classified up to PROTECTED</li> <li>Office 365 services are available within multiple regions in Australia classified up to PROTECTED. Failover of the Office 365 services will be dependent on Microsoft\u2019s Service Level Agreement (SLA) for Office 365</li> <li>HybridSystem treatments</li> <li>The services utilised are available within multiple Azure regions (except any third-party solutions utilised, e.g. Organisation gateway and GovLink)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_14","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_14","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_14","title":"Residual risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_14","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_14","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_14","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_14","title":"Target risk rating","text":"<p>1 - Low</p>"},{"location":"security/hybrid-security-risk-management-plan/#r16-privileged-access-workstations-not-implemented-for-administration","title":"R16 Privileged Access Workstations not implemented for administration","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_15","title":"Risk overview","text":"<p>An adversary compromises privileged access mechanisms due to the lack of implementation of Privileged Access Workstations (PAWs) within the design.</p> <p>Administration of the system is undertaken by authorised privileged users by connecting from a PROTECTED level endpoint to PROTECTED level services and systems.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_15","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365, on-premises servers, and endpoints)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_15","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Trusted Insider, Insider or Privileged Insider</li> <li>Accidental \u2013 Privileged User/Administrator</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_15","title":"Threat events","text":"<ul> <li>Obtain unauthorised access</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_15","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_15","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_15","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_15","title":"Ongoing and completed treatments","text":"<ul> <li>HybridSystem treatments</li> <li>Conditional Access only allows access to administrative portals from compliant Windows 10 endpoints</li> <li>Hardening of Windows 10 endpoints including application control in accordance with ACSC guidance</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>WDAC provides application control functionality to block unauthorised executables from running</li> <li>WDEG \u2018exploit protection\u2019 feature is enabled</li> <li>Conditional Access enforces MFA for all privileged users</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Only one previous logon is cached for the Windows 10 SOE</li> <li>PTA is used with Azure AD Connect for authentication</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_15","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_15","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_15","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_15","title":"Proposed treatments","text":"<ul> <li>Organisation system administrators to have separate administration account from their normal user account for the management of O365 and Azure.</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_15","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_15","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_15","title":"Target risk rating","text":"<p>2 - Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r17-mobile-device-compromised","title":"R17 Mobile device compromised","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_16","title":"Risk overview","text":"<p>An Apple iOS device used to access Sensitive and or security classified data is compromised. This maybe as a result of the ACSC's Security Configuration Guide \u2013 Apple iOS 14 Devices (October 2021) guidance not being fully implemented due to the usability impacts, or due to the use traditional threat events as described below.</p> <p>Note, the HybridSystem does not include the use of personal iOS devices or devices using the Android operating system.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_16","title":"Assets affected","text":"<ul> <li>iOS devices</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_16","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> <li>Unintentional \u2013 General user</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_16","title":"Threat events","text":"<ul> <li>Obtain unauthorised access</li> <li>Exploit recently discovered vulnerabilities, including local and Over The Air (OTA) attacks</li> <li>Theft or loss of device</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_16","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_16","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_16","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_16","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Policy governing the use and management of mobile devices used to access classified information</li> <li>Awareness training for users with mobile devices</li> <li>HybridSystem treatments</li> <li>Implementation of the ACSC\u2019s Security Configuration Guide for iOS 14 devices via Intune Mobile Device Management (MDM), including:<ol> <li>Supervised mode</li> <li>Long and complex alphanumeric device passcode</li> <li>Biometric device unlock disabled</li> <li>Management of built-in apps (e.g., iOS Camera and Books)</li> <li>Implementation of Intune App Protection policies</li> <li>Application control via Apple Business Manager Enrollment and the use of Volume Purchasing Program (VPP) tokens</li> </ol> </li> <li>Conditional Access policies require iOS devices to be compliant, using applications with modern authentication and MFA</li> <li>Conditional Access policies only allow access from specified countries</li> <li>Conditional Access policies block sign-ins that are determined to be high risk</li> <li>Intune enforces configuration policies for iOS devices including requirement for unlock code, device encryption (native iOS AES-256 encryption), minimum software version and jailbreak detection</li> <li>All information transmitted to and from mobile devices and Office 365 is encrypted</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_16","title":"Residual likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_16","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_16","title":"Residual risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_16","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_16","title":"Target likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_16","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_16","title":"Target risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#r18-use-of-un-assessed-cloud-services-creates-exposures","title":"R18 Use of un-assessed cloud services creates exposures","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_17","title":"Risk overview","text":"<p>An administrator enables a cloud service - or new feature within an existing cloud service - for use with the HybridSystem that is not currently part of the assessed HybridSystem.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_17","title":"Assets affected","text":"<ul> <li>All cloud-based infrastructure</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_17","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider </li> <li>Accidental \u2013 Privileged User/Administrator</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_17","title":"Threat events","text":"<ul> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy Obfuscate adversary actions</li> <li>Obtain information by opportunistically stealing or scavenging information systems/components</li> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive and or classified information via exfiltration</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_17","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_17","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_17","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_17","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Organisation IT Security Policy for authorised staff to not enable new cloud services or features</li> <li>Approval process to obtain a privileged user account</li> <li>Training to Organisation nominated system administrators</li> <li>As new services become available the Organisation will undertake a risk assessment of the service and establish if the risk is within the Organisation\u2019s tolerance before engaging the new service offering</li> <li>HybridSystem treatments</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust RBAC model minimising the number of users that can onboard a new service or enable additional features</li> <li>Defender for Cloud Apps is configured to log activity by all users including Global Admins providing an audit trail for new services</li> <li>Azure AD PIM is enabled and requires Global Admins to provide a reason when requesting elevated privileges </li> <li>Azure AD PIM logs the start time and end time of elevated privileges</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_17","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_17","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_17","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_17","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_17","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_17","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_17","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r19-users-declassifying-emails-without-the-owners-permission","title":"R19 Users declassifying emails without the owner\u2019s permission","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_18","title":"Risk overview","text":"<p>Sensitivity labels allow users to apply protective markings to emails to ensure appropriate security controls are applied to information. A user has the ability to change the protective marking without the originators permission but are required to provide a text-based justification.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_18","title":"Assets affected","text":"<ul> <li>PROTECTED data within emails (including attachments)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_18","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider </li> <li>Accidental \u2013 User/Administrator</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_18","title":"Threat events","text":"<ul> <li>Sensitive and or classified information being:</li> <li>stored on the incorrect system</li> <li>viewed by personnel not cleared for that security level</li> <li>leaked to the general public</li> <li>Obtain sensitive and or classified information via exfiltration</li> <li>Invalidate the integrity and confidentiality of information</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_18","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_18","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_18","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_18","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Training to Organisation users on the appropriate measures for applying and changing protective markings</li> <li>HybridSystem treatments</li> <li>The solution has been configured to require users to provide a justification for changing a label</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_18","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_18","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_18","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_18","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_18","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_18","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_18","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r20-compromise-of-the-azure-ad-connect-database","title":"R20 Compromise of the Azure AD Connect database","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_19","title":"Risk overview","text":"<p>An unauthorised user (malicious) gains access to the database exposing the username and email addresses used by Azure AD Connect.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_19","title":"Assets affected","text":"<ul> <li>Domain identities (not including passwords/passphrases)</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_19","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_19","title":"Threat events","text":"<ul> <li>Adversary could obtain username and email addresses for user/administrator accounts being synchronised to Azure AD</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_19","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_19","title":"Inherent consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_19","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_19","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Leverage server-side event logging to monitor login events and network traffic.</li> <li>Enable multi-factor authentication on all domain accounts</li> <li>Hardening of operating systems, applications and database systems to ACSC recommended practices</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_19","title":"Residual likelihood","text":"<p>4 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_19","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_19","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_19","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_19","title":"Target likelihood","text":"<p>4 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_19","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_19","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#r21-compromise-of-the-sharepoint-database","title":"R21 Compromise of the SharePoint database","text":""},{"location":"security/hybrid-security-risk-management-plan/#risk-overview_20","title":"Risk overview","text":"<p>An unauthorised user (malicious) gains access to the database exposing configuration settings.</p>"},{"location":"security/hybrid-security-risk-management-plan/#assets-affected_20","title":"Assets affected","text":"<ul> <li>SharePoint Configuration settings</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-sources_20","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#threat-events_20","title":"Threat events","text":"<ul> <li>Adversary could potentially modify or delete the configuration settings.</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-likelihood_20","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-consequence_20","title":"Inherent consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#inherent-risk-rating_20","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#ongoing-and-completed-treatments_20","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Leverage server-side event logging to monitor login events and network traffic.</li> <li>Enable multi-factor authentication on all domain accounts</li> <li>Hardening of operating systems, applications and database systems to ACSC recommended practices</li> </ul>"},{"location":"security/hybrid-security-risk-management-plan/#residual-likelihood_20","title":"Residual likelihood","text":"<p>4 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-consequence_20","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#residual-risk-rating_20","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-security-risk-management-plan/#proposed-treatments_20","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-likelihood_20","title":"Target likelihood","text":"<p>4 \u2013 Unlikely</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-consequence_20","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/hybrid-security-risk-management-plan/#target-risk-rating_20","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/hybrid-standard-operating-procedures/","title":"Hybrid standard operating procedures","text":""},{"location":"security/hybrid-standard-operating-procedures/#hybrid-standard-operating-procedures","title":"Hybrid standard operating procedures","text":"<p>39 minutes to read - 30 March 2023</p>"},{"location":"security/hybrid-standard-operating-procedures/#device-onboarding","title":"Device onboarding","text":"<p>The authorisation and approval of users being granted access to the system is out of scope of this Standard Operating Procedure (SOP).</p> <p>Asset management of devices used by the agency and being connected to the systems is out of scope of this SOP</p> <p>Before a device can be used there are a number of procedures that must be completed for it to be onboarded correctly, these include:</p> <ul> <li>Account Creation,</li> <li>Autopilot Enrolment, and</li> <li>Device Groups.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>The account creation for a user has been approved and authorised through the agencies onboarding and security procedures. </li> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Office 365 and Microsoft Azure. </li> <li>The system administrator has an active account in Azure AD with the appropriate roles and permissions. </li> <li>A basic understanding of user account creation. </li> <li>A basic understanding of device management in the context of a Mobile Device Management (MDM) solution.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#account-creation","title":"Account creation","text":"<p>Before creating a user or privileged user account ensure the user has been authorised and approved to access the system and that Agency privileged management procedures for those users with administrative accounts have been complied with.</p> <p>This instruction includes how to create a standard user or administrative account.</p> <p>Once the below has been followed for the creation of a user or administrative account a few additional steps will occur automatically. If a standard user account is created (e.g., joe.bloggs@domain.gov.au), the account will automatically be added to the dynamic Azure AD group rol-Agency-users using the following rule syntax:</p> <pre><code>(user.accountEnabled -eq true) and (user.userPrincipalName -notContains \"_priv\")\n</code></pre> <p>This will automatically provide access to a standard set of applications and apply licenses.</p> <p>If an administrative account is created (e.g., joe.bloggs_priv@domain.gov.au) is created, the account will automatically be added to the dynamic Azure AD group rol-Agency-Administrators using the following rule syntax:</p> <pre><code>(user.accountEnabled -eq true) and (user.userPrincipalName -contains \"_priv\")\n</code></pre> <p>In this manner, user licencing and standard user applications are controlled automatically. To allow this process to occur, please allow up to 30 minutes to pass before providing login credentials to users to ensure correct propagation of group membership and licensing.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft 365 admin center (https://admin.microsoft.com)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2","title":"Step 2","text":"<p>On the left-hand pane click Users then Active users</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3","title":"Step 3","text":"<p>Click Add a user</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4","title":"Step 4","text":"<p>The Set up the basics window will appear, complete all fields as shown in the screenshot.</p> <p></p> <p>Use the following password settings:  </p> <ul> <li>Auto-generate password</li> <li>Require this user to change their password when they first sign in: Ticked</li> <li>Send password in email upon completion: Ticked</li> </ul> <p>The new password should be sent to the users\u2019 manager or another trusted source.</p> <p>When complete press Next</p> <p>IMPORTANT NOTE: when selecting a username, ensure that the standard user account follows the Agency naming standard of <code>user.name@domain.gov.au</code>, for an Administrative account however ensure the suffix <code>_priv</code> is appended to the username (e.g., <code>user.name_priv@domain.gov.au</code>). The reason for this is because dynamic groups exist within Azure AD that will automatically control what licenses are added to the user account.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5","title":"Step 5","text":"<p>On the Assign product licenses screen, select Australia as the location, and then select Create user without product license (not recommended).</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6","title":"Step 6","text":"<p>On the Optional settings page, leave the Role as User: no administration access.</p> <p>Complete all appropriate fields in the Profile info section.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7","title":"Step 7","text":"<p>Review the user to be created and ensure all of the details you have entered are correct.</p> <p>When complete press Finish adding</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8","title":"Step 8","text":"<p>The account has now been created, press the Close button.</p> <p>Note: allow up to 1 hour for the account to fully create as dynamic group changes will propagate on the back-end.</p>"},{"location":"security/hybrid-standard-operating-procedures/#autopilot-enrolment","title":"Autopilot enrolment","text":"<p>The following instruction advises how to enrol a device within Autopilot. This must be completed for each device that is used within the environment. This ensures that the device builds correctly with the right settings and Microsoft Endpoint Manager policies applied.</p> <p>There are a number of prerequisites required for this section, the primary of which is to supply a .CSV file with the following fields prefilled.</p> <p><code>&lt;Serial Number&gt;, &lt;Windows Product ID&gt;, &lt;Hardware Hash&gt;, &lt;Order ID&gt;</code></p> <p>In many cases, when hardware is ordered from a vendor, they can provide this information prior to the devices being delivered. This instruction will assume that the .CSV exists and you as an administrator are ready to upload it into the Microsoft Endpoint Manager admin center.</p> <p>Please also note that there are a number of different avenues/portals that you can use to access Autopilot and this simply describes one of them, which is accurate as of the time of writing.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_1","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com/) then select Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_1","title":"Step 2","text":"<p>Within Devices, on the left-hand pane, select Enroll Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_1","title":"Step 3","text":"<p>Within Enroll Devices, select Windows enrollment from the left-hand pane</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_1","title":"Step 4","text":"<p>Within the Enroll Devices \u2013 Windows enrollment blade, select Devices under the Windows Autopilot Deployment Program section</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_1","title":"Step 5","text":"<p>Within the Windows Autopilot devices screen, press the Import button</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_1","title":"Step 6","text":"<p>When the Add Windows Autopilot devices pane appears on the right of the screen, click the Choose file icon, then select your .CSV file.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_1","title":"Step 7","text":"<p>Review whether the results are correct, and the rows are formatted correctly, if so, press Import</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_1","title":"Step 8","text":"<p>Allow the import to complete, note whether it has completed successfully via the Notifications bell icon in the top right of the screen.</p>"},{"location":"security/hybrid-standard-operating-procedures/#device-groups","title":"Device groups","text":"<p>To ensure devices receive the correct policy assignments they must be added to the correct groups within Azure Active Directory (Azure AD). The following describes how to add a device to a group.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_2","title":"Step 1","text":"<p>Navigate to the Azure portal (https://portal.azure.com) then select Azure Active Directory</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_2","title":"Step 2","text":"<p>In the left-hand pane, click Groups</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_2","title":"Step 3","text":"<p>Identify the group that your device is to be added to and click on it.</p> <p>In this example we will select grp-User-Workstations</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_2","title":"Step 4","text":"<p>In the left hand-pane, click on Members</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_2","title":"Step 5","text":"<p>Along the top ribbon, click Add members</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_2","title":"Step 6","text":"<p>In the pane that appears on the right of the screen, identify the devices to be added, click on them, then press Select</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_2","title":"Step 7","text":"<p>Ensure the device has been added to the group via the Notifications icon in the top right of the screen.</p>"},{"location":"security/hybrid-standard-operating-procedures/#device-offboarding","title":"Device offboarding","text":"<p>Asset management and security procedures regarding lost and stolen devices are out of scope of this SOP and are expected to be managed by the Agency.</p> <p>If a device is lost, stolen, broken or simply is being replaced, there are several tasks that must be completed to correctly offboard it. Offboarding simply means removing the device from the Agency Azure Active Directory (Azure AD) instance and anywhere else it can be identified within the overarching tenant.</p> <p>This includes the following tasks:</p> <ul> <li>Removal from Azure Active directory,</li> <li>Removal from Microsoft Endpoint Manager (formerly Intune),</li> <li>Removal from Microsoft Defender Security Center, and</li> <li>Removed as a Windows Autopilot device.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_1","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Office 365 and Microsoft Azure.</li> <li>Appropriate administrative privileges within the environment to manage user accounts and devices.</li> <li>The ID/asset number of the device in question.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#account-disable","title":"Account disable","text":"<p>Depending on the Agency and security practices in place accounts may need to be disabled rather than deleted with the departure of a user from the Agency.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_3","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft 365 admin center (https://admin.microsoft.com)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_3","title":"Step 2","text":"<p>On the left-hand pane click Users then Active users</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_3","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify the user and select them</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_3","title":"Step 4","text":"<p>With the user selected click on Block sign-in then tick the Block this user from signing in box</p> <p>When complete press Save changes then the back arrow to return to the user </p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_3","title":"Step 5","text":"<p>Select the Licenses and Apps tab on the user and remove any licenses that may be assigned to the user to ensure they are free for use for a new user</p> <p>When complete press Save changes</p> <p>Note: Allow up to one hour for any existing sessions to be completely logged out, new sign-ins are immediately blocked. Users Mail and OneDrive will remain intact in the event of an audit required</p>"},{"location":"security/hybrid-standard-operating-procedures/#account-deletion","title":"Account deletion","text":"<p>Depending on the Agency and security practices in place accounts may need to be deleted rather than disabled with the departure of a user from the Agency.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_4","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft 365 admin center (https://admin.microsoft.com)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_4","title":"Step 2","text":"<p>On the left-hand pane click Users then Active users</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_4","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify the user and select them</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_4","title":"Step 4","text":"<p>With the user selected click on Delete user then tick any requirements for the users Mail and OneDrive</p> <p>When complete press Delete user</p> <p>Note: Any assigned licenses will also be removed with this action</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_4","title":"Step 5","text":"<p>Confirmation will be provided for the account deletion</p> <p>When complete press Close</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_3","title":"Step 6","text":"<p>The user will remain under Deleted users for 30 days where they can be restored if required</p>"},{"location":"security/hybrid-standard-operating-procedures/#remove-device-from-azure-ad","title":"Remove device from Azure AD","text":"<p>Complete the below steps to remove the device from Azure AD. Prior to these steps being completed, the administrator performing them must know the ID/asset number of the device being removed from Azure AD.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_5","title":"Step 1","text":"<p>Within your internet browser navigate to the Azure Portal (https://portal.azure.com), then click on Azure Active Directory</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_5","title":"Step 2","text":"<p>In the left-hand pane, select Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_5","title":"Step 3","text":"<p>Within the Devices blade, either by scrolling through the list, or using the search bar, identify your device, check the box, then press Delete</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_5","title":"Step 4","text":"<p>When prompted to delete, press Yes</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_5","title":"Step 5","text":"<p>Confirm that the process has completed successfully in the Notifications button in the top right of the screen.</p>"},{"location":"security/hybrid-standard-operating-procedures/#remove-device-from-microsoft-endpoint-manager","title":"Remove device from Microsoft Endpoint Manager","text":"<p>Complete the below steps to remove a device from Microsoft Endpoint Manager.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_6","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com/), then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_6","title":"Step 2","text":"<p>Within the Devices blade, select All devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_6","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify your device, check the box, then press Delete</p> <p>Note, Microsoft Endpoint Manager only allows 100 devices to be selected at one time. If more than 100 devices need to be deleted at one time deletion can be performed in batches.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_6","title":"Step 4","text":"<p>A blade will appear on the right of the screen, confirm that the device is correct, then press Delete</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_6","title":"Step 5","text":"<p>Confirm that the process has completed successfully in the Notifications button in the top right of the screen.</p>"},{"location":"security/hybrid-standard-operating-procedures/#offboard-a-device-from-microsoft-defender-manual","title":"Offboard a device from Microsoft Defender - manual","text":"<p>Follow the below steps to manually offboard a device from Microsoft Defender Advanced Threat Protection (ATP). These steps can only be followed if the device is available to be logged into.</p> <p>Please also note that an administrator with appropriate permissions is required to perform these steps.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_7","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Defender Security Center (https://securitycenter.windows.com/), then click on Settings in the left-hand pane (note: you may need to expand the left-hand pane to see Settings)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_7","title":"Step 2","text":"<p>Within the Settings screen, click on Offboarding</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_7","title":"Step 3","text":"<p>From the first dropdown menu, select Windows 10</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_7","title":"Step 4","text":"<p>From the second dropdown menu, select Local Script (for up to 10 machines), then click Download package</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_7","title":"Step 5","text":"<p>When prompted to download the package, click Download</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_4","title":"Step 6","text":"<p>When the package has downloaded, open the .zip file and extract the .cmd to the endpoint to be offboarded</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_3","title":"Step 7","text":"<p>From within this explorer window on the endpoint to be offboarded, click File &gt; Open Windows PowerShell &gt; Open Windows PowerShell as administrator. When prompted, enter your relevant administrative credentials</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_2","title":"Step 8","text":"<p>Once the PowerShell window launches, type <code>cmd</code> then press enter (this will launch command prompt within your PowerShell session)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9","title":"Step 9","text":"<p>Type <code>.\\\\</code> then press tab, the name of the .cmd script you have downloaded should autofill per the screenshot, then press Enter (Return)</p> <p></p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10","title":"Step 10","text":"<p>Allow the script to run, once it has completed allow up to 24 hours for the offboarding to be complete and the results reflected in the portal.</p> <p>Note, the machine being offboarded does not need to be continuously online during this period.</p>"},{"location":"security/hybrid-standard-operating-procedures/#offboard-a-device-from-microsoft-defender-automated","title":"Offboard a device from Microsoft Defender - automated","text":"<p>Follow the below steps to offboard a device from Microsoft Defender ATP using the automated \u2018offboarding\u2019 process. These steps do not require that the device is available to be logged into and are recommended in the event a device is reported lost or stolen.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_8","title":"Step 1","text":"<p>Within your internet browser navigate to the Azure Portal (https://portal.azure.com), then click on Azure Active Directory</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_8","title":"Step 2","text":"<p>Identify whether the device in question is a USER or ADMINISTRATOR device</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_8","title":"Step 3","text":"<p>In the left-hand pane, select Groups. Locate either the grp-Admin-Workstations or grp-User-Workstations group (as appropriate) and select it</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_8","title":"Step 4","text":"<p>In the left-hand pane, select Members</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_8","title":"Step 5","text":"<p>Within the list of direct members, locate the device in question, tick the box, then press Remove</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_5","title":"Step 6","text":"<p>When prompted to remove the selected member(s), click Yes</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_4","title":"Step 7","text":"<p>Navigate back to the Groups \u2013 All groups blade, then select grp-RemoveFromDefenderATP</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_3","title":"Step 8","text":"<p>Within the grp-RemoveFromDefenderATP select Members</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9_1","title":"Step 9","text":"<p>Click Add members</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10_1","title":"Step 10","text":"<p>Identify your device from the list, or use the Search bar, then press Select</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-11","title":"Step 11","text":"<p>Allow some time for the process to complete, it can take some time as it relies on the device syncing back up with Azure.</p> <p>Note: this process could take some time as the endpoint device may be switched off, or not have an internet connection. Additionally, the logs for the device will remain in the Security Center by design.</p>"},{"location":"security/hybrid-standard-operating-procedures/#remove-device-from-autopilot","title":"Remove device from Autopilot","text":"<p>As a prerequisite to this step, you must first delete the device from Azure Active Directory and Microsoft Endpoint Manager. Once these steps have been completed the device will not be able to be rebuilt using Autopilot.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_9","title":"Step 1","text":"<p>Within your internet browser navigate to the Azure Portal (https://endpoint.microsoft.com), then select Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_9","title":"Step 2","text":"<p>In the left-hand pane, select Device enrollment</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_9","title":"Step 3","text":"<p>Within Enroll Devices, select Windows enrollment</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_9","title":"Step 4","text":"<p>Within the Enrol Devices, Windows enrollment blade, select Devices under the Windows Autopilot Deployment Program section</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_9","title":"Step 5","text":"<p>Within the Windows Autopilot devices screen, identify the device in question from the list or by using the search field.</p> <p>Once identified, tick the box next to the device, then press Delete</p> <p>Note: if you require further information about the device, you can click on it, a pane should appear on the right with further information about that specific device.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_6","title":"Step 6","text":"<p>When prompted to delete, press Yes</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_5","title":"Step 7","text":"<p>Confirm that the process has completed successfully in the Notifications button in the top right of the screen.</p>"},{"location":"security/hybrid-standard-operating-procedures/#remote-wiping-a-device","title":"Remote wiping a device","text":"<p>A remote wipe of a device may be required in the event of a lost or stolen device and can be used as a last resort effort to secure the device. In order for the remote wipe to work correctly the device will need to have been powered on with internet access back to the tenant.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_10","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com), then select Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_10","title":"Step 2","text":"<p>Select All Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_10","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify the device </p> <p>Once identified click on the device</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_10","title":"Step 4","text":"<p>With the device selected you should now be able to select Wipe</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_10","title":"Step 5","text":"<p>For Windows 10 1709 and above devices the Wipe device, but keep enrollment state and associated user account can be used to keep certain data on the device. Not all data is retained.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_7","title":"Step 6","text":"<p>Wipe device and continue to wipe even if device loses power can be used to ensure that the wipe is not circumvented by power cycling the device</p> <p>In some instances this setting could render the device unable to power on correctly and should be used with some level of caution</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_6","title":"Step 7","text":"<p>When ready to confirm the wipe select Yes</p> <p>The device should receive the wipe action within 15 minutes of confirmation</p>"},{"location":"security/hybrid-standard-operating-procedures/#usb-device-control","title":"USB device control","text":"<p>USB device control should be utilised to limit the use to USB ports on a Windows 10 device. Limiting users ability to use USB ports and devices ensures that the environment is not exposed to unwanted malicious content from untrusted sources as well as reduces the likelihood that a trusted insider is able to remove confidential material. </p> <p>There are a number of methods that can be utilised from fully restricting USB ports, to restricting untrusted processes as well as trusting/denying specific devices.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_2","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#blocking-removable-storage","title":"Blocking removable storage","text":"<p>The following describes the steps required to create an Microsoft Endpoint Manager profile that will block removable devices from use on a Windows 10 device.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_11","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com/) then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_11","title":"Step 2","text":"<p>Within Devices click on Configuration profiles</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_11","title":"Step 3","text":"<p>Along the top ribbon, click Create Profile</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_11","title":"Step 4","text":"<p>The Create a profile blade will open, select Windows 10 and later platform and Device restrictions profile</p> <p>When complete press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_11","title":"Step 5","text":"<p>Enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_8","title":"Step 6","text":"<p>When presented with the Device Configuration settings screen expand General and select Removable storage and USB connection to ensure that they are set to Block then press Next</p> <p>Note: Removable storage will block the use of removable storage devices within Windows, while USB connection will block USB ports on the device. USB connection setting will not block the use of USB charging though.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_7","title":"Step 7","text":"<p>When presented with the Assignments screen select the groups that this profile is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_4","title":"Step 8","text":"<p>When presented with the Applicability Rules screen create an appropriate rule that this profile is to be applied to.</p> <p>In this example they have been left blank</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9_2","title":"Step 9","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10_2","title":"Step 10","text":"<p>To confirm that these settings have been applied to an endpoint, plug in a USB device in to a Windows 10 device and ensure the USB device is blocked.</p>"},{"location":"security/hybrid-standard-operating-procedures/#blocking-untrusted-and-unsigned-processes-running-from-usb","title":"Blocking untrusted and unsigned processes running from USB","text":"<p>USB devices may be allowed to be used within an Agency, however untrusted and unsigned process can be blocked to prevent infection. Alternatively, this setting can also be set to Audit Only to track the processes.</p> <p>This will include executable files as well as script files.</p> <p>Note: This will require Endpoint Protection running with real-time protection enabled.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_12","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_12","title":"Step 2","text":"<p>Within Devices click on Configuration profiles</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_12","title":"Step 3","text":"<p>Along the top ribbon, click Create Profile</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_12","title":"Step 4","text":"<p>The Create a profile blade will open, select Windows 10 and later platform and Endpoint Protection profile</p> <p>When complete press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_12","title":"Step 5","text":"<p>Enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_9","title":"Step 6","text":"<p>When presented with the Endpoint Protection settings screen expand Microsoft Defender Exploit Guard and Attack Surface Reduction then select Untrusted and unsigned process that run from USB to ensure that it is set to Block then press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_8","title":"Step 7","text":"<p>When presented with the Assignments screen select the groups that this profile is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_5","title":"Step 8","text":"<p>When presented with the Applicability Rules screen create an appropriate rule that this profile is to be applied to.</p> <p>In this example they have been left blank</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9_3","title":"Step 9","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10_3","title":"Step 10","text":"<p>To confirm that these settings have been applied to an endpoint, plug in a USB device in to a Windows 10 device and test running some executable and script files.</p>"},{"location":"security/hybrid-standard-operating-procedures/#allow-or-prevent-installation-of-specific-peripherals","title":"Allow or prevent installation of specific peripherals","text":"<p>Allowing or preventing the installation of specific peripherals can allow more granular control of USB devices based off of their hardware ID\u2019s or their setup classes.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_13","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_13","title":"Step 2","text":"<p>Within Devices click on Configuration profiles</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_13","title":"Step 3","text":"<p>Along the top ribbon, click Create Profile</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_13","title":"Step 4","text":"<p>The Create a profile blade will open, select Windows 10 and later platform and Administrative Templates profile</p> <p>When complete press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_13","title":"Step 5","text":"<p>Enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_10","title":"Step 6","text":"<p>When presented with the Settings screen expand Computer Configuration/System/Device Installation/Device Installation Restrictions then select the appropriate policy depending on the requirement.</p> <p>In this example the Allow installation of devices that match any of these device IDs is being used</p> <p>Note: When using an allow policy the Prevent installation of devices not described by other policy settings will also need to be set to ensure that only peripherals on the allow list can be used.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_9","title":"Step 7","text":"<p>Select Enable and enter in the appropriate device ID or setup class depending on the policy in use</p> <p>When complete press OK then Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_6","title":"Step 8","text":"<p>A Scope tag can be created if required</p> <p>In this example they have been left as Default</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9_4","title":"Step 9","text":"<p>When presented with the Assignments screen select the groups that this profile is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10_4","title":"Step 10","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-11_1","title":"Step 11","text":"<p>To confirm that these settings have been applied to an endpoint, plug in a USB device in to a Windows 10 device that matches the policy that has been set and observe if it has been allowed or prevented depending on the policy that was set</p>"},{"location":"security/hybrid-standard-operating-procedures/#microsoft-defender-atp","title":"Microsoft Defender ATP","text":"<p>Microsoft Defender Advanced Threat Protection is a complete endpoint security solution powered by the Microsoft cloud. The following details a few of the functions that the product can be utilised for.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_3","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure. </li> <li>Licensing for Microsoft Defender ATP is required.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#advanced-hunting-in-microsoft-defender-atp","title":"Advanced Hunting in Microsoft Defender ATP","text":"<p>Advanced hunting utilises a query-based approach to search for known or potential new threats to the environment. </p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_14","title":"Step 1","text":"<p>Navigate to the Security Center (https://securitycenter.windows.com/) then click on Advanced Hunting</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_14","title":"Step 2","text":"<p>Click on Query which will allow custom queries to be written</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_14","title":"Step 3","text":"<p>The new query should be written in the text field</p> <p>When the query is ready select Run query</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_14","title":"Step 4","text":"<p>Results will be displayed underneath the text box</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_14","title":"Step 5","text":"<p>The Schema section can be used to assist with building custom queries</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_11","title":"Step 6","text":"<p>The Shared queries section list a number of community based queries that can be used as starter queries or as if if they meet the specific requirement</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_10","title":"Step 7","text":"<p>Custom queries can be saved using the Save button</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_7","title":"Step 8","text":"<p>Provide a name and save location for the query</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9_5","title":"Step 9","text":"<p>Saved queries can be retrieved from My queries section</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10_5","title":"Step 10","text":"<p>Queries can be used for detection by using the Create detection rule</p> <p>Detection rules can be run on set intervals to proactively monitor for issues within the environment </p>"},{"location":"security/hybrid-standard-operating-procedures/#step-11_2","title":"Step 11","text":"<p>Fill in the required details for the Detection rule</p> <p>When ready click Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-12","title":"Step 12","text":"<p>Enable any required Actions as a result of the detection</p> <p>When ready click Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-13","title":"Step 13","text":"<p>Review the Summary and validate the previously configured settings</p> <p>When ready click Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-14","title":"Step 14","text":"<p>Any Detection rules will be available under the Custom detections section</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-15","title":"Step 15","text":"<p>When the Detection rule is opened the option to Edit detection rule will be available to change any details with the detection rule</p>"},{"location":"security/hybrid-standard-operating-procedures/#windows-update-for-business","title":"Windows Update for Business","text":"<p>Windows Update for Business is utilised for all Windows 10 endpoints within the tenant. It manages and deploys the latest security updates, Windows features, and patches by directly connecting to the Windows Update service. It also provides management capability for devices within the tenant.</p> <p>Within the environment, updates are maintained and controlled by Update Rings. Update Rings have been deployed within the environment already however more may need to be created dependant on a number of factors such as what hardware and operating systems are supported.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_4","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure. </li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#create-update-ring","title":"Create update ring","text":"<p>The following describes the steps required to create a Windows 10 update ring.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_15","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_15","title":"Step 2","text":"<p>Within Devices click on Windows 10 updates rings</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_15","title":"Step 3","text":"<p>Along the top ribbon, click Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_15","title":"Step 4","text":"<p>The Create Windows 10 update ring blade will open, enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_15","title":"Step 5","text":"<p>When presented with the Update ring settings screen select the appropriate settings then press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_12","title":"Step 6","text":"<p>When presented with the Assignments screen select the groups that this update ring is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_11","title":"Step 7","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_8","title":"Step 8","text":"<p>To confirm that these settings have been applied to an endpoint, navigate to Settings &gt; Update &amp; Settings &gt; Advanced Options on a Windows 10 device and ensure the settings match your update ring.</p>"},{"location":"security/hybrid-standard-operating-procedures/#manage-update-ring","title":"Manage update ring","text":"<p>Update rings are able to be modified, this includes settings within the update ring itself, as well as assignments. The following explains how to complete these changes.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_16","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_16","title":"Step 2","text":"<p>Within Devices click on Windows 10 updates rings</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_16","title":"Step 3","text":"<p>Identify the update ring you wish to modify; in this instance it is Semi Annual Channel Ring then click on it</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_16","title":"Step 4","text":"<p>Within Semi Annual Channel Ring, click on Properties</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_16","title":"Step 5","text":"<p>Within the Properties screen there are 3 sections that can be modified:</p> <ul> <li>Basics</li> <li>Update ring settings</li> <li>Assignments</li> </ul> <p>Identify what needs to be adjusted, then press the Edit button to adjust.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_13","title":"Step 6","text":"<p>Within the edit window, make the required changes then click Review + save when complete</p>"},{"location":"security/hybrid-standard-operating-procedures/#litigation-hold","title":"Litigation hold","text":"<p>There are a number of methods that can be employed to place a mailbox on litigation hold. Two examples have been provided to show different ways of enabling litigation hold.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_5","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Exchange Online and/or Office 365. </li> <li>An understanding of PowerShell in an Office 365 and/or Azure context. </li> <li>An administrative account with the required permissions, including to install the Exchange Online PowerShell Module. </li> <li>The administrator performing these steps may need to be a member of the Organization Management or Role Management roles to be able to perform the steps in the Assign eDiscovery Permissions section.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#powershell-litigation-hold","title":"PowerShell litigation hold","text":"<p>This example explains how to place a single users\u2019 mailbox on litigation hold via PowerShell. </p> <p>Please note that these steps require the Exchange Online PowerShell Module to be installed by an authorised administrator.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_17","title":"Step 1","text":"<p>Launch the Microsoft Exchange Online PowerShell module</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_17","title":"Step 2","text":"<p>Connect to the tenant using the following command:</p> <pre><code>Connect-EXOPSSession -UserPrincipalName your.name@desktop.gov.au\n</code></pre>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_17","title":"Step 3","text":"<p>A pop-up window will appear asking for your password, enter it and press Sign in.</p> <p>You will also be requested for a MFA challenge response, accept it, the pop-up window will close when authentication is successful.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_17","title":"Step 4","text":"<p>Run the following command to place a mailbox on litigation hold:</p> <pre><code>Set-Mailbox user.name@desktop.gov.au -LitigationHoldEnabled $true -LitigationHoldDuration 365\n</code></pre>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_17","title":"Step 5","text":"<p>Run the following command to put all mailboxes in the tenant in litigation mode:</p> <pre><code>Get-Mailbox -ResultSize Unlimited -Filter {RecipientTypeDetails -eq \"UserMailbox\"} | Set-Mailbox -LitigationHoldEnabled $true -LitigationHoldDuration 365\n</code></pre>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_14","title":"Step 6","text":"<p>When complete, close your session with the following command:</p> <pre><code>Remove-PSSession\n</code></pre>"},{"location":"security/hybrid-standard-operating-procedures/#web-interface-litigation-hold","title":"Web interface litigation hold","text":"<p>This example explains how to place a single users\u2019 mailbox on litigation hold via the Exchange Admin Center (EAC) web interface.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_18","title":"Step 1","text":"<p>Log into the Exchange Admin center at https://outlook.office365.com/</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_18","title":"Step 2","text":"<p>On the Dashboard, click on mailboxes under the recipients heading</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_18","title":"Step 3","text":"<p>Within the mailboxes screen, identify the mailbox to be placed on litigation hold then double click it.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_18","title":"Step 4","text":"<p>A pop-up window will appear, when it does, select mailbox features from the left-hand pane</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_18","title":"Step 5","text":"<p>Within mailbox features, scroll down until you see the Litigation hold section and enable/disable as required</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_15","title":"Step 6","text":"<p>If enabling litigation hold, please note that you will be prompted to enter the following:</p> <ul> <li>Litigation hold duration (days)</li> <li>A note/description for the hold</li> <li>A URL to direct users to for further information</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#assign-ediscovery-permissions","title":"Assign eDiscovery permissions","text":"<p>The following describes the steps required to modify eDiscovery Manager permissions within the tenant.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_19","title":"Step 1","text":"<p>Navigate to the Office 365 Security &amp; compliance Center (https://protection.office.com/)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_19","title":"Step 2","text":"<p>In the left-hand pane, click on Permissions</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_19","title":"Step 3","text":"<p>Within the Permissions window, tick the eDiscovery Manager checkbox</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_19","title":"Step 4","text":"<p>Within the eDiscovery Manager pane that appears, make any changes that are required.</p> <p>Within this pane, you are able to assign an eDiscovery Manager, and eDiscovery Administrator, modify the existing assigned roles</p>"},{"location":"security/hybrid-standard-operating-procedures/#create-ediscovery-case","title":"Create eDiscovery case","text":"<p>The following describes how to create a new eDiscovery case within the Microsoft 365 Compliance Center.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_20","title":"Step 1","text":"<p>Navigate to the Microsoft 365 Compliance Center (https://compliance.microsoft.com/)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_20","title":"Step 2","text":"<p>In the left-hand pane, select eDiscovery, then click on Core</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_20","title":"Step 3","text":"<p>Within the Core eDiscovery screen click the Create a case button</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_20","title":"Step 4","text":"<p>In the pane that appears on the right of the window, enter a Case name and Case description then press Save</p>"},{"location":"security/hybrid-standard-operating-procedures/#manage-ediscovery-case","title":"Manage eDiscovery case","text":"<p>The following describes how to manage an existing eDiscovery case within the Microsoft 365 Compliance Center.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_21","title":"Step 1","text":"<p>Navigate to the Microsoft 365 Compliance Center (https://compliance.microsoft.com/)</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_21","title":"Step 2","text":"<p>In the left-hand pane, select eDiscovery, then click on Core</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_21","title":"Step 3","text":"<p>Within the Core eDiscovery window, identify your case, then click on it</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_21","title":"Step 4","text":"<p>The Manage this case window will appear, within it you can manage members, role groups, and the case status. You can also close or delete the case.</p> <p>When these changes have been made, press either Save or Close</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_19","title":"Step 5","text":"<p>Back in the Core eDiscovery screen, check the radio tick box for your case then press Open case</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_16","title":"Step 6","text":"<p>A new browser tab will open, within it you can view holds, perform searches, and perform exports.</p>"},{"location":"security/hybrid-standard-operating-procedures/#system-configuration-restoration","title":"System configuration restoration","text":"<p>The solution is primarily cloud based, and as such the systems and services used to support it have been configured in the various portals that comprise the Microsoft Office 365 and Microsoft Azure platforms.</p> <p>The services and settings provided by the HybridSystem should not be modified without fully understanding the security and operational consequence of the change.</p> <p>If there have been changes (authorised or otherwise) that need to be rolled back or reverted, the original As-Built As-Configured (ABAC) documents are to be referenced as a gold-source.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_6","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure and Office 365. </li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#abac-restore","title":"ABAC restore","text":"<p>When a system or service must be restored to its original state, the relevant ABAC document should be referred to and used to reconfigure the system or service back to its intended working order.</p> <p>The following is an example of how to restore settings to the original HybridSystem build state within Azure Active Directory (Azure AD). In this scenario the LinkedIn account connections setting has been adjusted and is being reset.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_22","title":"Step 1","text":"<p>Log into the Microsoft Azure portal, then select Azure Active Directory</p> <p>https://portal.azure.com/</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_22","title":"Step 2","text":"<p>Additionally, open the corresponding ABAC. In this instance, the ABAC in question is Blueprint \u2013 Platform \u2013 ABAC.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_22","title":"Step 3","text":"<p>Review the original ABAC, specifically looking for the settings in question.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_22","title":"Step 4","text":"<p>Identify the setting within the ABAC and ensure that it is configured correctly within the portal.</p> <p>Note: In the above example the LinkedIn account connections setting has been adjusted, this will of course change based on the service/system in question and this should only be used as an example.</p>"},{"location":"security/hybrid-standard-operating-procedures/#important-file-restoration","title":"Important file restoration","text":"<p>All data that is considered important will be stored in a corporate data store, such as OneDrive for Business, SharePoint Online, or Exchange Online. As such, these locations are controlled by retention policies and can be configured to retain deleted items potentially indefinitely. Within the solution a number of retention policies have been created as a baseline, if identified by Agency or business, further can be created with the steps listed below.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_7","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure and Office 365. </li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#retention-backup-policies","title":"Retention &amp; backup policies","text":"<p>For full detail of the retention and backup policies employed within the tenant, the design documents and ABACs should be referred to. This example will show how to review and modify existing retention policies.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_23","title":"Step 1","text":"<p>Navigate to the Microsoft 365 compliance portal (https://compliance.microsoft.com) then click on Policies</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_23","title":"Step 2","text":"<p>Within Policies click on Retention</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_23","title":"Step 3","text":"<p>Within the Information governance screen, you are able to create new retention policies, and modify existing policies.</p> <p>In this example we will be modifying the OneDrive Indefinite Hold policy.</p> <p>Open the policy by clicking on it.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_23","title":"Step 4","text":"<p>Within the policy, review the existing settings then click on Edit policy</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_20","title":"Step 5","text":"<p>Within the Policy name screen, ensure there is a name and description for the policy in question.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_17","title":"Step 6","text":"<p>Within the Locations applied screen, set the locations to be affected by this policy.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_12","title":"Step 7","text":"<p>Within the Policy settings screen set how long the data is to be retained for.</p> <p>Press Save to ensure settings across the 3 aforementioned sections are saved.</p>"},{"location":"security/hybrid-standard-operating-procedures/#onedrive-data-restoration","title":"OneDrive data restoration","text":"<p>Data saved to OneDrive for Business is saved indefinitely, if data is deleted it can be restored by various methods based on where it was deleted from. </p> <p>If a file is located on a user\u2019s device in their OneDrive for Business folder, it can simply be restored from the Recycling Bin.</p> <p>Note: deleted folders do not end up in the Computer Recycle Bin, only files. Additionally, sync must be configured in OneDrive for Business on the user\u2019s device, if not, restoring from the Computer Recycle Bin will not work.</p> <p>Files can also be restored from the OneDrive web interface by following the steps outlined below.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_24","title":"Step 1","text":"<p>Log into OneDrive through the web interface by visiting the Office 365 portal (www.office.com) then clicking on OneDrive</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_24","title":"Step 2","text":"<p>Within OneDrive, click on Recycle bin</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_24","title":"Step 3","text":"<p>Within the Recycle bin you will see data that has been deleted in the last 93 days</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_24","title":"Step 4","text":"<p>If the file you\u2019re looking for isn\u2019t in the Recycle bin, it may have been moved to the Second-stage recycle bin.</p> <p>Click Second-stage recycle bin to access it</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_21","title":"Step 5","text":"<p>Within the Recycle bin or Second-stage recycle bin files can be restored by clicking on them then clicking Restore from the ribbon</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_18","title":"Step 6","text":"<p>This will restore the file to its original location, including files restored from the Second-stage recycle bin</p>"},{"location":"security/hybrid-standard-operating-procedures/#sharepoint-data-restoration","title":"SharePoint data restoration","text":"<p>Data saved to SharePoint Online is saved indefinitely, if data is deleted however it can be restored by simply following the steps below. </p> <p>Note: Teams data resides within a SharePoint site on the back-end, as such, this method can be used to restore Teams data as well as general SharePoint Online data.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_25","title":"Step 1","text":"<p>Log into SharePoint Online through the web interface by visiting the Office 365 portal (www.office.com) then clicking on SharePoint</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_25","title":"Step 2","text":"<p>Click on the Site you wish to restore data to, in this example, it will be Digital Transformation Agency</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_25","title":"Step 3","text":"<p>From the Sites landing page, click on Recycle bin</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_25","title":"Step 4","text":"<p>Find your file, click on it, then press Restore to restore it to its original location</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_22","title":"Step 5","text":"<p>If you\u2019re unable to locate your file, check the Second-stage recycle bin by following the link at the bottom of the page.</p>"},{"location":"security/hybrid-standard-operating-procedures/#mail-restoration","title":"Mail restoration","text":"<p>The following sections detail how to restore archived data from the Outlook desktop and web applications.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_8","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure and Office 365. </li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#restore-mail-from-archive-desktop","title":"Restore mail from archive (desktop)","text":"<p>If mail is Archived within the Outlook desktop application, it will initially appear within the Archive folder and can be restored by following the steps below.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_26","title":"Step 1","text":"<p>Navigate to the Archive folder and select the email to be restored.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_26","title":"Step 2","text":"<p>Drag and drop the mail item from the right-hand pane to the destination folder, in this example the item is being restored to the Inbox</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_26","title":"Step 3","text":"<p>Alternatively, the item can be right clicked, then moved via the Move option.</p>"},{"location":"security/hybrid-standard-operating-procedures/#restore-mail-from-archive-web-application","title":"Restore mail from archive (web application)","text":"<p>If mail is Archived within the Outlook Web application, it will initially appear within the Archive folder and can be restored by following the steps below.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_27","title":"Step 1","text":"<p>Within the Outlook Web Application, navigate to the Archive folder</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_27","title":"Step 2","text":"<p>Drag and drop the mail item from the right-hand pane to the destination folder, in this example the item is being restored to the Inbox</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_27","title":"Step 3","text":"<p>Alternatively, the item can be right clicked, then moved via the Move option.</p>"},{"location":"security/hybrid-standard-operating-procedures/#release-mail-from-quarantine-user","title":"Release mail from quarantine (user)","text":"<p>If a message has been quarantined from Outlook a user will be able to release certain types of types depending why it was quarantined. Typically, a user will be able release a message if it has been tagged as spam or bulk email.</p> <p>Any messages being released from quarantine should be reviewed to ensure that they are not malicious.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_28","title":"Step 1","text":"<p>Navigate to the Security &amp; Compliance Center (https://protection.office.com) then click on Threat management then Review</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_28","title":"Step 2","text":"<p>Select Quarantine which will list any quarantined messages</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_28","title":"Step 3","text":"<p>Select the individual message which will list the information on the message</p> <p>From here the message can be Released, Previewed or Removed</p> <p>When ready select Release message</p> <p>Note: Bulk messages up to 100 at a time can be selected here with bulk actions to release or remove available</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_26","title":"Step 4","text":"<p>The Release messages &amp; report them to Microsoft confirmation screen will be presented.</p> <p>Validate the details and select Release message</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_23","title":"Step 5","text":"<p>The message may take a few minutes to be release successfully after which a confirmation will be displayed</p> <p>Select Done</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_19","title":"Step 6","text":"<p>The message should now be delivered to the user\u2019s mailbox</p>"},{"location":"security/hybrid-standard-operating-procedures/#release-mail-from-quarantine-admin","title":"Release mail from quarantine (admin)","text":"<p>If a message has been quarantined from Outlook and the user is unable to release the message, an Admin will be able to release all types of messages on behalf of the user. The process to release the message is identical to the user process, however the admin also has other options available to them to download or submit the message, as well as options to release to other users.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_29","title":"Step 1","text":"<p>Navigate to the Security &amp; Compliance Center (https://protection.office.com) then click on Threat management then Review</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_29","title":"Step 2","text":"<p>Select Quarantine which will list any quarantined messages</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_29","title":"Step 3","text":"<p>Select the individual message which will list the information on the message</p> <p>From here the message can be Released, Previewed, Removed, Downloaded or Submitted</p> <p>When ready select Release message</p> <p>Note: Bulk messages up to 100 at a time can be selected here with bulk actions to release or remove available</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_27","title":"Step 4","text":"<p>The Release messages &amp; report them to Microsoft confirmation screen will be presented.</p> <p>Validate the details and select Release message</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_24","title":"Step 5","text":"<p>The message may take a few minutes to be release successfully after which a confirmation will be displayed</p> <p>Select Done</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_20","title":"Step 6","text":"<p>The message should now be delivered to the user\u2019s mailbox</p>"},{"location":"security/hybrid-standard-operating-procedures/#data-loss-prevention","title":"Data loss prevention","text":"<p>Within the Microsoft 365 Compliance Center, Data Loss Prevention (DLP) policies can be configured to identify and protect Agency data and other sensitive information. DLP can be configured for multiple applications, such as:</p> <ul> <li>Exchange Online,</li> <li>SharePoint Online,</li> <li>OneDrive for Business, and</li> <li>Microsoft Teams.</li> </ul> <p>The following sections describe how to maintain and manage DLP and its policies, including the creation of new policies.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_9","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Office 365 and Microsoft Azure. </li> <li>Identified their sensitive info types, classification labels/types, and retention labels.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#implement-new-policy","title":"Implement new policy","text":"<p>The following describes how to implement a new DLP policy.</p> <p>This example describes the scenario where an Agency wants to implement a DLP rule to prevent emails or other information containing Australian driver\u2019s license numbers is not shared with unauthorised users.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_30","title":"Step 1","text":"<p>Open an internet browser and navigate to the Microsoft 365 Compliance Center.</p> <p>https://compliance.microsoft.com/</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_30","title":"Step 2","text":"<p>In the left-hand pane, click Policies</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_30","title":"Step 3","text":"<p>Within the Policies window, click on Data loss prevention</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_28","title":"Step 4","text":"<p>Within the Data loss prevention window, click Create policy</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_25","title":"Step 5","text":"<p>Click Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_21","title":"Step 6","text":"<p>On the Name your policy page, enter a Name and Description. Enter as detailed a description as possible.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-7_13","title":"Step 7","text":"<p>On the Choose locations page, select the relevant radio button based on what the policy is protecting.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-8_9","title":"Step 8","text":"<p>On the Customize the type of content you want to protect page, select the content type you wish to protect and where it is protected from.</p> <p>In this example we are detecting Australian Driver\u2019s Licence Numbers when shared outside of the organisation.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-9_6","title":"Step 9","text":"<p>Select the appropriate settings on the next page as relevant to your policy.</p> <p>When complete press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-10_6","title":"Step 10","text":"<p>If prompted to customise access and override permissions, do so as appropriate</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-11_3","title":"Step 11","text":"<p>When prompted to turn the policy on, or test first, it is suggested to always test policies first \u2013 as such, select I\u2019d like to test it out first then press Next</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-12_1","title":"Step 12","text":"<p>Review your settings, if they all look correct, click Create</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-13_1","title":"Step 13","text":"<p>Allow some time for the policy to run.</p>"},{"location":"security/hybrid-standard-operating-procedures/#modify-existing-policy","title":"Modify existing policy","text":"<p>The following describes the steps required to modify an existing DLP policy within the Microsoft 365 Compliance Center.</p> <p>The default DLP settings provided by the HybridSystem should not be modified without fully understanding the security and operational consequence of the change.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_31","title":"Step 1","text":"<p>Open an internet browser and navigate to the Microsoft 365 Compliance Center.</p> <p>https://compliance.microsoft.com/</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_31","title":"Step 2","text":"<p>In the left-hand pane, click Policies</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-3_31","title":"Step 3","text":"<p>Within the Policies window, click on Data loss prevention</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_29","title":"Step 4","text":"<p>Within the Data loss prevention screen identify the policy you wish to modify, tick the radio button on its left, then click Edit policy</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_26","title":"Step 5","text":"<p>When the editing pane shows up, make the required changes then press Save</p>"},{"location":"security/hybrid-standard-operating-procedures/#bitlocker-recovery","title":"BitLocker recovery","text":"<p>BitLocker drive encryption is applied to all Agency devices upon first login via a set of pre-defined Microsoft Endpoint Manager policies. BitLocker drive encryption is a data protection feature that integrates with the operating system and addresses the threats of data theft or exposure from lost, stolen, or inappropriately decommissioned devices.</p>"},{"location":"security/hybrid-standard-operating-procedures/#prerequisites_10","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure.</li> <li>The appropriate permissions within Microsoft Endpoint Manager.</li> <li>The ID/asset number of the device in question.</li> <li>Physical or phone contact with the owner of the endpoint device that requires the recovery key.</li> <li>Positive confirmation that the owner of the device using agency processes for identity verification.</li> </ul>"},{"location":"security/hybrid-standard-operating-procedures/#locate-bitlocker-recovery-key","title":"Locate BitLocker recovery key","text":"<p>The following describes how to locate a BitLocker recovery key.</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-1_32","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com/) then click on Devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-2_32","title":"Step 2","text":"<p>Within Devices click on All devices</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-4_30","title":"Step 4","text":"<p>Identify the device in question, or use the search bar to find it via the device ID, Asset number, or device name</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-5_27","title":"Step 5","text":"<p>Select Recovery keys</p>"},{"location":"security/hybrid-standard-operating-procedures/#step-6_22","title":"Step 6","text":"<p>Provide the BitLocker Recovery Key to the user, or enter into the device that requires it</p>"},{"location":"security/hybrid-system-security-plan/","title":"Hybrid system security plan","text":""},{"location":"security/hybrid-system-security-plan/#hybrid-system-security-plan","title":"Hybrid system security plan","text":"<p>61 minutes to read - 30 March 2023</p>"},{"location":"security/hybrid-system-security-plan/#introduction","title":"Introduction","text":""},{"location":"security/hybrid-system-security-plan/#system-name","title":"System name","text":"<p>HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#system-overview","title":"System overview","text":"<p>The HybridSystem leverages the Information Security Registered Assessors Program (IRAP) assessed Microsoft Azure, Office 365 platforms and their associated services. As well as leveraging an Agency's existing on-premises environment. The blueprint includes the following components to improve the security posture of a target Agency:</p> <ul> <li>Cloud identity \u2013 Synchronising identities from Active Directory (AD) to Azure Active Directory (Azure AD) for authentication. Azure AD configuration including Conditional Access policies allowing log in from anywhere and appropriate security policies to be applied.</li> <li>Office 365 \u2013 Configuration of Exchange Online, SharePoint Online, OneDrive for Business, Microsoft Teams, Microsoft Forms, Microsoft Whiteboard, and Microsoft Planner allowing cloud-based file storage and collaboration.</li> <li>Hybrid \u2013 Configuration between on-premises Exchange and Exchange Online, on-premises SharePoint and SharePoint Online to provide a seamless transition and extend cloud security capabilities.</li> <li>Device management \u2013 Management of security and configuration profiles for enrolled devices including the testing against security baselines and confirmation of security compliance.</li> <li>Applications \u2013 Delivery and configuration of applications appropriate to the user.</li> <li>Security stack \u2013 Security configuration of Office 365 and endpoint devices to maximise compliance and minimise risk.</li> <li>Autopilot deployment \u2013 Configuration of Autopilot to allow for automated deployment (and redeployment when required) of devices with no user interaction.</li> <li>Support \u2013 A flexible support model where system administration and Role-Based Access Control (RBAC) is provided regardless of whether the support is carried out by in house staff, third party contractors or a managed service provider.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-classification","title":"System classification","text":"<p>The HybridSystem is designed to be able to achieve and maintain security accreditation up to PROTECTED.</p>"},{"location":"security/hybrid-system-security-plan/#system-purpose-and-scope","title":"System purpose and scope","text":"<p>The HybridSystem is intended to achieve a PROTECTED standard and raise Australian Government Agencies' cyber security posture. The HybridSystem details technology and configuration settings to deploy a hybrid Microsoft 365 solution for Agencies wanting to integrate with their existing on-premises environment.</p> <p>Note: The Microsoft 365 suite includes multiple products including Windows 10, Office 365 and Enterprise Mobility + Security (EM+S).</p>"},{"location":"security/hybrid-system-security-plan/#system-boundary","title":"System boundary","text":"<p>The system boundary is the subscription level of the Microsoft 365 implementation and the Agency\u2019s on-premises servers (Exchange, SharePoint, Configuration Manager and Active Directory) the HybridSystem leverages. The Azure AD tenant and all Microsoft 365 components (including both Azure and Office 365 hosted services), the transport of data between the endpoint devices and cloud services, along with the endpoint devices themselves, are included within the system. Network components are not considered to be part of the system.</p> <p>As shown in the following figure, the system boundary includes:</p> <ul> <li>Microsoft 365 (including Azure and Office 365)</li> <li>Multi-Factor Authentication (MFA)</li> <li>Subscription and its management</li> <li>Azure AD tenant and its management</li> <li>On-premises and its management</li> <li>Endpoints including the hardware, firmware, and the management of the endpoints </li> <li>Transport of data between the endpoints and the cloud components</li> </ul> <p>Note: This means that Transport Layer Security (TLS) would be included within the system boundary, but the network devices and mail gateway would not be included in the system boundary from a security perspective. Those items outside of the system boundary will be consumed and the existing security documentation will be utilised.</p> <p></p>"},{"location":"security/hybrid-system-security-plan/#document-purpose-and-scope","title":"Document purpose and scope","text":"<p>The purpose of this System Security Plan (SSP) is to describe the security implementation of the HybridSystem, including the underlying Azure and Office 365 components that are leveraged in its deployment. This document is designed to comply with the Australian Government Information Security Manual (ISM) documentation requirements for system authorisation.</p> <p>This document is deliberately written using descriptive and explanatory language to assist an Agency to understand how the HybridSystem operates securely, the security controls it provides, and the residual controls that must be addressed by an Agency.</p> <p>For detailed information on how the HybridSystem addresses specific controls in the ISM (June 2022 update), refer to the \u2018DTA - Hybrid Blueprint - System Security Plan Annex (June 2022)\u2019.</p>"},{"location":"security/hybrid-system-security-plan/#overarching-security-policies","title":"Overarching security policies","text":"<p>The security policies that the HybridSystem has been designed to comply with are listed below:</p> <ul> <li>The Australian Government ISM (June 2022) controls.</li> <li>The Australian Cyber Security Centre (ACSC) Strategies to Mitigate Cyber Security Incidents, including the Essential Eight Maturity Model.</li> <li>The ACSC Security Configuration Guide - Apple iOS 14 Devices (October 2021).</li> <li>The Protective Security Policy Framework (PSPF).</li> <li>Hardening Microsoft Windows 10 version 21H1 Workstation (October 2021).</li> </ul>"},{"location":"security/hybrid-system-security-plan/#related-security-documentation","title":"Related security documentation","text":"<p>In accordance with the requirements of the ISM, the following security documentation has been developed for the HybridSystem:</p> <ul> <li>Blueprint \u2013 Solution Overview</li> <li>Blueprint \u2013 Client Devices Design</li> <li>Blueprint \u2013 Platform Design</li> <li>Blueprint \u2013 Office 365 Design</li> <li>Hybrid Blueprint \u2013 System Security Plan</li> <li>Hybrid Blueprint \u2013 System Security Plan (Annex)</li> <li>Hybrid Blueprint \u2013 Security Risk Management Plan</li> <li>Hybrid Blueprint \u2013 Standard Operating Procedures</li> <li>Hybrid Blueprint \u2013 Incident Response Plan</li> </ul> <p>The IRAP reports for the assessment of Azure and Office 365 at PROTECTED have also been leveraged in the development of the  HybridSystem, and includes the following:</p> <ul> <li>Azure Security Fundamentals and Cloud Services IRAP Assessment Report 2021</li> <li>Office 365 Security Fundamentals and Cloud Services IRAP Assessment Report 2021</li> </ul> <p>These documents are available from the Microsoft Service Trust Portal.</p>"},{"location":"security/hybrid-system-security-plan/#risk-assessment","title":"Risk assessment","text":"<p>The results of the threat and risk assessment undertaken on the HybridSystem are documented in the \u2018Hybrid Blueprint \u2013 Security Risk Management Plan\u2019 (SRMP). This document describes the reduction in risk to the confidentiality, integrity and availability of system components and information processed and stored by the HybridSystem by the implementation of security controls and mitigations.</p>"},{"location":"security/hybrid-system-security-plan/#assessment-of-services","title":"Assessment of services","text":"<p>This section provides details of the security assessment status of each Azure and Office 365 service used by the HybridSystem as listed in their respective IRAP reports. The assessment status of each of the utilised services and any associated mitigations is shown in Table 1.</p> <p> Table 1 Assessment of Services </p> Category Service Assessment Status Mitigation General Azure Portal PROTECTED N/A Identity Services Azure AD PROTECTED N/A Identity Services Conditional Access Not Assessed Conditional Access is an Azure AD Premium P1 licenced feature of Azure AD (included in Microsoft 365 E3) that restricts access to cloud resources and management tools beyond just a successful authentication. It includes customisable policies based on location, user, device and more. Conditional Access is an additional security capability that is part of Azure AD, which is PROTECTED certified. Identity Services Azure MFA PROTECTED N/A Identity Services Azure AD Identity Protection Not Assessed Azure AD Identity Protection is an Azure AD Premium P2 licenced feature of Azure AD (included in Microsoft 365 E5) that allows organisations to accomplish three key tasks: Automate the detection and remediation of identity-based risks. Investigate risks using data in the portal.* Export risk detection data to third-party utilities for further analysis. Office 365 Exchange Online, SharePoint Online, Microsoft Teams, Microsoft Forms, Microsoft Whiteboard, Microsoft Planner PROTECTED N/A Monitoring and Compliance Intune Policies PROTECTED Microsoft Endpoint Manager - Intune (Intune) is configured to allow policies to be created and deployed to devices that configure, check for compliance and assess against a security baseline. These policies are applied and reported against in the Intune web console."},{"location":"security/hybrid-system-security-plan/#section-definitions","title":"Section definitions","text":"<p>The remaining sections of this document relate specifically to the chapters of the ISM. For each chapter of the ISM there is a corresponding section in this document, which is divided into four sections as detailed below in Table 2.</p> <p> Table 2 Section Definitions </p> Section Description Applicability to HybridSystem For each chapter, the applicability relates to whether the HybridSystem provides any technical, process or documentation that need to be assessed.The HybridSystem inherits many controls from the underlying Azure and Office 365 platforms, so if a chapter is listed as Not Applicable then the Agency may or may not be required to address the control. The reason the chapter is not applicable is stated in this section and if the Agency is required to address the controls then this is listed in the Residual controls to be addressed by the Agency section. HybridSystem compliance approach The compliance approach for the HybridSystem is described in this section to provide: The background and context for how the HybridSystem addresses the controls in the chapter To provide the Agency with information to assist in the assessment of the HybridSystem Security controls provided by the HybridSystem The specific technical implementation, process or documentation that the HybridSystem provides to address the controls are listed in this section. Residual controls to be addressed by the Agency If there are any residual controls that the Agency must address in relation to the operation of the HybridSystem, then they are listed in this section."},{"location":"security/hybrid-system-security-plan/#summary-of-applicability","title":"Summary of applicability","text":"<p>A summary of the applicability and responsibility for the controls presented in each chapter of the HybridSystem is listed below in Table 3. Each of these chapters are discussed in further details in this document, and the implementation status of each control is listed in the SSP Annex.</p> <p> Table 3 Summary of Applicability </p> ISM Chapter Applicability Rationale Guidelines for Cyber Security Roles Not Applicable Fulfilling these roles is an Agency responsibility. Guidelines for Cyber Security Incidents Not Applicable The Agency is responsible for identifying, managing and reporting cyber security incidents. Guidelines for Outsourcing Applicable Shared responsibility between the HybridSystem and the Agency consuming it. Guidelines for Security Documentation Applicable The HybridSystem provides system-specific documentation to be read in conjunction with the Agency\u2019s cyber security strategy. Guidelines for Physical Security Not Applicable The HybridSystem inherits the physical security controls which are implemented by Microsoft for Azure and Office 365 components. Guidelines for Personnel Security Applicable The HybridSystem implements technical controls to assist the Agency with managing personnel security. Guidelines for Communications Infrastructure Not Applicable The Agency is responsible for communications infrastructure leveraged by the HybridSystem. Guidelines for Communications Systems Applicable The HybridSystem includes Microsoft Teams which provides video conferencing functionality. Guidelines for Enterprise Mobility Applicable The HybridSystem includes the management and use of mobile devices. Guidelines for Evaluated Products Applicable The HybridSystem includes Windows 10 which has been evaluated. Additionally, the HybridSystem leverages Office 365 services which include evaluated products. Guidelines for ICT Equipment Management Not Applicable The security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft. Guidelines for Media Applicable The HybridSystem is responsible for encrypting removeable media. Guidelines for System Hardening Applicable Hardening of operating systems and applications included in the HybridSystem is applicable. Guidelines for System Management Applicable Management of HybridSystem system components is applicable. Guidelines for System Monitoring Applicable Monitoring of HybridSystem system components is applicable. Guidelines for Software Development Not Applicable The HybridSystem is not designed to support software development activities. Guidelines for Database Systems Not Applicable The Agency is responsible for database systems leveraged by the HybridSystem. Guidelines for Email Applicable The HybridSystem leverages Office 365 to provide email functionality. Guidelines for Networking Applicable The HybridSystem is designed to run using the public internet and implements controls on the endpoint devices and the Office 365 component. Guidelines for Cryptography Applicable The HybridSystem makes use of cryptography to protect both data at rest and data in transit. Guidelines for Gateways Applicable The HybridSystem leverages Exchange Online Protection and Defender for Office 365 for email content filtering and Defender for Endpoint for web content filtering. Guidelines for Data Transfers Applicable The HybridSystem is responsible for implementing technical controls relating to data transfer."},{"location":"security/hybrid-system-security-plan/#cyber-security-roles","title":"Cyber security roles","text":""},{"location":"security/hybrid-system-security-plan/#chief-information-security-officer","title":"Chief Information Security Officer","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem","title":"Applicability to HybridSystem","text":"<p>Not applicable as appointing a Chief Information Security Officer (CISO) is an Agency\u2019s responsibility.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach","title":"HybridSystem compliance approach","text":"<p>The HybridSystem is deployed into the Agency\u2019s environment and is under the scope of the Agency\u2019s CISO.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must appoint a CISO to provide cyber security leadership and guidance.</li> <li>The Agency's CISO is responsible for all duties outlined in the Annex.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-owners","title":"System owners","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_1","title":"Applicability to HybridSystem","text":"<p>Not applicable as the HybridSystem does not designate a system owner. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_1","title":"HybridSystem compliance approach","text":"<p>The deployment of the HybridSystem into an Agency\u2019s environment can be designated as a specific system, or it can form part of a broader system.</p> <p>By default, the HybridSystem is defined as a system and all documentation, including this SSP, is written in that context.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_1","title":"Security controls provided by the HybridSystem","text":"<p>Not Applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_1","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must designate a System Owner for the HybridSystem.</li> <li>The System Owner must perform the relevant duties outlined in the Annex.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#cyber-security-incidents","title":"Cyber security incidents","text":""},{"location":"security/hybrid-system-security-plan/#detecting-cyber-security-incidents","title":"Detecting cyber security incidents","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_2","title":"Applicability to HybridSystem","text":"<p>Not applicable to the HybridSystem as the detection of cyber security incidents is the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_2","title":"HybridSystem compliance approach","text":"<p>The HybridSystem implements technical controls and processes to assist the Agency with detecting cyber security incidents related to the system.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_2","title":"Security controls provided by the HybridSystem","text":"<p>The HybridSystem utilises Microsoft Defender for Endpoint and Defender for Office 365 to assist in the detection of cyber security incidents. These products are centralised into the Microsoft 365 Defender portal, which includes: - Incidents &amp; alerts - Hunting (including advanced hunting and custom detection rules) - Action center - Threat analytics - Secure score</p> <p>The HybridSystem also utilises Defender for Identity to assist in the detection of cyber security incidents relating to authentication. The Defender for Identity portal shows:   - Suspicious activities   - Health alerts</p> <p>Defender for Identity alerts are also available via the Microsoft 365 Defender portal.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_2","title":"Residual controls to be addressed by the Agency","text":"<p>The Agency must develop and implement an Intrusion Detection and Prevention Policy, which can leverage the security controls implemented by the HybridSystem and meets requirements outlined in the Annex.</p>"},{"location":"security/hybrid-system-security-plan/#managing-cyber-security-incidents","title":"Managing cyber security incidents","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_3","title":"Applicability to HybridSystem","text":"<p>Not applicable to the HybridSystem as the management of cyber security incidents is the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_3","title":"HybridSystem compliance approach","text":"<p>The HybridSystem implements technical controls and processes to assist the Agency with managing cyber security incidents related to the system.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_3","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The HybridSystem utilises the Microsoft 365 Defender portal to assist in the management of cyber security incidents. Specific capabilities include the Incident queue and Incident management pane views.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_3","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency should establish a cyber security incident register, cyber security incident communication and response strategy and associated procedures that meet requirements outlined in the Annex.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#reporting-cyber-security-incidents","title":"Reporting cyber security incidents","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_4","title":"Applicability to HybridSystem","text":"<p>Not applicable to the HybridSystem as the reporting of cyber security incidents is the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_4","title":"HybridSystem compliance approach","text":"<p>The reporting requirements for cyber security incidents are the Agency\u2019s responsibility.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_4","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_4","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency should establish a process and standard operating procedures for reporting cyber security incidents that meet requirements outlined in the Annex.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#outsourcing","title":"Outsourcing","text":""},{"location":"security/hybrid-system-security-plan/#information-technology-and-cloud-services","title":"Information technology and cloud services","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_5","title":"Applicability to HybridSystem","text":"<p>Outsourcing is applicable to the HybridSystem as it leverages both Azure and Office 365, which are cloud services.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_5","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages Microsoft Azure and Office 365, which have been IRAP assessed at PROTECTED by CyberCX. All HybridSystem services have been IRAP assessed.</p> <p>Azure AD is defined as a non-regional service, but hosts identity data in Australian datacentres for customers that provide an Australian or New Zealand address . This includes Azure AD Directory Management and Authentication functions. Other Azure AD functions, including Azure MFA, store data in global datacentres.</p> <p>Where possible the HybridSystem leverages services located in Australia, otherwise the United States is selected. Microsoft Defender for Cloud Apps is available in the United Kingdo,. Europe or United States regions. If the Azure AD tenant is in Australia, United States is automatically selected. Microsoft Defender for Endpoint is available in the Europe, United Kingdom, or in the United States. The United States is selected as part of the service creation for the HybridSystem. Defender for Identity is available in Europe, North America/Central America/Caribbean and Asia. The United States is automatically selected based on the geographical location of the Azure AD tenant.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provide-by-the-hybridsystem","title":"Security controls provide by the HybridSystem","text":"<ul> <li>Australian data locations have been selected where supported by Azure and Office 365 services leveraged by the HybridSystem.</li> <li>Microsoft provides a shared responsibility model which outlines how security responsibilities are shared between itself and the Agency.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_5","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must assess, establish, manage and maintain the commercial and contractual relationship with Microsoft as the provider of the cloud services and review changes to the Microsoft IRAP assessments as they occur.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#shared-responsibility","title":"Shared responsibility","text":"<p>When consuming a cloud service, management of some security controls is transferred from the Agency to the Cloud Service Provider (CSP), in this case Microsoft. The level of control transferred ultimately depends on the type of services being consumed i.e. cloud native or hybrid deployment and the agreement made with Microsoft. </p> <p>Whilst responsibility for controls may be shared, Agencies must be conscious that security risk is not transferred to the service provider. It is therefore critical that Agencies understand how the sharing of responsibilities impacts system risk and what impact it may have on their Cloud Assessment and Authorisation.</p> <p>In general, Microsoft defines themselves as being responsible for:</p> <ul> <li>Ensuring the physical systems and infrastructure required for the operation of a cloud service is secured appropriately.</li> <li>Accountable in the event of an incident relating to the physical systems and infrastructure they manage as required for the operation of a cloud service.</li> <li>Assess, managing and where possible mitigating risks inherent with the physical systems and infrastructure required for the operation of a cloud service.</li> </ul> <p>In the context of Software as a Service (SaaS) Protected Utility platforms, Microsoft is responsible for:</p> <ul> <li>Incident response</li> <li>Backups</li> <li>Physical security</li> <li>System hardening</li> <li>Vulnerability and patch management</li> <li>Software development</li> </ul> <p>When deploying a hybrid model, in the context of SaaS Protected Utility platforms, the Agency is responsible for:</p> <ul> <li>Access management</li> <li>System monitoring</li> <li>Non-Microsoft product vendors</li> <li>Client devices</li> </ul> <p>Overall, the Agency is deemed accountable for any technology platform when in use with Microsoft or external product vendors responsible for parts of the platform operational management.</p> <p>A suggested high-level shared responsibility matrix for the technology stack across the platform, Microsoft Office 365 and client devices has been tabled below. There are three defined stakeholders who share the responsibility to maintain the Agency\u2019s security capabilities.</p> <ul> <li>Agency: Australian government Agency adapting and implementing the DTA hybrid blueprint.</li> <li>Microsoft: CSP who provide and/or manage the defined technology platforms.</li> <li>Product Vendor: external product vendors (such as Apple for iOS) that provide or manage platforms within the Agency\u2019s ecosystem that are not performed by Microsoft.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#platform","title":"Platform","text":"CATEGORY ITEM INCIDENT RESPONSE BACKUPS PHYSICAL SECURITY SYSTEM HARDENING ACCESS MANAGEMENT VULNERABILITY &amp; PATCH MANAGEMENT SYSTEM MONITORING SOFTWARE DEVELOPMENT IDENTITY &amp; ACCESS MANAGEMENT AZURE ACTIVE DIRECTORY MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT IDENTITY &amp; ACCESS MANAGEMENT ON-PREM ACTIVE DIRECTORY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY MICROSOFT SECURITY MICROSOFT CLOUD APP SECURITY MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY AZURE ADVANCED THREAT PROTECTION MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY MICROSOFT DEFENDER ADVANCED THREAT PROTECTION MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY LOG ANALYTICS MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY SECURITY INFORMATION &amp; EVENT MANAGEMENT AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY CLIENT CONFIGURATION MICROSOFT ENDPOINT MANAGER - INTUNE AGENCY AGENCY MICROSOFT AGENCY AGENCY AGENCY AGENCY MICROSOFT CLIENT CONFIGURATION MICROSOFT ENDPOINT CONFIGURATION MANAGER AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY MICROSOFT CLIENT CONFIGURATION PRINTING AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY BACKUP &amp; OPERATIONAL MANAGEMENT BACKUP PLATFORM AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY SYSTEM ADMINISTRATION ADMINISTRATIVE CONSOLES MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT SYSTEM ADMINISTRATION PRIVILEGED IDENTITY MANAGEMENT MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT"},{"location":"security/hybrid-system-security-plan/#office-365","title":"Office 365","text":"ITEM INCIDENT RESPONSE BACKUPS PHYSICAL SECURITY SYSTEM HARDENING ACCESS MANAGEMENT VULNERABILITY &amp; PATCH MANAGEMENT SYSTEM MONITORING SOFTWARE DEVELOPMENT EXCHANGE ONLINE MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT SHAREPOINT ONLINE MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT ONEDRIVE FOR BUSINESS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT TEAMS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT POWER BI MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT SECURITY &amp; COMPLIANCE PLATFORMS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT EXCHANGE ONLINE PROTECTION MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT OFFICE 365 ADVANCED THREAT PROTECTION MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT FORMS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT WHITEBOARD MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT PLANNER MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT"},{"location":"security/hybrid-system-security-plan/#client-devices","title":"Client devices","text":"ITEM INCIDENT RESPONSE BACKUPS PHYSICAL SECURITY SYSTEM HARDENING ACCESS MANAGEMENT VULNERABILITY &amp; PATCH MANAGEMENT SYSTEM MONITORING SOFTWARE DEVELOPMENT WINDOWS 10 \u2013 INTUNE MANAGED AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY MICROSOFT WINDOWS 10 \u2013 MECM MANAGED AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY MICROSOFT IOS \u2013 INTUNE MANAGED AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY APPLE"},{"location":"security/hybrid-system-security-plan/#security-documentation","title":"Security documentation","text":""},{"location":"security/hybrid-system-security-plan/#development-and-maintenance-of-security-documentation","title":"Development and maintenance of security documentation","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_6","title":"Applicability to HybridSystem","text":"<p>Development and maintenance of security documentation is applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_6","title":"HybridSystem compliance approach","text":"<p>The HybridSystem provides security documentation that an Agency can review, approve and incorporate into the broader Agency-level security documentation.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_5","title":"Security controls provided by the HybridSystem","text":"<ul> <li>All security documentation produced by DTA for the HybridSystem has been updated within the last year and include the 'last updated' date.</li> <li>DTA provide updates to documentation via the Protected Utility website at desktop.gov.au. Release logs and change sets between versions can be obtained at GitHub.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_6","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must develop a cyber security strategy.</li> <li>The Agency CISO or equivalent should approve all security documentation and ensure the documentation is reviewed annually.</li> <li>The Agency should communicate their security documentation to stakeholders of the HybridSystem and ensure stakeholders are notified of subsequent changes.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-specific-security-documentation","title":"System-specific security documentation","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_7","title":"Applicability to HybridSystem","text":"<p>System-specific security documentation is applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_7","title":"HybridSystem compliance approach","text":"<p>The HybridSystem includes a suite of security and operational documentation that are logically connected and consistent.</p> <p>The HybridSystem provides an SSP (this document), SSP Annex (formerly the Statement of Applicability (SoA)), SRMP, Incident Response Plan (IRP), Standard Operating Procedures (SOPs) and other operational documentation to assist in the understanding of the HybridSystem system and the security controls included.</p> <p>Continuous Monitoring Plan (CMP) has also been developed for the blueprint to assist Agencies with the development of their own Agency-specific CMPs.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_6","title":"Security controls provided by the HybridSystem","text":"<ul> <li>An SSP has been drafted for the HybridSystem (this document).</li> <li>A system-specific IRP has been drafted for the HybridSystem which integrates with the Agency-level IRP.</li> <li>The blueprint includes guidance to assist Agencies in developing a CMP.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_7","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing an Agency-specific CMP.</li> <li>The Agency is responsible for developing a security assessment report including a plan of action post security assessment.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#physical-security","title":"Physical security","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_8","title":"Applicability to HybridSystem","text":"<p>Not applicable as the HybridSystem does not contain any physical hosting components, and the security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft and is addressed in the respective IRAP reports for each service. For HybridSystem components hosted on-premises, such as the Azure AD Connect and Exchange servers, the Agency is responsible for their physical security controls.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_8","title":"HybridSystem compliance approach","text":"<p>The HybridSystem inherits physical security controls from the underlying Azure and Office 365 platforms, and from the Agency itself. </p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_7","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_8","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the physical security of all Agency-owned equipment, such as network devices and endpoint devices, that are utilised to connect to Azure and Office 365.</li> <li>The Agency is responsible for the physical security controls for all on-premises servers leveraged by the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#personnel-security","title":"Personnel security","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_9","title":"Applicability to HybridSystem","text":"<p>Technical controls relating to personnel security are applicable to the HybridSystem. An Agency\u2019s implementation of personnel security controls should include the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_9","title":"HybridSystem compliance approach","text":"<p>The HybridSystem provides a role-based access control implementation and associated operations guide to enable an Agency to easily and securely control access, including privileged and emergency access, to Azure and Office 365 services. The HybridSystem leverages in-built authentication logging provided by the platform, and centralises logs to prevent unauthorised modification and deletion.</p> <p>The controls provided by the HybridSystem are specific to Azure AD only and the Agency is responsible for implementing equivalent controls for Active Directory on-premises.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_8","title":"Security controls provided by the HybridSystem","text":"<ul> <li>All unprivileged access attempts are logged in Azure AD Sign-ins. Azure AD logs are forwarded to a Log Analytics workspace for long-term secure retention.</li> <li>Intune configures an AppLocker blocklist to prevent administrators from launching web browsers and email clients.</li> <li>The HybridSystem leverages Azure AD Privileged Identity Management (PIM) to provide Just-in-time administration.</li> <li>Changes to privileged accounts and groups are logged in the Azure AD Audit Log.</li> <li>Azure AD logs are forwarded to a Log Analytics workspace for long-term secure retention.</li> <li>The HybridSystem includes automation to disable inactive Azure AD accounts after 45 days.</li> <li>Microsoft Defender for Cloud Apps policy monitoring is implemented to monitor activity of break glass accounts. The use of break glass accounts are also logged in Azure AD Sign-ins.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_9","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for ensuring that personnel undergo pre-employment checks and hold the appropriate level of security clearance, as well as providing cyber security awareness training to staff and contractors.</li> <li>The Agency is responsible establishing processes for the creation, maintenance and decommissioning of accounts created within the system in accordance with the controls within the annex.</li> <li>The Agency is responsible for documenting and testing emergency access procedures.</li> <li>The Agency is responsible for monitoring and actioning cyber security events that are centralised to Log Analytics.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#communications-infrastructure","title":"Communications infrastructure","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_10","title":"Applicability to HybridSystem","text":"<p>Not applicable as the HybridSystem does not contain any communications infrastructure, and the security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft and is addressed in the respective IRAP reports for Azure and Office 365.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_10","title":"HybridSystem compliance approach","text":"<p>The HybridSystem inherits communications infrastructure controls from the underlying Azure and Office 365 platforms.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_9","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_10","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the Agency-owned communication infrastructure utilised to connect to Azure and Office 365.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#communications-systems","title":"Communications systems","text":""},{"location":"security/hybrid-system-security-plan/#telephone-systems","title":"Telephone systems","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_11","title":"Applicability to HybridSystem","text":"<p>This section is not applicable as the HybridSystem does not include telephone systems.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_11","title":"HybridSystem compliance approach","text":"<p>Not Applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_10","title":"Security controls provided by the HybridSystem","text":"<p>Not Applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_11","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#video-conferencing-and-ip-telephony","title":"Video conferencing and IP telephony","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_12","title":"Applicability to HybridSystem","text":"<p>This section is applicable as the HybridSystem contains Microsoft Teams which provides video conferencing functionality.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_12","title":"HybridSystem compliance approach","text":"<p>The HybridSystem inherits the security controls Microsoft have implemented for Microsoft Teams as assessed in the Office 365 IRAP report.</p> <p>The Annex specifies the controls associated with the self-contained use of Microsoft Teams up to the level of PROTECTED. As per the Office 365 design, Agencies have the ability to connect Teams to the Telstra Calling for Office 365 service to allow calling between Teams and traditional telephones. Agencies wishing to use Telstra Calling for Office 365 or another similar services should undertake a security assessment to ensure that the product addresses their security requirements.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_11","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Microsoft Teams signalling data is encrypted.</li> <li>Secure signalling and data protocols are used by Microsoft Teams including Session Initiation Protocol (SIP) and Secure Real Time Protocol (SRTP).</li> <li>Microsoft Teams leverages Azure AD for authentication.</li> <li>Microsoft Teams has a dedicated Virtual Local Area Network (VLAN) within the Microsoft cloud.</li> <li>Microsoft Teams leverages Azure's Distributed Denial of Service (DDoS) protection capabilities.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_12","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all gateway configurations.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#fax-machines-and-multifunction-devices","title":"Fax machines and multifunction devices","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_13","title":"Applicability to HybridSystem","text":"<p>This section is not applicable as the HybridSystem does not include fax machines or multifunction devices.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_13","title":"HybridSystem compliance approach","text":"<p>Not Applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_12","title":"Security controls provided by the HybridSystem","text":"<p>Not Applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_13","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the use and management of any fax machines and Multifunction Devices (MFDs) that are used with the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#enterprise-mobility","title":"Enterprise mobility","text":""},{"location":"security/hybrid-system-security-plan/#mobile-device-management","title":"Mobile device management","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_14","title":"Applicability to HybridSystem","text":"<p>This section is applicable as the HybridSystem includes mobile devices.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_14","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages Microsoft Endpoint Manager - Intune (Intune) to provide both Mobile Device Management (MDM) and Mobile Application Management (MAM) controls to protect mobile devices and data stored on them. Both Windows laptops and iOS devices will be enrolled within Intune and tagged as Corporate devices, allowing policies to be centrally managed and deployed. This includes configuring storage encryption, disabling unneeded features and controlling application behaviour.</p> <p>The HybridSystem does not include the use of privately-owned mobile devices. Only Agency-owned devices are enrolled and allowed to access data.</p> <p>iOS devices are hardened in accordance with the ACSC \u2018Security Configuration Guide - Apple iOS 14 Devices\u2019 and Information Security Manual (ISM) with specific deviations to maximise usability for the target users as described below. Note: Agencies should do a risk assessment before deciding to change settings relating to mobile devices.</p> <p>Bluetooth is enabled as it allows users to pair devices they may require to perform their duties (e.g. conference calls or online meetings).</p> <p>Users can reset certain security settings in Personal Hotspot and Passcode for situations where the passcode/password may have been compromised. </p> <p>The HybridSystem does not include the use of a full VPN on mobile devices, and therefore a direct connection to the internet is used. It is recommended Agencies consider implementing a VPN for mobile devices in accordance with the ACSC's recommendation for iOS devices. The blueprint includes suggested per app VPN configuration, however the selection and configuration of a VPN server is the responsibility of the Agency.</p> <p>Applications are installed from the App Store using the Volume Purchasing Program (VPP) tokens through Apple Business Manager Enrollment. This provides application control for iOS mobile devices, and removes the need for users having to install applications from the App Store through an Apple ID.</p> <p>The risk of non-compliance with controls relating to iOS devices is addressed in the \u2018Hybrid Blueprint - Security Risk Management Plan\u2019 at R17.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_13","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Microsoft Intune provides MDM and MAM capability.</li> <li>The HybridSystem provides Windows 10 for laptops which is hardened in accordance with ACSC guidance. The HybridSystem also provides MDM for iOS but does not fully implement ACSC's guidance for PROTECTED.</li> <li>Microsoft BitLocker provides full disk encryption of the HybridSystem mobile devices, implementing Advanced Encryption Standard (AES)-256. Additionally, iOS devices implement AES-256 encryption by default.</li> <li>All information transmitted to and from mobile devices and Office 365 is encrypted.</li> <li>Bluetooth device type allow lists are configured on Windows 10 devices. Bluetooth is not managed for iOS devices.</li> <li>The HybridSystem standard users do not have sufficient permissions to install or uninstall applications on Windows 10 devices. Standard users can install and uninstall applications on iOS devices via the App Store.</li> <li>Intune will monitor and report installed iOS applications on any company-owned device.</li> <li>The HybridSystem standard users do not have sufficient permissions to modify security functions on Windows 10 devices. Standard users can modify security functions on iOS devices.</li> <li>Apple provides timely security updates for iOS devices.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_14","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing a mobile device management policy in relation to the HybridSystem that meets requirements outlined in the Annex.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#mobile-device-usage","title":"Mobile device usage","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_15","title":"Applicability to HybridSystem","text":"<p>This section is applicable as the HybridSystem may contain mobile devices.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_15","title":"HybridSystem compliance approach","text":"<p>The HybridSystem is reliant on the Agency to development and enforce a mobile device usage policy which include mobile devices that are enrolled into the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_14","title":"Security controls provided by the HybridSystem","text":"<p>Not Applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_15","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing and enforcing a mobile device usage policy in relation to the HybridSystem that meets requirements outlined in the Annex.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#evaluated-products","title":"Evaluated products","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_16","title":"Applicability to HybridSystem","text":"<p>The HybridSystem includes Windows 10 which has been evaluated and therefore the controls relating to evaluated products are applicable to the HybridSystem. No high assurance products are used by the HybridSystem, Azure or Office 365.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_16","title":"HybridSystem compliance approach","text":"<p>A Protection Profile (PP) evaluation has been performed on Windows 10 and Microsoft publish deployment and administration guides for each evaluated operating system. The HybridSystem implements the recommendations for the latest evaluated version of Windows 10 (2004). This includes sourcing installation media directly from Microsoft and implementing configuration hardening.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_15","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The HybridSystem includes Windows 10 which has been evaluated against the relevant Protection Profile.</li> <li>Windows 10 installation media is sourced directly from Microsoft in accordance with the evaluated delivery procedures.</li> <li>Windows 10 is managed by Microsoft Endpoint Manager (Intune) in accordance with the published guidance from Microsoft as well the ACSC's hardening guide for Windows 10.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_16","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for any evaluated products if they are implemented as part of network connectivity to Azure and Office 365.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#ict-equipment-management","title":"ICT equipment management","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_17","title":"Applicability to HybridSystem","text":"<p>The security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft and is addressed in the respective IRAP reports for Azure and Office 365.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_17","title":"HybridSystem compliance approach","text":"<p>The HybridSystem inherits ICT equipment controls from the underlying Azure and Office 365 platforms.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_16","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_17","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the implementation of controls relating to ICT equipment management based on their deployment of the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#media-management","title":"Media management","text":""},{"location":"security/hybrid-system-security-plan/#media-usage","title":"Media usage","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_18","title":"Applicability to HybridSystem","text":"<p>This section is applicable as removable media may be connected to the HybridSystem endpoints.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_18","title":"HybridSystem compliance approach","text":"<p>The HybridSystem implements technical controls to protect the confidentiality and integrity of data written to removeable media devices that may be connected to HybridSystem endpoints.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_17","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Removable media is encrypted via BitLocker using AES-256.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_18","title":"Residual controls to be addressed by the Agency","text":"<p>The Agency is responsible for implementing controls relating to media management if media is connected to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#media-sanitisation","title":"Media sanitisation","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_19","title":"Applicability to HybridSystem","text":"<p>The controls relating to the sanitisation of media are not applicable to the HybridSystem and are instead the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_19","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_18","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_19","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management, including sanitisation, of media connected to the HybridSystem endpoints.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#media-destruction","title":"Media destruction","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_20","title":"Applicability to HybridSystem","text":"<p>The controls relating to the destruction of media are not applicable to the HybridSystem and are instead the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_20","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_19","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_20","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management, including destruction, of media connected to the HybridSystem endpoints.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#media-disposal","title":"Media disposal","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_21","title":"Applicability to HybridSystem","text":"<p>The controls relating to the disposal of media are not applicable to the HybridSystem and are instead the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_21","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_20","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_21","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management, including disposal, of media connected to the HybridSystem endpoints.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-hardening","title":"System hardening","text":""},{"location":"security/hybrid-system-security-plan/#operating-system-hardening","title":"Operating system hardening","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_22","title":"Applicability to HybridSystem","text":"<p>Operating system hardening is applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_22","title":"HybridSystem compliance approach","text":"<p>The HybridSystem will utilise Windows 10 as the endpoint operating system, provided by the Original Equipment Manufacturer (OEM), and then use the Software Updates component of Microsoft Endpoint Manager or Microsoft Endpoint Configuration Manager (MECM) to maintain the latest version of the operating system.</p> <p>The HybridSystem will harden the operating system configuration using a combination of Intune and MECM policies to implement ACSC and vendor guidance. These policies achieve the results that would traditionally be performed by Group Policy alone. Local administrator accounts and guest accounts will be disabled and renamed via Intune policy.</p> <p>The potential attack surface will be minimised by only including required components and apps, removing and disabling the components that aren\u2019t needed. Standard users will be prevented from running all script execution engines. The HybridSystem will install applications via Intune or MECM and not allow standard users the ability to install applications.</p> <p>Available firmware security controls are configured to protect Windows 10 devices from boot time threats. This includes Early Launch Antimalware (ELAM), Secure Boot and Trusted Boot. Measured boot is not configured as it requires an attestation server that is not in scope of the blueprint.</p> <p>The HybridSystem will use Windows Defender Application Control (WDAC) to perform application control. WDAC is the latest capability from Microsoft for application control and works in a very similar manner to AppLocker. In addition to the enforceable file types available from AppLocker, WDAC also supports driver files (.sys), and kernel mode policies as well as user mode enforcement.</p> <p>Enhanced Mitigation Experience Toolkit (EMET) is not supported by the latest release of Windows 10 and all functionality of EMET has been incorporated into Windows Defender Exploit Guard which is fully configured.</p> <p>PowerShell hardening and logging is configured via Intune for the Windows 10 SOE. As the blueprint does not include Public Key Infrastructure (PKI) the Protected Event Logging feature for PowerShell is not included. </p> <p>Windows Defender Firewall is enabled as part of the HybridSystem Windows 10 Standard Operating Environment (SOE) and configured by Intune policies. Windows Defender Antivirus and Microsoft Defender for Endpoint provide antivirus including signature, reputation and heuristic-based detection. Controlled folder access is also enabled to provide additional ransomware protection.</p> <p>Scanning frequency for both quick scans and full scans is determined by the policies and occurs for fixed and removable drives.</p> <p>Endpoint Device Control will be configured by Intune policies restricting usage to only permitted devices. This includes disabling Direct Memory Access (DMA).</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_21","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Microsoft have made a commit to support Windows 10 and provide security updates in accordance with the document lifecycle for the operating system.</li> <li>Windows 10 Semi-Annual Channel (SAC) is used as the SOE for the HybridSystem.</li> <li>The 64-bit version of Windows 10 is used as the SOE for the HybridSystem.</li> <li>The Windows 10 SOE has been hardened in accordance with ACSC 'Hardening Microsoft Windows 10 version 21H1 Workstations' guidance.</li> <li>Only required software and components are included in the SOE. Default accounts are disabled.</li> <li>The default administrator and guest accounts have been disabled and renamed.</li> <li>Autorun is disabled for removable media via Intune policies.</li> <li>Internet Explorer 11 is disabled as part of the Windows 10 SOE.</li> <li>.NET Framework 3.5 and any previous versions are disabled as part of the Windows 10 SOE.</li> <li>The 'Exploit protection' feature is enabled as part of the HybridSystem Windows 10 SOE.</li> <li>ELAM, Secure Boot and Trusted Boot are enabled as part of the Windows 10 SOE.</li> <li>HybridSystem standard users do not have sufficient permissions to modify security functions on Windows 10 devices.</li> <li>A combination of WDAC and AppLocker policies prevent the use of script execution engines.</li> <li>Standard (unprivileged) users do not have sufficient permissions to install or uninstall applications on Windows 10 devices.</li> <li>WDAC provides application control functionality. A combination of hash, publisher certificate and path rules will be used by WDAC for control of applications. Both publisher and product names are used by WDAC for control of applications. WDAC writes to the local event log. Standard users cannot disable application control.</li> <li>File permissions prevent standard users from writing to locations that are whitelisted using path rules.</li> <li>Microsoft recommended block rules and Microsoft recommended driver block rules to prevent known WDAC bypasses are implemented.</li> <li>PowerShell v2 is disabled in the Windows 10 SOE.</li> <li>PowerShell is configured to run in Constrained Language Mode (CLM).</li> <li>PowerShell logging is enabled as per the ACSC Windows 10 hardening guide.</li> <li>Microsoft Defender Exploit Guard and Defender for Endpoint provide HIPS functionality as part of the HybridSystem Windows 10 SOE.</li> <li>Windows Defender Firewall is enabled as part of the HybridSystem Windows 10 SOE.</li> <li>Microsoft Defender Antivirus and Defender for Endpoint provide antivirus including signature and heuristic-based detection. Virus definitions are set to automatically update. Controlled folder access (ransomware protection) is also configured.  </li> <li>Intune provides device access control by DeviceID or Device Class.</li> <li>Only authorised devices in Intune policies can be connected. Unauthorised devices will not be mounted to the operating system.</li> <li>External connections relying on DMA will be disabled via Intune policies.</li> <li>Defender for Endpoint centrally stores Endpoint Detection and Response (EDR) logs for all Windows 10 blueprint devices.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_22","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>Where Agencies utilise a SOE developed by third parties, the Agency must ensure that the SOE is scanned for malicious content and configurations before being used and that the design is reviewed and updated at least annually.</li> <li>The Agency must validate cryptographic hash rules, publisher certificate rules and path rules used for application control at least annually.</li> <li>The Agency is responsible for collecting and storing WDAC and PowerShell logs in a centralised logging facility/SIEM as this capability is not included in the blueprint.</li> <li>The Agency is responsible for configuration of Protected Event Logging functionality if required.</li> <li>The Agency is responsible for monitoring and actioning cyber security events from the EDR logs.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#application-hardening","title":"Application hardening","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_23","title":"Applicability to HybridSystem","text":"<p>Application hardening is applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_23","title":"HybridSystem compliance approach","text":"<p>The HybridSystem compliance approach is to select native cloud capabilities that are hardened and maintained as part of the service.</p> <p>The HybridSystem utilises the Monthly Enterprise Channel of Office to ensure the latest versions of software are used. Where third party applications are used these are also targeted at the most recent versions. Software update policies are configured to update plugins, browsers and applications regularly ensuring endpoints are using most recent versions.</p> <p>ACSC guidance has been incorporated into the applications to harden the configuration and remove unneeded features, including the hardening guide for Office 365.</p> <p>Web browsers are configured to block Flash content and Java content by the Intune policies. Neither Flash nor Java is included in the Windows 10 SOE. Native Microsoft Edge advertisement blocking is enabled. The blueprint recommends Agencies deploy a third-party add-on to provide further advertisement blocking.</p> <p>Office macros sourced from the internet are blocked and only signed macros will be allowed to execute. Additional macro controls are configured in the Attack Surface Rules configuration controlled by Intune. Users are not able to change macro settings.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_22","title":"Security controls provided by the HybridSystem","text":"<ul> <li>All applications are supplied by Microsoft which has made a commitment to secure development. The HybridSystem does not include any third-party applications.</li> <li>The latest version of Microsoft Office 365 and Microsoft Edge are installed. No third-party applications are installed.</li> <li>ACSC guidance has been implemented to harden Office and built-in web browsers.</li> <li>Unrequired functionality, such as Microsoft Access, has been removed.</li> <li>The Windows 10 SOE restricts the use of add-ons to only those deployed via Intune.</li> <li>The Windows 10 SOE does not include Java.</li> <li>Native Microsoft Edge advertisement blocking is enabled. </li> <li>Internet Explorer 11 is disabled as part of the Windows 10 SOE.</li> <li>Attack Surface Reduction rules are configured for Microsoft Office in accordance with the ACSC hardening guides for Windows 10 and Office 365.</li> <li>Object Linking and Embedding (OLE) is blocked for Microsoft Office.</li> <li>Only Office macros that have been digitally signed by a trusted publisher can execute.</li> <li>All macros downloaded from the internet are disabled.</li> <li>Antivirus scanning is enabled for Office macros.</li> <li>Users cannot change macro settings.</li> <li>Defender for Endpoint centrally stores EDR logs for all Windows 10 blueprint devices.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_23","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for hardening any third-party browsers (e.g. Google Chrome) that are deployed to HybridSystem endpoints. The United Kingdom Government provides guidance on hardening Chrome specifically which Agencies may choose to follow.</li> <li>The Agency is responsible for reviewing EDR logs in relation to macro executions.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#authentication-hardening","title":"Authentication hardening","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_24","title":"Applicability to HybridSystem","text":"<p>The authentication hardening section is applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_24","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages Azure AD for controlling system access. All technical capabilities that the HybridSystem performs are completed through Application and Service Principal objects in Azure AD, which utilise certificate-based authentication.</p> <p>The HybridSystem utilises RBAC, automation and policy controls to restrict access to modify any of the functional capabilities provided by the HybridSystem. The HybridSystem also provides auditing and alerting on attempted or successful modifications of the HybridSystem capabilities. </p> <p>The HybridSystem provides security controls and an identity management framework that can be utilised to manage system access for systems deployed within the HybridSystem. The HybridSystem enforces multi-factor authentication through Conditional Access policies, creates recovery (emergency access) accounts for maintaining access to resources and enforces password policies for accounts created directly in Azure AD. The HybridSystem uses a soft-token - the Microsoft Authenticator app - to reduce the need for purchase, distribution and management of hard-tokens.</p> <p>The Microsoft Authenticator app cannot be centrally managed to require the enforcement of a PIN or biometric unlock. It is also not currently considered verifier impersonation resistant.</p> <p>The Protected User security group is not available in Azure AD and is the Agency's responsibility to populate for on-premises AD used by the HybridSystem.</p> <p>The HybridSystem utilises Azure AD to store groups utilised for RBAC and provides process and administration documentation for managing access to Azure resources.</p> <p>To minimise potential user impact, Windows 10 laptops are not rebooted daily. Instead, automatic reboots are only performed as part of automated patching.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_23","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Azure AD is configured to require all users to be authenticated before granting access.</li> <li>Azure MFA is enforced for all standard and privileged users accessing M365 services.</li> <li>MFA requires Azure AD password and Microsoft Authenticator app (either acceptance of push notification or entry of OTP).</li> <li>Azure AD password complexity enforces a minimum character length of 8 characters.</li> <li>All authentication attempts are logged in Azure AD Sign-ins.</li> <li>Azure AD logs are forwarded to a Log Analytics workspace for long-term secure retention.</li> <li>Legacy authentication methods are disabled in the Windows 10 SOE following the ACSC hardening guide.</li> <li>Credentials are stored within Azure AD and the on-premises AD.</li> <li>Standard Windows &amp; iOS functionality is to obscure passwords during logon.</li> <li>Windows Defender Credential Guard is enabled for the Windows 10 SOE. </li> <li>Only one previous logon is cached for the Windows 10 SOE.</li> <li>The HybridSystem Windows 10 SOE is configured with a screen saver after 15 minutes which requires users to re-authenticate.</li> <li>The HybridSystem Windows 10 SOE is configured with a logon banner provided by the Agency.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_24","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for investigating repeated account lockouts.</li> <li>The Agency is responsible for managing passwords/passphrases.</li> <li>The Agency is responsible for procedures involving provisioning user passwords.</li> <li>The Agency is responsible for populating the Protected Users security group for on-premises AD.</li> <li>The Agency is responsible for configuring Credential Guard and Remote Credential Guard on servers.</li> <li>The Agency is responsible for terminating user sessions and rebooting workstations outside of business hours.</li> <li>The Agency is responsible for the wording of the logon banner.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#virtualisation-hardening","title":"Virtualisation hardening","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_25","title":"Applicability to HybridSystem","text":"<p>This section is applicable as the HybridSystem includes the Agency's on-premises servers which integrate with M365 components (e.g. Azure AD Connect).</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_25","title":"HybridSystem compliance approach","text":"<p>The HybridSystem does not provide guidance on the hardening of on-premises servers, which instead are inherited from the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_24","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_25","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for implementing virtualisation hardening for servers used as part of the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-management","title":"System management","text":""},{"location":"security/hybrid-system-security-plan/#system-administration","title":"System administration","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_26","title":"Applicability to HybridSystem","text":"<p>The system administration section is applicable to the HybridSystem in the context of the operations and management of the controls that the HybridSystem provides.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_26","title":"HybridSystem compliance approach","text":"<p>Privileged Access Workstations (PAWs) and admin jump servers are not used in the HybridSystem due to the limited size of the expected Agencies and all administrative access to the Microsoft 365 portals is with Azure AD accounts using MFA. The risk of not implementing these controls is addressed in the HybridSystem SRMP.</p> <p>Administration of the HybridSystem is performed through a web browser to a number of Microsoft 365 portals as listed below.</p> Portal URL Defender for Cloud Apps portal https://portal.cloudappsecurity.com Azure portal (including Azure AD) https://portal.azure.com Microsoft 365 Compliance Center https://compliance.microsoft.com Microsoft 365 Defender https://security.microsoft.com Office 365 homepage https://portal.office.com Defender for Identity portal https://portal.atp.azure.com Microsoft 365 admin center https://admin.microsoft.com/ <p>The HybridSystem protects access to these portals through authentication via Azure AD and enforcement of MFA and location-based policies through Conditional Access. Privileges within the HybridSystem are controlled through the RBAC model. </p> <p>The Conditional Access policies and RBAC model also extend to the administration of endpoint devices that are deployed as part of the HybridSystem.</p> <p>The administration of existing resources leveraged by the HybridSystem are listed below.</p> Resource Location Local user accounts and group management On-premises Active Directory Server Local mailboxes and contacts On-premises Exchange Server Local sites and data stores On-premises SharePoint Server"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_25","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The HybridSystem includes a system administration SOP.</li> <li>Azure MFA is required for all privileged user access.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_26","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for provisioning, managing and decommissioning administrative accounts to be used for the HybridSystem administration.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-patching","title":"System patching","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_27","title":"Applicability to HybridSystem","text":"<p>System patching of Office 365 and Azure AD are not applicable as these cloud components are a Microsoft responsibility.</p> <p>System patching of endpoint devices is required, and this is accomplished via Intune or MECM policies setting the frequency, installation options and reporting values. Microsoft Defender for Endpoint provide a vulnerability management capability to aid Agencies in detecting missing patches and insecure configurations.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_27","title":"HybridSystem compliance approach","text":"<p>The HybridSystem compliance approach is to primarily utilise native cloud capabilities that are patched as part of the service. </p> <p>The HybridSystem uses Intune or MECM to automatically deploy operating system, application, driver, and firmware (where supported) updates to Windows 10 SOE devices. </p> <p>The blueprint does not include third-party applications or any unsupported software.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_26","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The HybridSystem includes a system administration SOP which specifically references patching.</li> <li>Intune or MECM is configured to automatically install updates within 48 hours on all Windows 10 devices.</li> <li>Intune or MECM provides a centralised and managed approach to patching.</li> <li>Windows Update verifies the integrity of patches before installing them.</li> <li>Microsoft Defender for Endpoint provides a continuous vulnerability management capability for all Windows 10 devices.</li> <li>The blueprint does not include the use of unsupported software.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_27","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for maintaining and auditing a software register.</li> <li>The Agency is responsible for patching any third-party applications deployed to Windows 10 devices.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#change-management","title":"Change management","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_28","title":"Applicability to HybridSystem","text":"<p>Change management is not applicable as the ongoing management and maintenance of the HybridSystem utilises the Agency\u2019s change management process.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_28","title":"HybridSystem compliance approach","text":"<p>The HybridSystem integrates with an Agency\u2019s existing change management process. </p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_27","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_28","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all change management processes.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#data-backups","title":"Data backups","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_29","title":"Applicability to HybridSystem","text":"<p>Data backups are not applicable to the HybridSystem as they are the responsibility of the Agency to implement in accordance with their data preservation strategy.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_29","title":"HybridSystem compliance approach","text":"<p>The Agency is responsible for backup and restoration of data and configurations stored in the HybridSystem. </p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_28","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_29","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for identifying what backup and restoration requirements they have and how these will be achieved within the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#system-monitoring","title":"System monitoring","text":""},{"location":"security/hybrid-system-security-plan/#event-logging-and-auditing","title":"Event logging and auditing","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_30","title":"Applicability to HybridSystem","text":"<p>The controls relating to the logging and auditing of events for components included in the HybridSystem are applicable. The HybridSystem does not include web applications, Domain Name System (DNS) or proxy services, and therefore the controls relating to these components are not applicable. The HybridSystem does not configure logging for the on-premises Azure AD Connect and SharePoint Server databases.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_30","title":"HybridSystem compliance approach","text":"<p>The HybridSystem provides extensive event logging and auditing for Azure and Microsoft 365 resources that can be incorporated into an Agency\u2019s event logging strategy. Logs are stored in Log Analytics for two years which is the maximum available period for Log Analytics. </p> <p>All logs relevant to the operation and integrity of the HybridSystem are stored in a centralised storage account. The HybridSystem protects the integrity of logs through policy enforcement, automation and RBAC.</p> <p>Local event logs on Windows 10 devices will be lost when endpoints are rebuilt as the local event logs are not centralised.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_29","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Defender for Endpoint and Defender for Office 365 centralise logs relating to the security of devices and Office services.</li> <li>Windows 10 devices and Office 365 services leverage Microsoft's Window Time service.</li> <li>Azure AD logs authentication events to Log Analytics.</li> <li>The following events are logged to the local event log on each Windows 10 endpoint:</li> <li>access to important data and processes</li> <li>application crashes and any error messages</li> <li>attempts to use special privileges</li> <li>changes to accounts</li> <li>changes to security policy</li> <li>changes to system configurations</li> <li>DNS and Hypertext Transfer Protocol requests</li> <li>failed attempts to access data and system resources</li> <li>service failures and restarts</li> <li>system startup and shutdown</li> <li>transfer of data to external media</li> <li>user or group management</li> <li>use of special privileges.</li> <li>Logs include the date and time of the event, the relevant user or process, the event description, and the ICT equipment involved are recorded.</li> <li>Logs stored in Log Analytics are protected from unauthorised access, modification and deletion by the Azure AD RBAC model. Standard Windows 10 users do not have access to modify the local event logs.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_30","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing and implementing an event logging policy. </li> <li>The Agency is responsible for establishing and maintaining logging facilities, including for the centralisation of Window 10 local event logs.</li> <li>The Agency is responsible for longer term log retention (greater than the two years offered by Log Analytics).</li> <li>The Agency is responsible for storing any DNS or proxy logs they generate as part of the system.</li> <li>The Agency is responsible for logging authentication requests to the on-premises AD.</li> <li>The Agency is responsible for logging for the on-premises Azure AD Connect database.</li> <li>The Agency is responsible for logging for the on-premises SharePoint Server database.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#software-development","title":"Software development","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_31","title":"Applicability to HybridSystem","text":"<p>Not applicable as the HybridSystem is not designed to support software development activities.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_31","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_30","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_31","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all application development controls but can leverage the HybridSystem security controls detailed in this document.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#database-systems-management","title":"Database systems management","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_32","title":"Applicability to HybridSystem","text":"<p>Not applicable as the management of database servers, database management system software and databases leverage by the HybridSystem is the responsibility of the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_32","title":"HybridSystem compliance approach","text":"<p>Azure AD Connect and SharePoint Server leverage databases which are provided by the Agency. Neither of these databases are used to store any passwords/passphrases.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_31","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_32","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for managing the server used to host the Azure AD Connect database.</li> <li>The Agency is responsible for managing the server used to host the SharePoint Server database.</li> <li>The Agency is responsible for managing the database servers accessing the databases.</li> <li>The Agency is responsible for managing the database management system software used to manage the databases.</li> <li>The Agency is responsible the managing the Azure AD Connect database.</li> <li>The Agency is responsible the managing the SharePoint Server database.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#email-management","title":"Email management","text":""},{"location":"security/hybrid-system-security-plan/#email-usage","title":"Email usage","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_33","title":"Applicability to HybridSystem","text":"<p>The controls relating to email usage are applicable to the HybridSystem as it provides an email capability of its users.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_33","title":"HybridSystem compliance approach","text":"<p>The HybridSystem provides the capability for users to apply protective markings to emails based on their classification. If required, users have the ability to lower the classification of an email, but are required to provide a text-based justification that is included in the audit log. This is due to a product limitation in Microsoft Information Protection (MIP).</p> <p>The HybridSystem will leverage an Agency's Secure Internet Gateway (SIG) for proxy and mail services.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_32","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The HybridSystem applies protective markings based on the classification of the content of emails, including attachments.</li> <li>Users are required to select the classification of emails to apply protective markings.</li> <li>Only appropriate classification options will be presented to HybridSystem users.</li> <li>Defender for Office 365 will notify users and administrators of blocked emails.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_33","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing and implementing an email usage policy.</li> <li>The Agency is responsible for preventing access to unapproved sites and services from within the network.</li> <li>The Agency is responsible for ensuring their email gateway blocks, logs and reports on emails with inappropriate protective markings.</li> <li>The Agency is responsible for conducting a risk assessment if the Agency chooses not to use a SIG. </li> </ul>"},{"location":"security/hybrid-system-security-plan/#email-gateways-and-servers","title":"Email gateways and servers","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_34","title":"Applicability to HybridSystem","text":"<p>The controls relating to email gateways and servers are applicable to the HybridSystem as it leverages Exchange Online.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_34","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages Exchange Online in conjunction with on-premises Exchange to leverage cloud security capabilities and expand email capability to the cloud. Native Exchange Online security capabilities are enabled to prevent against email-related threats such as spoofing and phishing. On-premises Exchange Server and Exchange Online are configured to route through the Agency's existing email gateway.</p> <p>The advanced features of Defender for Office 365, including Safe Attachments and Safe Links which provide sandboxing of attachments and inspective of hyperlinks respectively, are enabled by the HybridSystem. This provides email content filtering and expands on the default protections offered by Exchange Online Protection (EOP).</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_33","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Exchange Online is configured to route through the Agency's existing email gateway.</li> <li>Email traffic between external users and Exchange Online is encrypted with TLS 1.2. Exchange Online then forwards emails to the Agency's existing email gateway via an Exchange connector.</li> <li>Exchange Online is not configured to act as an open relay.</li> <li>Exchange Online implements TLS 1.2 for opportunistic TLS encryption where supported by the other mail server.</li> <li>Exchange Online implements Mail Transfer Agent - Strict Transport Security (MTA-STS) for outbound mail flow.</li> <li>Sender Policy Framework (SPF) is configured in Exchange Online using a hard fail record. SPF blocks are visible to the recipients.</li> <li>DomainKeys Identified Mail (DKIM) is configured in Exchange Online and DKIM signatures on received emails are verified.</li> <li>Domain-based Message Authentication, Reporting and Conformance (DMARC) records are configured in Exchange Online.</li> <li>Defender for Office 365 provides content filtering including sandboxing of attachments (Safe Attachments) and inspection of links (Safe Links).</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_34","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for controls implemented by their existing email gateway.</li> <li>The Agency's gateway is responsible for blocking incoming emails that use an internal domain name as the source address.</li> <li>The Agency's gateway is responsible for ensuring undeliverable notifications are only sent to sender that are verified by SPF or other trusted means.</li> <li>The Agency is responsible for any backup or alternative email gateways.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#network-management","title":"Network management","text":""},{"location":"security/hybrid-system-security-plan/#network-design-and-configuration","title":"Network design and configuration","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_35","title":"Applicability to HybridSystem","text":"<p>The majority of the controls relating to network design and configuration are not directly applicable to the HybridSystem and are instead the responsibility of the Agency to implement. This is due to the HybridSystem not including network devices within its scope.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_35","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages the Microsoft backbone to provide networking for the Office 365 and Azure services. LAN design and configuration is the responsibility of the Agency and may reuse existing capabilities. The HybridSystem designs the interfaces between endpoints and services, including how data traverses public networks such as the internet. </p> <p>The HybridSystem is designed to primarily run on-premises but also be able to use the public internet. All security controls are implemented on the endpoint devices and the Office 365 component.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_34","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The Office 365 design includes a high level network diagram showing the components that are considered in scope.</li> <li>The Office 365 design which includes the high level network design has a last updated date.</li> <li>All communication between HybridSystem Windows 10 endpoints and Office 365 components is encrypted by TLS.</li> <li>The blueprint uses Conditional Access policies to restrict access to only specified geographic regions within Australia. The blueprint also uses Azure AD Identity Protection to analyse sign-in logs to identify and notify administrators when users are identified as originating from anonymous proxy IP addresses. </li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_35","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management of network devices used in relation to the HybridSystem.</li> <li>The Agency is responsible for implementing security controls within their email gateway.</li> <li>The Agency is responsible for managing servers used as part of the HybridSystem.</li> <li>The Agency is responsible for ensuring that they segregate their network from that of service providers.</li> <li>The Agency is responsible for reviewing alerts from Defender for Cloud Apps and Azure AD Identity Protection.</li> <li>The Agency is responsible for ensuring that outbound traffic to anonymity networks is blocked.</li> <li>The Agency is responsible for implementing a protective DNS service as part of their gateway.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#wireless-networks","title":"Wireless networks","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_36","title":"Applicability to HybridSystem","text":"<p>The controls relating to wireless networks are not applicable as the HybridSystem does not include any wireless networks. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_36","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_35","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_36","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for securing any wireless networks that they provide to enable connectivity between HybridSystem endpoints and Azure/Office 365 services.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#service-continuity-for-online-services","title":"Service continuity for online services","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_37","title":"Applicability to HybridSystem","text":"<p>The controls relating to service continuity for online services are not applicable as the HybridSystem does not host online services.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_37","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_36","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_37","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the procurement and management of online services as applicable.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#using-cryptography","title":"Using cryptography","text":""},{"location":"security/hybrid-system-security-plan/#cryptographic-fundamentals","title":"Cryptographic fundamentals","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_38","title":"Applicability to HybridSystem","text":"<p>The controls relating to cryptographic fundamentals are applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_38","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages cryptography provided by Microsoft to encrypt both data at rest and data in transit. This includes the use of Microsoft BitLocker to encrypt mobile devices using an Australian Signals Directorate (ASD) Approved Cryptographic Algorithm (AACA), namely AES. Note, that the HybridSystem does not use encryption for the purposes of reducing the handling requirements for endpoints.</p> <p>Microsoft\u2019s implementation of cryptography, including TLS 1.2 which is an ASD Approved Cryptographic Protocol (AACP), has been assessed as part of the IRAP assessments for Azure and Office 365. However, an ASD Cryptographic Evaluation (ACE) has not been performed on Microsoft\u2019s cryptographic software.</p> <p>At the time of writing Microsoft does not support the latest version of TLS \u2013 version 1.3. Microsoft have previously stated that versions 1.0 and 1.1 are not supported and were to become deprecated for Office 365 services from June 2020, however this has since been delayed due to world events. See Preparing for TLS 1.2 in Office 365 and Office 365 GCC.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_37","title":"Security controls provided by the HybridSystem","text":"<ul> <li>The HybridSystem uses Microsoft BitLocker for encryption leveraging AES which is an AACA.</li> <li>Microsoft BitLocker provides full disk encryption of the HybridSystem mobile devices, implementing AES-256. BitLocker recovery keys are stored in Azure AD.</li> <li>TLS with AES is used to protect traffic to and from Azure and Office 365 servers over the internet.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_38","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management of cryptographic keys used in relation to the HybridSystem other than those managed by Microsoft as part of the Microsoft 365 cloud services.</li> <li>The Agency is responsible for informing users of their responsibilities in relation to the management encrypted devices.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#asd-approved-cryptographic-algorithms","title":"ASD approved cryptographic algorithms","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_39","title":"Applicability to HybridSystem","text":"<p>The controls relating to AACAs are applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_39","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverage\u2019s Microsoft\u2019s implementation of AACAs in Azure and Office 365.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_38","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Microsoft Azure and Office 365 services implement AACAs where possible.</li> <li>Microsoft Azure and Office 365 services implement Elliptic Curve Diffie-Hellman Ephemeral (ECDHE) as the preferred algorithm.</li> <li>Microsoft Azure and Office 365 services do not use Diffie-Hellman (DH).</li> <li>Microsoft Azure and Office 365 services do not use Digital Signature Algorithm (DSA).</li> <li>Microsoft Azure and Office 365 services implement National Institute of Standards and Technology (NIST) P-256 and P-384.</li> <li>Microsoft Azure and Office 365 services use a 256-bit key where possible for Elliptic Curve Diffie-Hellman (ECDH).</li> <li>Microsoft Azure and Office 365 services use a 2048-bit key for Rivest\u2013Shamir\u2013Adleman (RSA).</li> <li>Microsoft Azure and Office 365 services use separate RSA key pairs for these purposes.</li> <li>SHA-384 is the preferred hashing algorithm used as part of TLS for Office 365 components.</li> <li>AES-256 is used for BitLocker encryption.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_39","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#asd-approved-cryptographic-protocols","title":"ASD approved cryptographic protocols","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_40","title":"Applicability to HybridSystem","text":"<p>The controls relating to AACPs are applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_40","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverage\u2019s Microsoft\u2019s implementation of AACPs in Azure and Office 365.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_39","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Microsoft Azure and Office 365 services implement AACPs where possible.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_40","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#transport-layer-security","title":"Transport layer security","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_41","title":"Applicability to HybridSystem","text":"<p>The controls relating to TLS are applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_41","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverage\u2019s Microsoft\u2019s implementation of TLS in Azure and Office 365.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_40","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Microsoft Azure and Office 365 services implement TLS versions 1.2 and 1.3.</li> <li>Microsoft Azure and Office 365 services implement AES in Galois Counter Mode (GCM).</li> <li>Microsoft Azure and Office 365 services implement secure renegotiation.</li> <li>Microsoft Azure and Office 365 services implement ECDHE as the preferred algorithm.</li> <li>Microsoft Azure and Office 365 services use SHA-2-based certificates.</li> <li>Microsoft Azure and Office 365 services use SHA-2 as part of the Message Authentication Code and Pseudo-Random Function.</li> <li>Microsoft Azure and Office 365 services disable TLS compression.</li> <li>Microsoft Azure and Office 365 services implement Perfect Forward Secrecy (PFS).</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_41","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#secure-shell","title":"Secure shell","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_42","title":"Applicability to HybridSystem","text":"<p>The controls relating to the use of Secure Shell (SSH) are not applicable to the HybridSystem as it does not utilise SSH. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_42","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_41","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_42","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#securemultipurpose-internet-mail-extension","title":"Secure/multipurpose internet mail extension","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_43","title":"Applicability to HybridSystem","text":"<p>The controls relating to the use of Secure/Multipurpose Internet Mail Extension (S/MIME) are not applicable to the HybridSystem as it does not utilise S/MIME. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_43","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_42","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_43","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#internet-protocol-security","title":"Internet protocol security","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_44","title":"Applicability to HybridSystem","text":"<p>The controls relating to the use of Internet Protocol Security (IPsec) are not applicable to the HybridSystem as it does not utilise IPsec. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_44","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_43","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_44","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#cryptographic-system-management","title":"Cryptographic system management","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_45","title":"Applicability to HybridSystem","text":"<p>The controls relating to cryptographic system management is not applicable to the HybridSystem as the HybridSystem does not include the use of Commercial Grade Cryptographic Equipment (CGCE) equipment. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_45","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_44","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_45","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management of any CGCE used in relation to the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#gateway-management","title":"Gateway management","text":""},{"location":"security/hybrid-system-security-plan/#gateways","title":"Gateways","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_46","title":"Applicability to HybridSystem","text":"<p>The controls relating to gateways are applicable to the HybridSystem as the solution is designed to integrate with a SIG provided by the Agency.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_46","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages the Agency\u2019s SIG capability where required.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_45","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_46","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the implementation of security controls relating to their internet and email gateway if integrated with the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#cross-domain-solutions","title":"Cross domain solutions","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_47","title":"Applicability to HybridSystem","text":"<p>The controls relating to cross-domain solutions are not applicable as the HybridSystem does not include any cross-domain solutions.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_47","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_46","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_47","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#firewalls","title":"Firewalls","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_48","title":"Applicability to HybridSystem","text":"<p>The controls relating to firewalls are not applicable to the HybridSystem as the HybridSystem does not include firewalls for the purpose of separating official/classified and public networks.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_48","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_47","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_48","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the implementation of security controls relating to their email gateway if integrated with the HybridSystem.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#diodes","title":"Diodes","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_49","title":"Applicability to HybridSystem","text":"<p>The controls relating to diodes are not applicable to the HybridSystem as the HybridSystem does not include any diodes or unidirectional gateways.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_49","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_48","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_49","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#web-proxies","title":"Web proxies","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_50","title":"Applicability to HybridSystem","text":"<p>The controls relating to web proxies are applicable to the HybridSystem as the solution leverages the Agency\u2019s SIG for proxy services. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_50","title":"HybridSystem compliance approach","text":"<p>The HybridSystem does not include a web proxy service.</p> <p>Web proxies, content filters, SIG and VPN connections between mobile devices and Agency networks are not currently included within the Protected Utility design.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_49","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_50","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the development and implementation of a web usage policy.</li> <li>The Agency is responsible for the implementation of a web proxy for devices within their network.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#web-content-filters","title":"Web content filters","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_51","title":"Applicability to HybridSystem","text":"<p>The controls relating to web content filters are applicable to the HybridSystem. </p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_51","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages Defender for Endpoint to provide web content filtering capabilities on Windows 10 devices.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_50","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Web content filtering is enabled for Windows 10 devices using Microsoft Defender for Endpoint.</li> <li>Client-side active content, including all Java and Flash content, is blocked on all Windows 10 devices.</li> <li>Microsoft Defender for Endpoint blocks specific web categories which are maintained by Microsoft.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_51","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all gateway configurations relating to web content filtering.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#content-filtering","title":"Content filtering","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_52","title":"Applicability to HybridSystem","text":"<p>The controls relating to content filtering are applicable to the HybridSystem.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_52","title":"HybridSystem compliance approach","text":"<p>The HybridSystem leverages Office 365 capabilities including Defender for Office 365 and EOP to inspect and manage email traffic.</p> <p>The blueprint does not include content validation, conversion, and sanitisation capabilities, and digital signatures/checksums are not validated when files are imported.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_51","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Exchange Online Protection and Defender for Office 365 are configured to prevent specific file types from entering the system via email. </li> <li>Defender for Office 365 provides content filtering including sandboxing of attachments (Safe Attachments) and inspection of links (Safe Links).</li> <li>Multiple scanning engines are provided by Exchange Online Protection, Defender for Office 365 and Defender for Endpoint.</li> <li>Archives are scanned for malware.</li> <li>Defender for Office 365 alerts are configured.</li> <li>Integrity of patches is verified before installation.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_52","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for implementing content filtering for web traffic and other vectors.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#peripheral-switches","title":"Peripheral switches","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_53","title":"Applicability to HybridSystem","text":"<p>The control relating to peripheral switches are not applicable to the HybridSystem as the HybridSystem does not include any peripheral switches.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_53","title":"HybridSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_52","title":"Security controls provided by the HybridSystem","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_53","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/hybrid-system-security-plan/#data-transfers","title":"Data transfers","text":""},{"location":"security/hybrid-system-security-plan/#applicability-to-hybridsystem_54","title":"Applicability to HybridSystem","text":"<p>The controls relating to data transfers are applicable to the HybridSystem as it is expected users will transfer data to and from the solution.</p>"},{"location":"security/hybrid-system-security-plan/#hybridsystem-compliance-approach_54","title":"HybridSystem compliance approach","text":"<p>The HybridSystem includes Microsoft Defender for Endpoint to assist with the inspection and auditing of data transfer to and from HybridSystem endpoints. Event logs are generated when data is transferred to external media from a Windows 10 endpoint.</p> <p>The HybridSystem does not provide configuration advice on protective marking checks for documents due to the reliance on existing platforms and the difference in existing architectures across Commonwealth entities.</p>"},{"location":"security/hybrid-system-security-plan/#security-controls-provided-by-the-hybridsystem_53","title":"Security controls provided by the HybridSystem","text":"<ul> <li>Defender for Endpoint will scan all data copied onto HybridSystem Windows 10 devices.</li> <li>Event logs are generated when data is transferred to external media from a Windows 10 endpoint.</li> </ul>"},{"location":"security/hybrid-system-security-plan/#residual-controls-to-be-addressed-by-the-agency_54","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the development and implementation of a data transfer policy.</li> <li>The Agency is responsible for auditing data transfer logs.</li> </ul>"},{"location":"security/incident-response-plan/","title":"Incident response plan","text":""},{"location":"security/incident-response-plan/#incident-response-plan","title":"Incident response plan","text":"<p>23 minutes to read - 30 March 2023</p> <p>This Incident Response Plan (IRP) has been prepared to support the Digital Transformation Agency (DTA) CloudSystem. The document provides guidance for responding to cyber security incidents that may occur in relation to an Agency\u2019s operation of the CloudSystem.</p>"},{"location":"security/incident-response-plan/#purpose","title":"Purpose","text":"<p>The purpose of this IRP is to provide guidance to Agencies operating the CloudSystem including how to detect cyber security incidents, how to respond and remediate them, along with how to reduce the risk of an incident re-occurring in the future.</p>"},{"location":"security/incident-response-plan/#scope","title":"Scope","text":"<p>The scope of this IRP is specific to the use of Microsoft 365 services as part of the CloudSystem. As such it is termed a system-specific IRP and is designed to be subordinate to an Agency\u2019s overarching IRP. As a result, this IRP does not directly address topics that it is reasonable to assume are discussed in an Agency-level IRP.</p> <p>The CloudSystem IRP is a living document. It is anticipated that, over time, amendments and updates will be applied to the CloudSystem IRP specific to agency business needs and lessons learnt from cyber incidents.</p>"},{"location":"security/incident-response-plan/#incident-response-plan_1","title":"Incident response plan","text":"<p>This IRP is based on the four step National Institute of Standards and Technology (NIST) incident response life cycle as documented in Special Publication 800-61 Revision 2. The four steps of the process are illustrated in Figure 1 and are:</p> <ul> <li>Preparation</li> <li>Detection &amp; Analysis</li> <li>Containment, Eradication, and Recovery</li> <li>Post-Incident Activity.</li> </ul> <p></p> <p> Figure 1 Incident Response Process </p> <p>Each of the four incident response phases are detailed in the following sections of this document.</p>"},{"location":"security/incident-response-plan/#preparation","title":"Preparation","text":"<p>The preparation phase of the incident response life cycle is a shared responsibility between the project team and Agency cyber security personnel. The project team is responsible for the design, implementation, and security assessment of the solution. This includes performing a risk assessment and determining which specific Information Security Manual (ISM) controls to implement to reduce and manage the risk of security incidents. The following documentation has been produced for the CloudSystem and it is recommended that the Agencies cyber security personnel familiarise themselves with the content to aid them in their preparation to manage an incident:</p> <ul> <li>Blueprint \u2013 Solution Overview which describes the solution, which features have been enabled/disabled for the Agency, and how the solution has been structured.</li> <li>Blueprint \u2013 Platform Design which describes the technologies used that make up the \u2018platform\u2019 portion of the solution and how they are implemented.</li> <li>Blueprint \u2013 Client Devices Design which describes the technologies used that make up the Windows 10 portion of the solution and how it is implemented.</li> <li>Blueprint \u2013 Office 365 Design which describes the technologies used that make up the Office 365 portion of the solution and how it is implemented.</li> <li>Cloud-Only Blueprint \u2013 Security Risk Management Plan (SRMP) which includes the details of the risk assessment performed and the recommended treatments.</li> <li>Cloud-Only Blueprint \u2013 System Security Plan (SSP) which describes how controls identified in the SSP Annex are implemented by the system.</li> <li>Cloud-Only Blueprint \u2013 System Security Plan Annex (September 2021) which states the compliance of the solution with the September 2021 version of the ISM.</li> <li>Cloud-Only Blueprint \u2013 Security Standard Operating Procedures which describe the steps required to perform multiple operational tasks within the environment.</li> </ul> <p>In addition to having ongoing access to the above documentation it is assumed that Agency cyber security personnel have access to tools and resources as described in the Agency IRP.</p> <p>Specific resources that are also required by Agency cyber security personnel to detect and respond to security incidents include:</p> <ul> <li>Access to the various Microsoft management portal required to administer the CloudSystem, as listed below in Table 1</li> <li>Membership of the role(s) required to perform any actions related to the incident</li> </ul> <p> Table 1 Microsoft Management Portals </p> Portal URL Microsoft 365 Defender portal https://security.microsoft.com Defender for Cloud Apps portal https://portal.cloudappsecurity.com Azure portal (including Azure AD) https://portal.azure.com Microsoft 365 compliance portal https://compliance.microsoft.com Microsoft 365 admin center https://admin.microsoft.com/"},{"location":"security/incident-response-plan/#detection-and-analysis","title":"Detection and analysis","text":"<p>Multiple detection methods are available to the Agency\u2019s cyber security personnel to aid them in discovering and categorising security incidents. These detection methods include:</p> <ul> <li>Alerts from Azure AD (including Azure AD Identity Protection) including risky sign-ins and users flagged for risk.</li> <li>Azure AD logs stored in Azure and available via the portal, including the audit log for all administrative activities relating to Azure AD.</li> <li>Defender for Office 365 alerts and reports for each of the configured capabilities including Safe Attachments, Safe Links, Safe Attachments for SharePoint, OneDrive and Microsoft Teams, and Anti-phishing in Defender for Office 365 protection.</li> <li>Microsoft Defender for Endpoint including the Security Operations, Incidents, and Alerts Queue dashboards which provide tailored information and actions for cyber security personnel.</li> <li>Microsoft Defender for Cloud Apps Threat Detection, Privileged Accounts, and Access Control dashboards spanning the whole Microsoft 365 deployment, along with configurable email alerts and automatic response capabilities.</li> <li>Local Windows 10 events logs written to each Windows 10 endpoint including authentication attempts, firewall activities, and Windows Defender Application Control (WDAC) events.</li> </ul> <p>Due to its containment, eradication and recovery capabilities in addition to its detection and analysis functionality, Microsoft Defender for Endpoint is the primarily incident response tool for the CloudSystem and is described in further detail in the section below.</p>"},{"location":"security/incident-response-plan/#microsoft-defender-for-endpoint","title":"Microsoft Defender for Endpoint","text":"<p>The CloudSystem leverages Microsoft Defender for Endpoint to monitor, detect, investigate, and respond to threats targeting Windows 10 endpoints. When an alert is triggered of sufficient severity, an email is automatically sent to a specified recipient email address (typically the Agency cyber security team mailbox or similar). Additional email recipients can be configured as required.</p>"},{"location":"security/incident-response-plan/#recommendation","title":"Recommendation","text":"<p>Agency should ensure a recipient email address (typically the Agency cyber security team mailbox or similar) shared with multiple users is created and monitored.</p> <p>The majority of alerts generated within the Microsoft 365 Defender portal \u2013 which include Microsoft Defender for Endpoint alerts \u2013 relate to automatically detected issues and are informational in nature. This means that they are not necessarily harmful to the system but must be reviewed and accounted for. Alerts are organised by severity as they enter the \u2018Alerts queue\u2019, the severity of which is detailed below in Table 2.</p> <p> Table 2 Microsoft 365 Defender Alert Severities </p> Severity Description High Threats marked as 'High' have the potential to cause severe damage to the system and devices using it. These alerts must be treated with urgency. Medium Threats marked as 'Medium' must be treated with some importance but typically will indicate anomalous behaviour within the environment such as the execution of suspicious files, un-sanctioned registry changes, or observed behaviours typical of a cyber threat or attack. Low 'Low' urgency threats will typically be identified as commercial/known malware or hacking tools, their function is generally well understood and the ability to stop it is high. Informational 'Informational' alerts are those that might not be considered harmful to the network but are good to track. <p>Figure 2 shows an example of an alert from Defender for Endpoint which detected a suspicious sequence of activities and automatically generated an incident detailing the severity, timestamps, devices affected, applications called, and more.</p> <p></p> <p> Figure 2 Suspicious sequence of activities </p> <p>When the Agency\u2019s cyber security personnel receive an alert, they should perform analysis to determine the cause and any potential impact, including recommended actions within the Microsoft 365 Defender portal. If an alert occurs during an approved change window and relates directly to the contents of the change, for example an unapproved/not allowed executable runs during an application deployment, then it is unlikely that a security incident has occurred. However, if an alert is triggered outside of a change window and without an obvious cause then the probability of the event being a security incident probable.</p> <p>Note, Microsoft assign a criticality to each alert based on an internal rating system. It is up to the Agency\u2019s cyber security team to make their own assessment of the criticality of all potential security incidents in accordance with the Agency\u2019s overarching IRP.</p> <p>The assignment of criticality to an incident is an important step and due care must be applied to avoid the risks associated with both under and over classifying an incident. If there is ever any doubt, cyber security personnel should always investigate further.</p> <p>The alerts captured in the Microsoft 365 Defender portal should be leveraged by Agency cyber security personnel to detect and analyse potential security incidents. The Microsoft 365 Defender portal provides far deeper detail than is available from the email alerts, these emails should only serve as a cursory notification, not an in-depth analysis of the incident.</p> <p>Within the Microsoft 365 Defender portal there are two capabilities that should be utilised by Agency cyber security personnel for the purpose of detection and analysis of incidents on a day-to-day basis.</p> <ul> <li>Incidents lists all automatically generated incidents detected by Defender for Endpoint - along with Defender for Office 365 and Defender for Cloud Apps, including the severity of the incident, the machines and users involved, last activity, assignment of the incident, et cetera. All incidents should be assigned as they are generated and managed based on the Agency\u2019s operating procedures by cyber security personnel.</li> <li>Alerts queue lists all alerts based on the alert type not the incident case that is generated, this can be supremely helpful when attempting to identify patterns of behaviour. This alerts queue will also sort by severity, which incident it is related to, status, and investigation state.</li> </ul> <p>For both the Incidents and Alerts queue Agency cyber security personnel can select individual records to access detailed information on the specific activity.</p>"},{"location":"security/incident-response-plan/#incident-criticality-assignment","title":"Incident criticality assignment","text":"<p>Regardless of the detection source for a potential incident, all incidents should be assigned a criticality in a consistent manner. In accordance with guidance issued by the Agency\u2019s Chief Information Security Officer (CISO) or other personnel responsible for the daily operational information security of the Agency, all incidents should be assigned a system specific criticality. The criticality ratings for incidents have been developed from a number of Federal Government Agencies\u2019 overarching risk frameworks, specifically the consequence definitions. These definitions are listed below.</p> <p>Note, if incident criticality definitions are included in the Agency IRP cyber security personnel should use those in preference to the criticalities defined below. The Business Impact Levels (BILs) defined in the Protective Security Policy Framework (PSPF) should also be considered in the assessment of incident criticalities.</p> <p> Table 3 Incident Criticality Definitions </p> Incident Criticality Performance Metrics Reputational Metrics Extreme Major impact on departmental outcomes and performanceRequires major additional management effort by Senior Executive to control the impactUnavailability of agency mission critical systems including the delivery of Government outcomes (e.g. a public facing system that is used in emergency procedures, a grants systemCatastrophic breach and or loss and or destruction of agency information containing sensitive and personal information of Australian citizens and or classified information Significant adverse publicityLoss of stakeholder confidence requiring intervention by SecretaryReporting to accountable authorities outside of the Agency e.g. Privacy Commissioner, Minister of Department etc High Moderate impact on achievement of outcomes and performanceRequires additional management effort by business area, Senior Executive to control the impact Substantial adverse publicityLoss of stakeholder confidence requiring intervention at Executive level Medium Minor impact on achievement of outcomes and performanceRequires additional management effort within the business area to control the impact Some adverse publicityMinor loss of stakeholder confidence Low Insignificant impact on achievement of outcomes and performance Some adverse publicityMinor loss of stakeholder confidence <p>Agency cyber security personnel should use the above table to define the criticality of incidents based on the data available to them at the time of detection and analysis. If this data is updated or found to be inaccurate Agency cyber security personnel should re-assess the criticality of the related incident(s). The criticality of an incident should be used to determine the resources, timeframes and reporting requirements related to it.</p>"},{"location":"security/incident-response-plan/#azure-service-outages","title":"Azure service outages","text":"<p>An additional data source that can be leveraged by Agency cyber security personnel when analysing potential security incidents is the Azure status dashboard. This dashboard is published by Microsoft and reports on the current status of all Azure-based services, including any current warnings or errors. An example of the dashboard is shown below in Figure 3.</p> <p>The Azure status dashboard is available at https://status.azure.com/ and does not require the user to be logged into Azure to view the current status.</p> <p></p> <p> Figure 3 Azure Status Dashboard </p> <p>Agency cyber security personnel can use the dashboard to determine if a potential incident is local to the Agency\u2019s system or is a widespread issue affecting the underlying Azure service(s).</p>"},{"location":"security/incident-response-plan/#recommendation_1","title":"Recommendation","text":"<p>It is recommended that at least one Agency cyber security personnel member is subscribed to the provided Rich Site Summary (RSS) feed to receive updates whenever an Agency-leveraged service is affected.</p>"},{"location":"security/incident-response-plan/#microsoft-365-service-outages","title":"Microsoft 365 service outages","text":"<p>Agency cyber security personnel should review the Microsoft 365 service status (including all Office 365 services) when investigating an incident relating to availability. The following resources are available from Microsoft to identify the status of Microsoft 365 services:</p> <ul> <li>Microsoft 365 Service health status</li> <li>Microsoft 365 Status Twitter</li> </ul> <p>In the first instance the Microsoft 365 Service health status page should be consulted, followed by the Microsoft 365 Status Twitter account. If no issues are identified by either of these resources, then Agency-specific scenarios should be explored such as loss of Internet connect, Local Area Network (LAN) outage, etc.</p> <p>As an example of how to navigate the Microsoft 365 Service health status page, please refer to Figure 4 below.</p> <p></p> <p> Figure 4 Office 365 Service Outages </p> <p>Agency cyber security personnel can use the dashboard to determine if a service is down, whether the issue is widespread and affecting the underlying services, or whether there is no identified outage. This page can also be used to review ongoing service advisories such as those identified below in Figure 5.</p> <p></p> <p> Figure 5 Office 365 Service Health Advisories </p>"},{"location":"security/incident-response-plan/#recommendation_2","title":"Recommendation","text":"<p>It is recommended that at least one Agency cyber security team member, or another person assigned with cyber security responsibilities, review these services daily to ensure there are no ongoing service outages that will affect the availability.</p>"},{"location":"security/incident-response-plan/#containment-eradication-and-recovery","title":"Containment, eradication, and recovery","text":"<p>The Agencies cyber security teams\u2019 approach to containment, eradication, and recovery \u2013 particularly in relation to resource allocation and priority \u2013 should be based on the category of the incident as previously described. However, regardless of the criticality of an incident the basic actions that are required to address the incident are dependent on the specific incident type.</p> <p>This IRP defines specific incident types that are directly related to the solution, namely:</p> <ul> <li>Violation of confidentiality of Agency data stored in Office 365 (including Exchange Online)</li> <li>Violation of integrity and/or confidentiality of Azure AD accounts</li> <li>Violation of integrity of Azure AD configuration</li> <li>Violation of integrity of Office 365 configuration</li> <li>Loss of availability of Agency data stored in Office 365</li> </ul> <p>The following table provides recommendations for the containment, eradication, and recovery activities associated with the above incident types:</p> <p> Table 4 Incident Containment, Eradication, and Recovery Activities </p> Incident type Containment, Eradication, and Recovery Activities Violation of confidentiality of Agency data stored in Office 365(For example, sensitive information is sent outside the organisational boundaries \u2013 data spill) Containment \u2013 Data Loss Prevention (DLP) policies are in place across Microsoft Teams, Exchange Online, SharePoint Online, and Outlook. All data stored in these corporate data locations is backed by policies to block the egress of what is identified as \u2018sensitive\u2019. Note, if DLP policies have been disabled or modified they should be re-enabled and verified by referring to the relevant ABAC.Eradication \u2013 DLP policies automatically block messages from being sent or redacts and obfuscates data attempting to leave organisational boundaries.Recovery \u2013 Recovery of sensitive information is automated by DLP. User notifications are linked to DLP policies upon creation. The Agency cyber security team should review DLP policies often to ensure they align with business needs. New policies should be created based on commonly used applications within the organisation. Violation of integrity and/or confidentiality of Azure AD account(s)(For example, user or administrative account compromised) Containment \u2013 Compromised account credentials can result in catastrophic damage to the system if the account in question has administrative privileges, and breaches of sensitive data. To contain this, Conditional Access and Multi-Factor Authentication (MFA) are employed to control access to all accounts, even if account credentials are compromised. Agency cyber security personnel can perform a global account sign-out and password reset if an account is suspected of being compromised.Eradication \u2013 Compromised accounts can be disabled from log-ins, passwords reset, and global sign-outs initiated. Agency cyber security personnel should review Azure AD logs to identify the source of the breach from an identity perspective. They should also review sharing audit logs against SharePoint Online and OneDrive for Business prior to the user being given their account credentials back. Additionally, a full audit of the user\u2019s log-in habits should be performed to ensure they comply with Agency security requirements.Recovery \u2013 Once the incident has been remediated the users account should be re-enabled, password reset, and access granted. Simultaneous to this, the Agency cyber security team are to review all appropriate logs dependant on the breach. Violation of integrity of Azure AD configuration(For example, unapproved changes are made to Conditional Access policies) Containment \u2013 Unauthorised changes to Conditional Access policies can result in gaps within the approved authentication process. To prevent these changes Privileged Identity Management should be utilised to only grant temporary permissions to perform privileged tasks.Eradication \u2013 Agency cyber security personnel should revert any changes made to the configuration in alignment with the configuration outlined in the \u2018Platform \u2013 Detailed Design\u2019 and \u2018Conditional Access \u2013 ABAC\u2019 documents.Recovery \u2013 Ensure all changes have been reverted, to ensure this has been completed successfully refer to the design and ABAC documents. Once the change(s) have been reverted any further authentication attempts will need to pass the conditional access policies. Measures should be in place to record any security incidents and unexpected changes to the configuration due to lack of knowledge. Violation of integrity of Office 365 configuration(For example, DLP or retention policies are disabled or modified without authorisation) Containment \u2013 DLP and retention policies are in place to ensure sensitive data does not improperly leave organisational boundaries. DLP is controlled by Azure AD permissions, as such, all access to it should be controlled by Privileged Identity Management (PIM). In the event of an incident PIM can be used to restrict administrative privileges to prevent further changes and provide an audit log of previous actions.Eradication \u2013 Agency cyber security personnel should revert any changes made to the configuration in alignment with the configuration in the \u2018Office 365 \u2013 Detailed Design\u2019 document. The Azure AD and PIM logs should be scrutinised to review by whom the unapproved change was made.Recovery \u2013 Ensure all changes have been reverted, to ensure this has been completed successfully refer to the design and ABAC documents. Agency cyber security personnel should review the last modified time of the affected policy and align it with PIM logs. A review of all privileged users and groups is recommended. Loss of availability of Agency data stored in Office 365(For example, the Microsoft Teams service is unavailable, and critical corporate data cannot be accessed) Containment \u2013 Service availability within the Office 365 and Azure environments is very high, if however, a service is offline or otherwise inaccessible, the Agency cyber security team should ensure the status of the service via the Microsoft 365 Service Health Status portal (see: Microsoft 365 Service Outages). If Microsoft Teams is inaccessible, secondary pathways to the data should be explored, for example, accessing the Teams back-end SharePoint Online site.Eradication \u2013 Not applicable for availability incidents.Recovery \u2013 The service is controlled by Microsoft and its availability is backed by Microsoft service level agreements. <p>Note, the activities listed above are designed to aid Agency cyber security personnel in responding to the specific incident types defined. However, this is not an exhaustive list of all possible responses. Agency cyber security personnel should use their judgement to determine if they are appropriate to a specific incident or if other actions should be taken.</p>"},{"location":"security/incident-response-plan/#defender-for-endpoint-threat-remediation","title":"Defender for Endpoint threat remediation","text":"<p>Defender for Endpoint provides the ability to automate responses to detected threats, reducing the total response time for an incident and eliminating the need for manual actions to be taken by the Agency\u2019s cyber security team. Five levels of automation are available as listed below:</p> <ul> <li>No automated response \u2013 automated investigations are not run, and all activities must be performed by the Agency\u2019s cyber security team.</li> <li>Semi (any folder) \u2013 approval is required from the cyber security team for all remediation activities suggested as part of an automated investigation.</li> <li>Semi (non-temp folders) \u2013 remediation occurs automatically for temporary folders including users\u2019 download folders, remediation for other locations requires approval.</li> <li>Semi (core folders) \u2013 remediation occurs automatically for all folders other than operating system directories (e.g. Program Files and Window).</li> <li>Full \u2013 all remediation activities are performed automatically.</li> </ul> <p>The CloudSystem uses the default Defender for Endpoint configuration for automated investigations, namely Full automation. Therefore, Agency cyber security personnel will not be prompted to approve remediation activities that are recommended as part of Defender for Endpoint automated investigations. The automation level can be adjusted if required based on the specific requirements of the Agency\u2019s cyber security personnel.</p> <p>Note, prior to early 2021, the default configuration was Semi (any folder).</p>"},{"location":"security/incident-response-plan/#automated-remediation-notification","title":"Automated remediation notification","text":"<p>Depending on the nature of the initial alert, if Microsoft Defender for Endpoint detects a threat and it is resolved automatically it will notify administrators by sending a follow up email. An example of an alert resolution email is shown below in Figure 6.</p> <p></p> <p> Figure 6 Alert Resolution Email </p> <p>Agency cyber security personnel should be aware of these notifications but should not rely on them as a trigger to cease investigation and/or recovery activities. </p>"},{"location":"security/incident-response-plan/#recommendation_3","title":"Recommendation","text":"<p>It is recommended that Agency cyber security personnel verify that an incident resulting from alert is actually resolved before moving to the post-incident phase.</p>"},{"location":"security/incident-response-plan/#post-incident-activity","title":"Post-incident activity","text":"<p>In accordance with the Agency\u2019s overarching IRP recommendation, \u2018lessons learnt\u2019 meetings should be held after all major incidents. However, for incidents it is recommended that one of these meetings is held after every incident. This provides an opportunity to assess the current controls in place and evaluate if additional controls can be applied to prevent or minimise the effect of a similar incident occurring again.</p> <p>Due to the regular update cadence for Azure and Office 365, new features are made available monthly. This often includes Preview features in Azure that provide enhanced capabilities but are still under development by Microsoft. One of the goals of the post-incident meetings should be to assess newly released and preview features for their potential to reduce the risk of the incident re-occurring. This may require specialist resources to attend to present newly available features and discuss how implementing them may reduce the risk to the system. </p> <p>Note, new capabilities and services \u2013 including all Preview features \u2013 should be assessed by Agency cyber security personnel before being enabled.</p> <p>Figure 7 illustrates how a preview feature is presented in the Azure portal using the \u201c\u2026 (Preview)\u201d suffix to the feature/service name.</p> <p></p> <p> Figure 7 Azure AD Preview Feature </p> <p>Note, as of the time of writing the Azure AD Identity Secure Score feature is no longer in preview and is generally available for all tenants.</p> <p>The outcomes of all post-incident meetings should be recorded in the report prepared for each incident. This ensures there is a document chain of events for the incident including tasks that will now be undertaken due to the analysis of the incident, but potentially not directly related (for example applying an additional control to prevent a future incident). This report may be the subject of an internal or external audit in accordance with the Agencies reporting requirements and therefore should be treated as a formally controlled document and stored in accordance with existing policies. Additionally, any information collected as part of the incident response should be either be directly included in the report, or its storage location referenced, as applicable.</p> <p>All other aspects of the \u2018lessons learnt\u2019 meetings and reporting requirements should be undertaken in accordance with the recommendations provided in the Agency\u2019s overarching IRP.</p>"},{"location":"security/incident-response-plan/#coordination-with-external-resources","title":"Coordination with external resources","text":"<p>In some cases, Agency cyber security personnel may require the assistance of additional external resources to aid in one or more phases of the Incident Response Life Cycle. When this is required, Agency cyber security personnel should follow existing Agency policies and procedures to appropriately engage and communicate with external resources to assist with incident management and response.</p>"},{"location":"security/incident-response-plan/#microsoft-support-requests","title":"Microsoft support requests","text":"<p>With the introduction of Azure AD an additional external resource becomes available to assist Agency cyber security personnel manage and respond to security incidents. Microsoft Support Requests can be made from within the Azure Portal to report issues and access assistance with all Azure hosted services, including Azure AD, Azure MFA, and Conditional Access. Support Requests are associated with Azure Subscriptions, and a user must have \u2018write permissions\u2019 for the subscription to raise a support request.</p> <p>The New support request wizard provides a three-step process to detail and submit new support requests via the Azure Portal. The three steps are:</p> <ul> <li>Basics \u2013 which includes the issue type (most likely to be technical if raised in relation to a security incident), the subscription affected and the specific service. This is illustrated below in Figure 8.</li> <li>Problem \u2013 which includes a technical description of the issue/incident including severity, problem type, category, title, and details. It also provides fields to identify when the problem started and provide the option for the user to upload a file.</li> <li>Contact information \u2013 which includes contact details for a Microsoft engineer to use to assist with the support request. Depending on the reported severity of the issue the Preferred contact method and Response may be auto-filled (for example, high severity requests default to phone and 24x7 respectively).</li> </ul> <p></p> <p> Figure 8 New Support Request </p> <p>The progress of support requests can also be tracked from within the Azure Portal under the Help + support page. This is illustrated below in Figure 9.</p> <p></p> <p> Figure 9 All Support Requests </p> <p>For more information on creating Azure support requests, including any updates to the process, refer to Create an Azure support request.</p>"},{"location":"security/incident-response-plan/#australian-cyber-security-centre","title":"Australian Cyber Security Centre","text":"<p>In the case where an incident has not been able to be resolved using the steps defined previously, the ACSC may be engaged by agency approved staff as per the Agency\u2019s overarching IRP.</p> <p>An incident can be reported to the ACSC via the following methods:</p> <ul> <li>Website - https://www.cyber.gov.au</li> <li>Phone number \u2013 1300 CYBER1 (1300 292 371)</li> <li>Email \u2013 asd.assist@defence.gov.au</li> </ul> <p>Note, reporting an incident via the phone is preferred when the incident is considered urgent by the Agency.</p>"},{"location":"security/security-risk-management-plan/","title":"Security risk management plan","text":""},{"location":"security/security-risk-management-plan/#security-risk-management-plan","title":"Security risk management plan","text":"<p>31 minutes to read - 30 March 2023</p> <p>This Security Risk Management Plan (SRMP) has been developed to demonstrate the reduction in risk that can be achieved by implementing the CloudSystem to secure access to Microsoft Office 365 services from Windows 10 endpoints and iOS mobile devices.</p> <p>Each risk has been assessed in the context of the controls implemented by the CloudSystem directly, those implemented by Microsoft as part of the Office 365 service, as well as those that are expected to be implemented by organisations that will leverage the CloudSystem. The risk matrix, including definitions of likelihood and consequence, is provided at Risk Matrix. Organisations leveraging the CloudSystem should review the risk ratings and align them to their internal risk management framework as applicable.</p> <p>The residual risk to the organisation has been assessed as Medium. This can be further reduced to Medium-Low by implementing the additional treatments detailed in this document. It is an orrganisation\u2019s responsibility to accept the risks and associated residual risk rating as described within this document.</p> <p>A summary of the identified risks and the assessed risk ratings are listed in Table 1.</p> <p> Table 1 Summary of Risk Events and Risk Ratings </p> Risk Event ID Risk Event Description Inherent Risk Rating Residual Risk Rating Target Risk Rating R01 Inadequate privileged account management High Medium Low R02 Sensitive/classified email sent to unauthorised recipients High Medium Medium R03 Unauthorised access to data hosted within Office 365 High Medium Medium R04 Malicious insider disables security capabilities Medium Medium Medium R05 Unskilled administrator misconfigures services Medium Medium Low R06 Components infected by malicious code High Medium Low R07 Unauthorised access to email on Exchange Online High Medium Medium R08 Denial of service attacks High Medium Low R09 Cyber security incident not detected High Medium Medium R10 Inability to recover from a data loss event Medium Low Low R11 Operating System vulnerability allows exploitation High Medium Medium R12 Application vulnerability allows exploitation High Medium Medium R13 Attacker bypasses application control capability High Low Low R14 Password spray attack directed at Azure AD High Medium Medium R15 Lack of availability due to cloud service provider outage Medium Low Low R16 Privileged Access Workstations not implemented for administration High Medium Medium R17 Mobile device compromised High High High R18 Use of un-assessed cloud services creates exposures High Medium Medium R19 Users declassifying emails without the owner\u2019s permission High Medium Medium"},{"location":"security/security-risk-management-plan/#introduction","title":"Introduction","text":"<p>This Security Risk Management Plan (SRMP) has been prepared to support organisations planning to leverage the CloudSystem. The document demonstrates the controls implemented by the CloudSystem that reduce the risk of leveraging Office 365 for environments that have been accredited to hold up to and including PROTECTED security classified information.</p> <p>PROTECTED is used throughout the document to describe the maximum security classification of information able to be managed by the system. Where PROTECTED is used, the security markings described by the Protective Security Policy Framework (PSPF) such as OFFICIAL and OFFICIAL: Sensitive are inferred.</p>"},{"location":"security/security-risk-management-plan/#purpose","title":"Purpose","text":"<p>The purpose of this SRMP is to identify the risks and the residual risk to an organisation implementing the CloudSystem Office 365 PROTECTED system.</p>"},{"location":"security/security-risk-management-plan/#scope","title":"Scope","text":"<p>The scope of this SRMP is limited to those threats and risks specific to the use of Office 365 as part of the CloudSystem. </p> <p>The Microsoft Office 365 service is addressed in the Information Security Registered Assessors Program (IRAP) report (available in the Service Trust Portal), therefore, risks specific to the underlying Office 365 service are not reassessed by this SRMP.</p> <p>Organisations should make themselves aware of any risks identified in the IRAP assessment that have been inherited by the CloudSystem.</p>"},{"location":"security/security-risk-management-plan/#methodology","title":"Methodology","text":"<p>The assessment of the threats and risks presented in this SRMP has been performed in accordance with industry best practice in line with AS/NZS ISO 31000:2009. The risk matrix that was used in the assessment of risk ratings is included in Risk Matrix.</p>"},{"location":"security/security-risk-management-plan/#risk-assessment","title":"Risk assessment","text":"<p>Detailed assessment of the risks to the operation of the system are outlined in the following sections which demonstrate the controls required to manage risks within the solution. All risk ratings have been updated to align with the risk matrix identified in Risk Matrix.</p>"},{"location":"security/security-risk-management-plan/#r01-inadequate-privileged-account-management","title":"R01 Inadequate privileged account management","text":""},{"location":"security/security-risk-management-plan/#risk-overview","title":"Risk overview","text":"<p>If a privileged account were to be compromised or system privileges were incorrectly assigned, the environment could be accessed by staff without a legitimate need to know. Once inside, the unauthorised user could use the account to make malicious changes, such as the addition, alteration or deletion of data. Depending on the nature of the account used, the unauthorised user could bring down the environment.</p>"},{"location":"security/security-risk-management-plan/#assets-affected","title":"Assets affected","text":"<ul> <li>All Microsoft 365 components (including Azure AD tenant)</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Trusted Insider, Insider, Outsider</li> <li>Unintentional \u2013 Organisation system administrator</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events","title":"Threat events","text":"<ul> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> <li>Obfuscate adversary actions</li> <li>Obtain information by opportunistically stealing or scavenging information systems/components</li> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive and or classified information via exfiltration</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Organisation IT Security Policy for authorised staff to not provide privileged access to unauthorised staff and not allow logging in using service accounts</li> <li>Administrative break glass accounts will only be utilised when no other privileged account can be utilised</li> <li>Approval process to obtain a privileged user account</li> <li>Training to Organisation nominated system administrators</li> <li>CloudSystem treatments</li> <li>Conditional Access enforces Multi-Factor Authentication (MFA) for all privileged users</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Azure AD Privileged Identity Management (PIM) provides Just-In-Time (JIT) privileged access</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust Role-Based Access Control (RBAC) model</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Emergency access accounts are configured in accordance with Microsoft best practice to prevent administrators from being locked-out of Azure services</li> <li>Azure Automation script provided to automatically disable inactive Azure AD accounts</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments","title":"Proposed treatments","text":"<ul> <li>An annual audit of privileged accounts is performed by the Organisation leveraging Azure AD access reviews</li> <li>Forward logs to a Security Information and Event Management (SIEM) solution</li> <li>Administrator training provided for specific technologies utilised within the CloudSystem</li> <li>Organisation training for security and system administrators for the use of Security Centre / Sentinel</li> <li>Monitoring of events within Security Centre / Sentinel</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#r02-sensitiveclassified-email-sent-to-unauthorised-recipients","title":"R02 Sensitive/classified email sent to unauthorised recipients","text":""},{"location":"security/security-risk-management-plan/#risk-overview_1","title":"Risk overview","text":"<p>A user sends an OFFICIAL: Sensitive or PROTECTED classified mail/attachment, or personal information (as defined by the Privacy Act 1988) to an unauthorised recipient resulting in a data spill.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_1","title":"Assets affected","text":"<ul> <li>OFFICIAL: Sensitive and PROTECTED data</li> <li>Personal information</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_1","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Unintentional \u2013 General user</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_1","title":"Threat events","text":"<ul> <li>Cause disclosure by spilling sensitive and or classified information to a system and or person not authorised to view or handle the information</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_1","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_1","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_1","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_1","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>All email transits via a gateway mail server which enforces email security classification label checking</li> <li>User awareness training to staff</li> <li>CloudSystem treatments</li> <li>Microsoft Information Protection (MIP) requires users to apply a classification marking to all emails and documents</li> <li>The sensitivity and classification markings from the PSPF for up-to PROTECTED are configured as MIP sensitivity labels </li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_1","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_1","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_1","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_1","title":"Proposed treatments","text":"<ul> <li>Implement an automated security classification labelling solution for emails based on the classification of attachments</li> <li>Data spill processes and procedures are developed and regularly tested</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_1","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_1","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_1","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r03-unauthorised-access-to-data-hosted-within-office-365","title":"R03 Unauthorised access to data hosted within Office 365","text":""},{"location":"security/security-risk-management-plan/#risk-overview_2","title":"Risk overview","text":"<p>An unauthorised user attempts to access data hosted within Microsoft\u2019s Office 365 cloud services, including Exchange Online, OneDrive for Business, SharePoint Online, and Teams to gain access to PROTECTED data. The attacker may attempt to use either stolen or guessed credentials or attempt to introduce malicious code into one or more Office 365 services.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_2","title":"Assets affected","text":"<ul> <li>PROTECTED data within the tenant</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_2","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider (including Microsoft support staff)</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_2","title":"Threat events","text":"<ul> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive and or classified information via exfiltration</li> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_2","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_2","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_2","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_2","title":"Ongoing and completed treatments","text":"<ul> <li>Native Office 365 treatments</li> <li>Office 365 services IRAP assessed up to a PROTECTED level</li> <li>All Office 365 traffic is protected using Transport Layer Security (TLS)</li> <li>Exchange Online Protection (EOP) provides built in protection for Exchange Online mailboxes</li> <li>Microsoft\u2019s Cyber Defence Operations Centre helps protect, detect, and respond to Office 365 cloud service threats in real time</li> <li>CloudSystem treatments</li> <li>Password complexity is enforced in line with Information Security Manual (ISM) standards, and users are required to change passwords on first use</li> <li>Conditional Access enforces MFA for all users and administrators</li> <li>Office 365 audit logging enabled to provide the ability to audit actions undertaken within the Office 365 services</li> <li>Microsoft Defender for Office 365 Safe Links, Safe Attachments, Safe Documents, and Anti-Phishing capabilities enabled to reduce the likelihood of malicious code infiltrating the environment</li> <li>Microsoft Defender for Cloud Apps enabled and app connectors and policies configured to detect risky behaviours, violations, or suspicious data points and activities within Office 365</li> <li>Sender Policy Framework (SPF), Domain based Message Authentication, Reporting and Conformance (DMARC), and DomainKeys Identified Mail (DKIM) records are configured to mitigate spoofing of emails being sent into the organisation</li> <li>Office 365 services are only utilised within Australian regions</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_2","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_2","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_2","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_2","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/security-risk-management-plan/#target-likelihood_2","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#target-consequence_2","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_2","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r04-malicious-insider-disables-security-capabilities","title":"R04 Malicious insider disables security capabilities","text":""},{"location":"security/security-risk-management-plan/#risk-overview_3","title":"Risk overview","text":"<p>An authorised or unauthorised user (malicious insider) attempts to disable cloud-based security capabilities (e.g., Azure MFA) increasing the risk of further exploitation.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_3","title":"Assets affected","text":"<ul> <li>All cloud-based infrastructure</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_3","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Trusted Insider, Insider, or Privileged Insider</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_3","title":"Threat events","text":"<ul> <li>Functionality of security features are reduced or disabled</li> <li>Level of security monitoring is limited or disabled</li> <li>Allow malicious activity to be undetected</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_3","title":"Inherent likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_3","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_3","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_3","title":"Ongoing and completed treatments","text":"<ul> <li>CloudSystem treatments</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Azure AD PIM provides JIT privileged access</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust RBAC model</li> <li>Microsoft 365 audit logging is enabled</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_3","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_3","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_3","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_3","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_3","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_3","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_3","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r05-unskilled-administrator-misconfigures-services","title":"R05 Unskilled administrator misconfigures services","text":""},{"location":"security/security-risk-management-plan/#risk-overview_4","title":"Risk overview","text":"<p>An authorised administrator misconfigures services increasing the risk of further exploitation. This may be due to a misunderstanding of the functionality of specific Azure or Office 365 service due to a lack of training or insufficient procedural documentation.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_4","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_4","title":"Threat sources","text":"<ul> <li>Accidental \u2013 Privileged User/Administrator</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_4","title":"Threat events","text":"<ul> <li>Functionality of security features are reduced</li> <li>Level of security monitoring is limited</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_4","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_4","title":"Inherent consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_4","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_4","title":"Ongoing and completed treatments","text":"<ul> <li>CloudSystem treatments</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Azure AD PIM provides JIT privileged access</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust RBAC model</li> <li>Microsoft 365 audit logging is enabled</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Standard Operating Procedures (SOPs) are provided for administrators</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_4","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_4","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_4","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_4","title":"Proposed treatments","text":"<ul> <li>Administrator training provided for specific technologies utilised within the CloudSystem</li> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_4","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_4","title":"Target consequence","text":"<p>1 \u2013 Minimal</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_4","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#r06-components-infected-by-malicious-code","title":"R06 Components infected by malicious code","text":""},{"location":"security/security-risk-management-plan/#risk-overview_5","title":"Risk overview","text":"<p>Malicious code introduced to the environment by one or more vectors leading to the loss of availability or integrity of the solution.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_5","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_5","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_5","title":"Threat events","text":"<ul> <li>Deliver known malicious to internal organisational information systems (e.g. virus via email including spam, whaling, spear phishing etc.)</li> <li>Deliver modified malicious code to internal organisational information systems</li> <li>Deliver targeted malicious for control of internal systems and exfiltration of data</li> <li>Insert untargeted malicious into downloadable software and/or into commercial information technology products</li> <li>Email contains unknown (zero day) exploit which is undetected by Microsoft security systems and delivered to the user.</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_5","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_5","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_5","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_5","title":"Ongoing and completed treatments","text":"<ul> <li>Native Office 365 treatments</li> <li>EOP provides built-in protection for Exchange Online mailboxes</li> <li>Microsoft\u2019s Cyber Defence Operations Centre helps protect, detect, and respond to Office 365 cloud service threats in real time</li> <li>CloudSystem treatments</li> <li>Microsoft Defender Antivirus provides signature and heuristic-based detection</li> <li>Controlled folder access configured to prevent unauthorised applications to writing to specified directories</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>Microsoft Defender for Office 365 Safe Links, Safe Attachments, Safe Documents, and Anti-Phishing capabilities enabled to reduce the likelihood of malicious code infiltrating the environment</li> <li>Windows Defender Application Control (WDAC) provides application control functionality to block unauthorised executables from running</li> <li>Windows Defender Exploit Guard (WDEG) \u2018exploit protection\u2019 feature is enabled</li> <li>Hardening of Windows 10 endpoints including application control in accordance with ACSC guidance</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Early Launch Antimalware (ELAM), Secure Boot and Trusted Boot are enabled as part of the Windows 10 SOE</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_5","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_5","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_5","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_5","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_5","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_5","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_5","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#r07-unauthorised-access-to-email-on-exchange-online","title":"R07 Unauthorised access to email on Exchange Online","text":""},{"location":"security/security-risk-management-plan/#risk-overview_6","title":"Risk overview","text":"<p>An unauthorised user attempts to access email within mailboxes hosted in Exchange Online which may expose sensitive and or security classified data. This may be attempted using leaked or guessed credentials, or by attempting to intercept legitimate authentication traffic in transit.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_6","title":"Assets affected","text":"<ul> <li>Sensitive and or security classified data </li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_6","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_6","title":"Threat events","text":"<ul> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain security classified and or sensitive information via exfiltration</li> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> <li>Commit CEO fraud and or Business Email Compromise (BEC)</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_6","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_6","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_6","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_6","title":"Ongoing and completed treatments","text":"<ul> <li>CloudSystem treatments</li> <li>Password complexity is enforced in line with ISM standards, and users are required to change passwords on first use</li> <li>Conditional Access enforces MFA for all users and administrators</li> <li>Conditional Access blocks access to Office 365 from external networks</li> <li>Service provider networks are segregated from Organisation networks through the use of a Secure Internet Gateway (SIG)</li> <li>Legacy authentication blocked via Conditional Access policies</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_6","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_6","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_6","title":"Residual risk rating","text":"<p>2 - Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_6","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_6","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_6","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_6","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r08-denial-of-service-attacks","title":"R08 Denial of service attacks","text":""},{"location":"security/security-risk-management-plan/#risk-overview_7","title":"Risk overview","text":"<p>An external attacker attempts to disrupt availability by launching a Denial of Service (DoS) attack targeting one or more public facing IP addresses (including Microsoft services).</p>"},{"location":"security/security-risk-management-plan/#assets-affected_7","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> <li>Organisation gateway</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_7","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_7","title":"Threat events","text":"<ul> <li>Conduct simple DoS attacks</li> <li>Conduct Distributed Denial of Service (DDoS) attacks</li> <li>Conduct targeted DoS attacks</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_7","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_7","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_7","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_7","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Basic DoS protection is available within the Organisation gateway</li> <li>Native Microsoft treatments</li> <li>Microsoft provide an underlying denial-of-service defense strategy for Microsoft 365</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_7","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_7","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_7","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_7","title":"Proposed treatments","text":"<ul> <li>Enhance DoS/DDoS protection within the Organisation\u2019s gateway</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_7","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_7","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_7","title":"Target risk rating","text":"<p>1 - Low</p>"},{"location":"security/security-risk-management-plan/#r09-cyber-security-incident-not-detected","title":"R09 Cyber security incident not detected","text":""},{"location":"security/security-risk-management-plan/#risk-overview_8","title":"Risk overview","text":"<p>An intrusion is not detected leading to a threat of malicious activity and possible compromise of sensitive and or security classified data and services.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_8","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_8","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_8","title":"Threat events","text":"<ul> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive information via exfiltration</li> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy</li> <li>Coordinate a campaign that spreads attacks across organisational systems from existing presence</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_8","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_8","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_8","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_8","title":"Ongoing and completed treatments","text":"<ul> <li>Native Office 365 treatments</li> <li>Microsoft\u2019s Cyber Defence Operations Centre helps protect, detect, and respond to Office 365 cloud service threats in real time</li> <li>CloudSystem treatments</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>Defender for Cloud Apps enabled and app connectors and policies configured to detect risky behaviours, violations, or suspicious data points and activities within Office 365</li> <li>Microsoft 365 audit logging is enabled</li> <li>All Azure AD and Office 365 logs are centralised into a single Log Analytics workspace</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_8","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_8","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_8","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_8","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_8","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_8","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_8","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r10-inability-to-recover-from-a-data-loss-event","title":"R10 Inability to recover from a data loss event","text":""},{"location":"security/security-risk-management-plan/#risk-overview_9","title":"Risk overview","text":"<p>The failure of backup procedures leading to the inability to restore critical system components and information when data loss occurs. This risk takes into account the ISM controls relating to \u2018Data backups\u2019 that are not implemented as part of the solution.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_9","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_9","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_9","title":"Threat events","text":"<ul> <li>Availability of Organisation information and systems</li> <li>Cause integrity loss by polluting or corrupting critical data</li> <li>Cause integrity loss by injecting false but believable data into organisational information systems</li> <li>Data corruption or accidental deletion</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_9","title":"Inherent likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_9","title":"Inherent consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_9","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_9","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Ongoing operational procedures to monitor backups</li> <li>CloudSystem treatments</li> <li>Configuration settings of Office 365 are backed up through the As-Built As-Configured (ABAC) documentation</li> <li>Documents, Desktops, Pictures on endpoints are redirected to OneDrive using Windows Known Folders providing a backup of data to the cloud</li> <li>Cloud-based files have Recycle bin and Restore options</li> <li>Exchange Online has a recover deleted items from server option</li> <li>Retention policies will be created that ensure that 3 months of data is retained for Office 365 services</li> <li>Workstation configuration is stored in Intune, and Standard Operating Environments (SOEs) are to be used</li> <li>SOPs provided for administrators</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_9","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_9","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_9","title":"Residual risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_9","title":"Proposed treatments","text":"<ul> <li>Implement an offline backup solution in the event Office 365 services are unavailable</li> <li>Data backup and recovery processes and procedures are developed and regularly tested</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_9","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_9","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_9","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#r11-operating-system-vulnerability-allows-exploitation","title":"R11 Operating system vulnerability allows exploitation","text":""},{"location":"security/security-risk-management-plan/#risk-overview_10","title":"Risk overview","text":"<p>Security vulnerabilities are discovered within the operating system versions utilised by the solution allowing exploitation.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_10","title":"Assets affected","text":"<ul> <li>Endpoints</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_10","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_10","title":"Threat events","text":"<ul> <li>Exploit recently discovered vulnerabilities</li> <li>Exploit vulnerabilities on internal organisational information systems</li> <li>Exploit vulnerabilities using zero-day attacks</li> <li>Craft attacks specifically based on deployed information technology environment</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_10","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_10","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_10","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_10","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatment</li> <li>The Organisation\u2019s support team will monitor patching and perform manual remediation as required</li> <li>CloudSystem treatments</li> <li>Windows Update for Business and Microsoft Intune are enabled and configured to automatically update Windows 10 on endpoints</li> <li>Multiple software update rings provide staged approach to updates</li> <li>Intune can deploy firmware patches as executable files as required</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Microsoft Defender for Endpoint provides vulnerability management capabilities to detect missing patches</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_10","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_10","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_10","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_10","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_10","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#target-consequence_10","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_10","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r12-application-vulnerability-allows-exploitation","title":"R12 Application vulnerability allows exploitation","text":""},{"location":"security/security-risk-management-plan/#risk-overview_11","title":"Risk overview","text":"<p>Security vulnerabilities are discovered within applications utilised by the solution allowing exploitation.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_11","title":"Assets affected","text":"<ul> <li>Applications</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_11","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_11","title":"Threat events","text":"<ul> <li>Exploit recently discovered vulnerabilities</li> <li>Exploit vulnerabilities on internal organisational information systems</li> <li>Exploit vulnerabilities using zero-day attacks</li> <li>Craft attacks specifically based on deployed information technology environments</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_11","title":"Inherent likelihood","text":"<p>4 \u2013 Likely</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_11","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_11","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_11","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatment</li> <li>The Organisation\u2019s support team will monitor patching and perform manual remediation as required</li> <li>CloudSystem treatments</li> <li>Intune used to patch applications on a regular basis </li> <li>Windows Defender Firewall enabled for inbound connections</li> <li>User Account Control (UAC) enabled to enforce the elevation of privileges to help prevent vulnerability exploitation</li> <li>WDEG \u2018exploit protection\u2019 feature is enabled</li> <li>Local administrator account renamed and disabled via Intune policy</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> <li>Microsoft Defender for Endpoint provides vulnerability management capabilities to detect missing patches</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_11","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_11","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_11","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_11","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_11","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#target-consequence_11","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_11","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r13-attacker-bypasses-application-control-capability","title":"R13 Attacker bypasses application control capability","text":""},{"location":"security/security-risk-management-plan/#risk-overview_12","title":"Risk overview","text":"<p>An attacker attempts to bypass the application control restrictions enforced on endpoints.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_12","title":"Assets affected","text":"<ul> <li>Endpoints</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_12","title":"Threat sources","text":"<ul> <li>Accidental \u2013 Privileged User/Administrator</li> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_12","title":"Threat events","text":"<ul> <li>Compromise software of organisational critical information systems</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_12","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_12","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_12","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_12","title":"Ongoing and completed treatments","text":"<ul> <li>CloudSystem treatments</li> <li>WDAC provides application control functionality to block unauthorised executables from running</li> <li>Microsoft recommended block rules and Microsoft recommended driver block rules implemented to prevent known WDAC bypasses</li> <li>WDAC policies configured centrally from Intune</li> <li>WDEG \u2018exploit protection\u2019 feature is enabled</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>Attack Surface Reduction rules are enabled for Windows 10 and Office 365 in accordance with ACSC guidance</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_12","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_12","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_12","title":"Residual risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_12","title":"Proposed treatments","text":"<ul> <li>Forward logs to a SIEM solution</li> <li>Organisation training for security and system administrators for the use of Security Centre</li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_12","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_12","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_12","title":"Target risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#r14-password-spray-attack-directed-at-azure-ad","title":"R14 Password spray attack directed at Azure AD","text":""},{"location":"security/security-risk-management-plan/#risk-overview_13","title":"Risk overview","text":"<p>An attacker attempts to gain access by attempting to logon using a number of different passwords against a crafted list of Azure AD accounts over a period of time.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_13","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_13","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_13","title":"Threat events","text":"<ul> <li>Conduct login attempts/password guessing attacks</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_13","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_13","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_13","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_13","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Mandatory security awareness training by the Organisation to educate users on the importance of using strong passwords or passphrases</li> <li>CloudSystem treatments</li> <li>Conditional Access enforces MFA for all users and administrators</li> <li>Password complexity is enforced in line with ISM standards, and users are required to change passwords on first use</li> <li>Azure AD Smart Lockout configured to lock out accounts for a period of time after a number of invalid attempts</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_13","title":"Residual likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_13","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_13","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_13","title":"Proposed treatments","text":"<ul> <li>Organisation training for security and system administrators for the use of Security Centre </li> <li>Monitoring of events within Security Centre</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_13","title":"Target likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#target-consequence_13","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_13","title":"Target risk rating","text":"<p>2 - Medium</p>"},{"location":"security/security-risk-management-plan/#r15-lack-of-availability-due-to-cloud-service-provider-outage","title":"R15 Lack of availability due to cloud service provider outage","text":""},{"location":"security/security-risk-management-plan/#risk-overview_14","title":"Risk overview","text":"<p>A major outage occurs to the cloud services causing the inability to provide services to the Organisation.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_14","title":"Assets affected","text":"<ul> <li>Microsoft Azure, and Microsoft Office 365.</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_14","title":"Threat sources","text":"<ul> <li>Environmental \u2013 Infrastructure Failure/Outage</li> <li>Environmental \u2013 Natural or man-made disaster</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_14","title":"Threat events","text":"<ul> <li>Network communications outage or contention</li> <li>Interruption to cloud services</li> <li>Earthquake, fire, flood, hurricane, or tornado</li> <li>Force majeure</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_14","title":"Inherent likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_14","title":"Inherent consequence","text":"<p>4 \u2013 Major</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_14","title":"Inherent risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_14","title":"Ongoing and completed treatments","text":"<ul> <li>Native Microsoft Cloud treatments</li> <li>Azure cloud services are available within multiple regions in Australia classified up to PROTECTED</li> <li>Office 365 services are available within multiple regions in Australia classified up to PROTECTED. Failover of the Office 365 services will be dependent on Microsoft\u2019s Service Level Agreement (SLA) for Office 365</li> <li>CloudSystem treatments</li> <li>The services utilised are available within multiple Azure regions (except any third-party solutions utilised, e.g. Organisation gateway and GovLink)</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_14","title":"Residual likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_14","title":"Residual consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_14","title":"Residual risk rating","text":"<p>1 \u2013 Low</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_14","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/security-risk-management-plan/#target-likelihood_14","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_14","title":"Target consequence","text":"<p>2 \u2013 Minor</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_14","title":"Target risk rating","text":"<p>1 - Low</p>"},{"location":"security/security-risk-management-plan/#r16-privileged-access-workstations-not-implemented-for-administration","title":"R16 Privileged Access Workstations not implemented for administration","text":""},{"location":"security/security-risk-management-plan/#risk-overview_15","title":"Risk overview","text":"<p>An adversary compromises privileged access mechanisms due to the lack of implementation of Privileged Access Workstations (PAWs) within the design. </p> <p>Administration of the system is undertaken by authorised privileged users by connecting from a PROTECTED level endpoint to PROTECTED level services and systems.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_15","title":"Assets affected","text":"<ul> <li>All infrastructure (Azure AD, Office 365 and endpoints)</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_15","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Trusted Insider, Insider or Privileged Insider</li> <li>Accidental \u2013 Privileged User/Administrator</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_15","title":"Threat events","text":"<ul> <li>Obtain unauthorised access</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_15","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_15","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_15","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_15","title":"Ongoing and completed treatments","text":"<ul> <li>CloudSystem treatments</li> <li>Conditional Access only allows access to administrative portals from compliant Windows 10 endpoints</li> <li>Hardening of Windows 10 endpoints including application control in accordance with ACSC guidance</li> <li>Microsoft Defender for Endpoint is enabled to provide reporting, pre-breach protection, post-breach detection, automation, and response on Windows 10 endpoints</li> <li>WDAC provides application control functionality to block unauthorised executables from running</li> <li>WDEG \u2018exploit protection\u2019 feature is enabled</li> <li>Conditional Access enforces MFA for all privileged users</li> <li>Azure AD Identity Protection enabled to alert on detected User and Sign-in risks</li> <li>Credential Guard is enabled and credential theft is blocked through Microsoft Defender Exploit Guard</li> <li>Only one previous logon is cached for the Windows 10 SOE</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_15","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_15","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_15","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_15","title":"Proposed treatments","text":"<ul> <li>Organisation system administrators to have separate administration account from their normal user account for the management of O365 and Azure.</li> </ul>"},{"location":"security/security-risk-management-plan/#target-likelihood_15","title":"Target likelihood","text":"<p>1 \u2013 Rare</p>"},{"location":"security/security-risk-management-plan/#target-consequence_15","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_15","title":"Target risk rating","text":"<p>2 - Medium</p>"},{"location":"security/security-risk-management-plan/#r17-mobile-device-compromised","title":"R17 Mobile device compromised","text":""},{"location":"security/security-risk-management-plan/#risk-overview_16","title":"Risk overview","text":"<p>An Apple iOS device used to access Sensitive and or security classified data is compromised. This maybe as a result of the ACSC's Security Configuration Guide \u2013 Apple iOS 14 Devices (October 2021) guidance not being fully implemented due to the usability impacts, or due to the use traditional threat events as described below.</p> <p>Note, the CloudSystem does not include the use of personal iOS devices or devices using the Android operating system.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_16","title":"Assets affected","text":"<ul> <li>iOS devices</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_16","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider</li> <li>Adversarial \u2013 Individual \u2013 Outsider</li> <li>Adversarial \u2013 Group \u2013 Established</li> <li>Adversarial \u2013 Nation State</li> <li>Unintentional \u2013 General user</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_16","title":"Threat events","text":"<ul> <li>Obtain unauthorised access</li> <li>Exploit recently discovered vulnerabilities, including local and Over The Air (OTA) attacks</li> <li>Theft or loss of device</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_16","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_16","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_16","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_16","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Policy governing the use and management of mobile devices used to access classified information</li> <li>Awareness training for users with mobile devices</li> <li>CloudSystem treatments</li> <li>Implementation of the ACSC\u2019s Security Configuration Guide for iOS 14 devices via Intune Mobile Device Management (MDM), including:<ol> <li>Supervised mode</li> <li>Long and complex alphanumeric device passcode</li> <li>Biometric device unlock disabled</li> <li>Management of built-in apps (e.g., iOS Camera and Books)</li> <li>Implementation of Intune App Protection policies</li> <li>Application control via Apple Business Manager Enrollment and the use of Volume Purchasing Program (VPP) tokens</li> </ol> </li> <li>Conditional Access policies require iOS devices to be compliant, using applications with modern authentication and MFA</li> <li>Conditional Access policies only allow access from specified countries</li> <li>Conditional Access policies block sign-ins that are determined to be high risk</li> <li>Intune enforces configuration policies for iOS devices including requirement for unlock code, device encryption (native iOS AES-256 encryption), minimum software version and jailbreak detection</li> <li>All information transmitted to and from mobile devices and Office 365 is encrypted</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_16","title":"Residual likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_16","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_16","title":"Residual risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_16","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/security-risk-management-plan/#target-likelihood_16","title":"Target likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#target-consequence_16","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_16","title":"Target risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#r18-use-of-un-assessed-cloud-services-creates-exposures","title":"R18 Use of un-assessed cloud services creates exposures","text":""},{"location":"security/security-risk-management-plan/#risk-overview_17","title":"Risk overview","text":"<p>An administrator enables a cloud service - or new feature within an existing cloud service - for use with the CloudSystem that is not currently part of the assessed CloudSystem.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_17","title":"Assets affected","text":"<ul> <li>All cloud-based infrastructure</li> <li>Sensitive and or security classified data</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_17","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider </li> <li>Accidental \u2013 Privileged User/Administrator</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_17","title":"Threat events","text":"<ul> <li>Obtain unauthorised access to:</li> <li>Deny access to Organisation information to authorised users</li> <li>Modify Organisation information and making the integrity of the information unviable or no longer trustworthy Obfuscate adversary actions</li> <li>Obtain information by opportunistically stealing or scavenging information systems/components</li> <li>Compromise organisational information systems to facilitate exfiltration of data/information</li> <li>Obtain sensitive and or classified information via exfiltration</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_17","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_17","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_17","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_17","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Organisation IT Security Policy for authorised staff to not enable new cloud services or features</li> <li>Approval process to obtain a privileged user account</li> <li>Training to Organisation nominated system administrators</li> <li>As new services become available the Organisation will undertake a risk assessment of the service and establish if the risk is within the Organisation\u2019s tolerance before engaging the new service offering</li> <li>CloudSystem treatments</li> <li>Leverages built-in Azure AD / Office 365 Role Groups to implement a robust RBAC model minimising the number of users that can onboard a new service or enable additional features</li> <li>Defender for Cloud Apps is configured to log activity by all users including Global Admins providing an audit trail for new services</li> <li>Azure AD PIM is enabled and requires Global Admins to provide a reason when requesting elevated privileges </li> <li>Azure AD PIM logs the start time and end time of elevated privileges</li> <li>Data transfer logs are retained</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_17","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_17","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_17","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_17","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/security-risk-management-plan/#target-likelihood_17","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#target-consequence_17","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_17","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#r19-users-declassifying-emails-without-the-owners-permission","title":"R19 Users declassifying emails without the owner\u2019s permission","text":""},{"location":"security/security-risk-management-plan/#risk-overview_18","title":"Risk overview","text":"<p>Sensitivity labels allow users to apply protective markings to emails to ensure appropriate security controls are applied to information. A user has the ability to change the protective marking without the originators permission but are required to provide a text-based justification.</p>"},{"location":"security/security-risk-management-plan/#assets-affected_18","title":"Assets affected","text":"<ul> <li>PROTECTED data within emails (including attachments)</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-sources_18","title":"Threat sources","text":"<ul> <li>Adversarial \u2013 Individual \u2013 Insider, Trusted Insider, Privileged Insider </li> <li>Accidental \u2013 User/Administrator</li> </ul>"},{"location":"security/security-risk-management-plan/#threat-events_18","title":"Threat events","text":"<ul> <li>Sensitive and or classified information being:</li> <li>stored on the incorrect system</li> <li>viewed by personnel not cleared for that security level</li> <li>leaked to the general public</li> <li>Obtain sensitive and or classified information via exfiltration</li> <li>Invalidate the integrity and confidentiality of information</li> </ul>"},{"location":"security/security-risk-management-plan/#inherent-likelihood_18","title":"Inherent likelihood","text":"<p>3 \u2013 Possible</p>"},{"location":"security/security-risk-management-plan/#inherent-consequence_18","title":"Inherent consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#inherent-risk-rating_18","title":"Inherent risk rating","text":"<p>3 \u2013 High</p>"},{"location":"security/security-risk-management-plan/#ongoing-and-completed-treatments_18","title":"Ongoing and completed treatments","text":"<ul> <li>Organisation treatments</li> <li>Training to Organisation users on the appropriate measures for applying and changing protective markings</li> <li>CloudSystem treatments</li> <li>The solution has been configured to require users to provide a justification for changing a label</li> </ul>"},{"location":"security/security-risk-management-plan/#residual-likelihood_18","title":"Residual likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#residual-consequence_18","title":"Residual consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#residual-risk-rating_18","title":"Residual risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/security-risk-management-plan/#proposed-treatments_18","title":"Proposed treatments","text":"<p>None</p>"},{"location":"security/security-risk-management-plan/#target-likelihood_18","title":"Target likelihood","text":"<p>2 \u2013 Unlikely</p>"},{"location":"security/security-risk-management-plan/#target-consequence_18","title":"Target consequence","text":"<p>3 \u2013 Moderate</p>"},{"location":"security/security-risk-management-plan/#target-risk-rating_18","title":"Target risk rating","text":"<p>2 \u2013 Medium</p>"},{"location":"security/standard-operating-procedures/","title":"Standard operating procedures","text":""},{"location":"security/standard-operating-procedures/#standard-operating-procedures","title":"Standard operating procedures","text":"<p>40 minutes to read - 30 March 2023</p>"},{"location":"security/standard-operating-procedures/#device-onboarding","title":"Device onboarding","text":"<p>The authorisation and approval of users being granted access to the system is out of scope of this Standard Operating Procedure (SOP).</p> <p>Asset management of devices used by the agency and being connected to the systems is out of scope of this SOP.</p> <p>Before a device can be used there are a number of procedures that must be completed for it to be onboarded correctly, these include:</p> <ul> <li>Account Creation,</li> <li>Autopilot Enrolment, and</li> <li>Device Groups.</li> </ul>"},{"location":"security/standard-operating-procedures/#prerequisites","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>The account creation for a user has been approved and authorised through the agencies onboarding and security procedures. </li> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Office 365 and Microsoft Azure. </li> <li>The system administrator has an active account in Azure AD with the appropriate roles and permissions. </li> <li>A basic understanding of user account creation. </li> <li>A basic understanding of device management in the context of a Mobile Device Management (MDM) solution.</li> </ul>"},{"location":"security/standard-operating-procedures/#account-creation","title":"Account creation","text":"<p>Before creating a user or privileged user account ensure the user has been authorised and approved to access the system and that Agency privileged management procedures for those users with administrative accounts have been complied with.</p> <p>This instruction includes how to create a standard user or administrative account.</p> <p>Once the below has been followed for the creation of a user or administrative account a few additional steps will occur automatically. If a standard user account is created (e.g., joe.bloggs@domain.gov.au), the account will automatically be added to the dynamic Azure AD group rol-Agency-users using the following rule syntax:</p> <pre><code>(user.accountEnabled -eq true) and (user.userPrincipalName -notContains \"_priv\")\n</code></pre> <p>This will automatically provide access to a standard set of applications and apply licenses.</p> <p>If an administrative account is created (e.g., joe.bloggs_priv@domain.gov.au) is created, the account will automatically be added to the dynamic Azure AD group rol-Agency-Administrators using the following rule syntax:</p> <pre><code>(user.accountEnabled -eq true) and (user.userPrincipalName -contains \"_priv\")\n</code></pre> <p>In this manner, user licencing and standard user applications are controlled automatically. To allow this process to occur, please allow up to 30 minutes to pass before providing login credentials to users to ensure correct propagation of group membership and licensing.</p>"},{"location":"security/standard-operating-procedures/#step-1","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft 365 admin center (https://admin.microsoft.com)</p>"},{"location":"security/standard-operating-procedures/#step-2","title":"Step 2","text":"<p>On the left-hand pane click Users then Active users</p>"},{"location":"security/standard-operating-procedures/#step-3","title":"Step 3","text":"<p>Click Add a user</p>"},{"location":"security/standard-operating-procedures/#step-4","title":"Step 4","text":"<p>The Set up the basics window will appear, complete all fields as shown in the screenshot.</p> <p></p> <p>Use the following password settings:  </p> <ul> <li>Auto-generate password</li> <li>Require this user to change their password when they first sign in: Ticked</li> <li>Send password in email upon completion: Ticked</li> </ul> <p>The new password should be sent to the users\u2019 manager or another trusted source.</p> <p>When complete press Next</p> <p>IMPORTANT NOTE: when selecting a username, ensure that the standard user account follows the Agency naming standard of <code>user.name@domain.gov.au</code>, for an Administrative account however ensure the suffix <code>_priv</code> is appended to the username (e.g., <code>user.name_priv@domain.gov.au</code>). The reason for this is because dynamic groups exist within Azure AD that will automatically control what licenses are added to the user account.</p>"},{"location":"security/standard-operating-procedures/#step-5","title":"Step 5","text":"<p>On the Assign product licenses screen, select Australia as the location, and then select Create user without product license (not recommended).</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-6","title":"Step 6","text":"<p>On the Optional settings page, leave the Role as User: no administration access.</p> <p>Complete all appropriate fields in the Profile info section.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-7","title":"Step 7","text":"<p>Review the user to be created and ensure all of the details you have entered are correct.</p> <p>When complete press Finish adding</p>"},{"location":"security/standard-operating-procedures/#step-8","title":"Step 8","text":"<p>The account has now been created, press the Close button.</p> <p>Note: allow up to 1 hour for the account to fully create as dynamic group changes will propagate on the back-end.</p>"},{"location":"security/standard-operating-procedures/#autopilot-enrolment","title":"Autopilot enrolment","text":"<p>The following instruction advises how to enrol a device within Autopilot. This must be completed for each device that is used within the environment. This ensures that the device builds correctly with the right settings and Microsoft Endpoint Manager policies applied.</p> <p>There are a number of prerequisites required for this section, the primary of which is to supply a .CSV file with the following fields prefilled.</p> <p><code>&lt;Serial Number&gt;, &lt;Windows Product ID&gt;, &lt;Hardware Hash&gt;, &lt;Order ID&gt;</code></p> <p>In many cases, when hardware is ordered from a vendor, they can provide this information prior to the devices being delivered. This instruction will assume that the .CSV exists and you as an administrator are ready to upload it into the Azure portal.</p> <p>Please also note that there are a number of different avenues/portals that you can use to access Autopilot and this simply describes one of them, which is accurate as of the time of writing.</p>"},{"location":"security/standard-operating-procedures/#step-1_1","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then select Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_1","title":"Step 2","text":"<p>Within Devices, on the left-hand pane, select Enroll Devices</p>"},{"location":"security/standard-operating-procedures/#step-3_1","title":"Step 3","text":"<p>Within Enroll Devices, select Windows enrollment from the left-hand pane</p>"},{"location":"security/standard-operating-procedures/#step-4_1","title":"Step 4","text":"<p>Within the Enroll Devices \u2013 Windows enrollment blade, select Devices under the Windows Autopilot Deployment Program section</p>"},{"location":"security/standard-operating-procedures/#step-5_1","title":"Step 5","text":"<p>Within the Windows Autopilot devices screen, press the Import button</p>"},{"location":"security/standard-operating-procedures/#step-6_1","title":"Step 6","text":"<p>When the Add Windows Autopilot devices pane appears on the right of the screen, click the Choose file icon, then select your .CSV file.</p>"},{"location":"security/standard-operating-procedures/#step-7_1","title":"Step 7","text":"<p>Review whether the results are correct, and the rows are formatted correctly, if so, press Import</p>"},{"location":"security/standard-operating-procedures/#step-8_1","title":"Step 8","text":"<p>Allow the import to complete, note whether it has completed successfully via the Notifications bell icon in the top right of the screen.</p>"},{"location":"security/standard-operating-procedures/#device-groups","title":"Device groups","text":"<p>To ensure devices receive the correct policy assignments they must be added to the correct groups within Azure Active Directory (Azure AD). The following describes how to add a device to a group.</p>"},{"location":"security/standard-operating-procedures/#step-1_2","title":"Step 1","text":"<p>Navigate to the Azure portal (https://portal.azure.com) then select Azure Active Directory</p>"},{"location":"security/standard-operating-procedures/#step-2_2","title":"Step 2","text":"<p>In the left-hand pane, click Groups</p>"},{"location":"security/standard-operating-procedures/#step-3_2","title":"Step 3","text":"<p>Identify the group that your device is to be added to and click on it.</p> <p>In this example we will select grp-User-Workstations</p>"},{"location":"security/standard-operating-procedures/#step-4_2","title":"Step 4","text":"<p>In the left hand-pane, click on Members</p>"},{"location":"security/standard-operating-procedures/#step-5_2","title":"Step 5","text":"<p>Along the top ribbon, click Add members</p>"},{"location":"security/standard-operating-procedures/#step-6_2","title":"Step 6","text":"<p>In the pane that appears on the right of the screen, identify the devices to be added, click on them, then press Select</p>"},{"location":"security/standard-operating-procedures/#step-7_2","title":"Step 7","text":"<p>Ensure the device has been added to the group via the Notifications icon in the top right of the screen.</p>"},{"location":"security/standard-operating-procedures/#device-offboarding","title":"Device offboarding","text":"<p>Asset management and security procedures regarding lost and stolen devices are out of scope of this SOP and are expected to be managed by the Agency.</p> <p>If a device is lost, stolen, broken or simply is being replaced, there are several tasks that must be completed to correctly offboard it. Offboarding simply means removing the device from the Agency Azure Active Directory (Azure AD) instance and anywhere else it can be identified within the overarching tenant.</p> <p>This includes the following tasks:</p> <ul> <li>Removal from Azure Active directory,</li> <li>Removal from Microsoft Endpoint Manager (Formerly Intune),</li> <li>Removal from Microsoft Defender Security Center, and</li> <li>Removed as a Windows Autopilot device.</li> </ul>"},{"location":"security/standard-operating-procedures/#prerequisites_1","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Office 365 and Microsoft Azure. </li> <li>Appropriate administrative privileges within the environment to manage user accounts and devices. </li> <li>The ID/asset number of the device in question.</li> </ul>"},{"location":"security/standard-operating-procedures/#account-disable","title":"Account disable","text":"<p>Depending on the Agency and security practices in place accounts may need to be disabled rather than deleted with the departure of a user from the Agency.</p>"},{"location":"security/standard-operating-procedures/#step-1_3","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft 365 admin center (https://admin.microsoft.com)</p>"},{"location":"security/standard-operating-procedures/#step-2_3","title":"Step 2","text":"<p>On the left-hand pane click Users then Active users</p>"},{"location":"security/standard-operating-procedures/#step-3_3","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify the user and select them</p>"},{"location":"security/standard-operating-procedures/#step-4_3","title":"Step 4","text":"<p>With the user selected click on Block sign-in then tick the Block this user from signing in box</p> <p>When complete press Save changes then the back arrow to return to the user.</p>"},{"location":"security/standard-operating-procedures/#step-5_3","title":"Step 5","text":"<p>Select the Licenses and Apps tab on the user and remove any licenses that may be assigned to the user to ensure they are free for use for a new user</p> <p>When complete press Save changes</p> <p>Note: Allow up to one hour for any existing sessions to be completely logged out, new sign-ins are immediately blocked. Users Mail and OneDrive will remain intact in the event of an audit required</p>"},{"location":"security/standard-operating-procedures/#account-deletion","title":"Account deletion","text":"<p>Depending on the Agency and security practices in place accounts may need to be deleted rather than disabled with the departure of a user from the Agency.</p>"},{"location":"security/standard-operating-procedures/#step-1_4","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft 365 admin center (https://admin.microsoft.com)</p>"},{"location":"security/standard-operating-procedures/#step-2_4","title":"Step 2","text":"<p>On the left-hand pane click Users then Active users</p>"},{"location":"security/standard-operating-procedures/#step-3_4","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify the user and select them</p>"},{"location":"security/standard-operating-procedures/#step-4_4","title":"Step 4","text":"<p>With the user selected click on Delete user then tick any requirements for the users Mail and OneDrive</p> <p>When complete press Delete user</p> <p>Note: Any assigned licenses will also be removed with this action</p>"},{"location":"security/standard-operating-procedures/#step-5_4","title":"Step 5","text":"<p>Confirmation will be provided for the account deletion</p> <p>When complete press Close</p>"},{"location":"security/standard-operating-procedures/#step-6_3","title":"Step 6","text":"<p>The user will remain under Deleted users for 30 days where they can be restored if required</p>"},{"location":"security/standard-operating-procedures/#remove-device-from-azure-ad","title":"Remove device from Azure AD","text":"<p>Complete the below steps to remove the device from Azure AD. Prior to these steps being completed, the administrator performing them must know the ID/asset number of the device being removed from Azure AD.</p>"},{"location":"security/standard-operating-procedures/#step-1_5","title":"Step 1","text":"<p>Within your internet browser navigate to the Azure Portal (https://portal.azure.com), then click on Azure Active Directory</p>"},{"location":"security/standard-operating-procedures/#step-2_5","title":"Step 2","text":"<p>In the left-hand pane, select Devices</p>"},{"location":"security/standard-operating-procedures/#step-3_5","title":"Step 3","text":"<p>Within the Devices blade, either by scrolling through the list, or using the search bar, identify your device, check the box, then press Delete</p>"},{"location":"security/standard-operating-procedures/#step-4_5","title":"Step 4","text":"<p>When prompted to delete, press Yes</p>"},{"location":"security/standard-operating-procedures/#step-5_5","title":"Step 5","text":"<p>Confirm that the process has completed successfully in the Notifications button in the top right of the screen.</p>"},{"location":"security/standard-operating-procedures/#remove-device-from-microsoft-endpoint-manager","title":"Remove device from Microsoft Endpoint Manager","text":"<p>Complete the below steps to remove a device from Microsoft Endpoint Manager.</p>"},{"location":"security/standard-operating-procedures/#step-1_6","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com), then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_6","title":"Step 2","text":"<p>Within the Devices blade, select All devices</p>"},{"location":"security/standard-operating-procedures/#step-3_6","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify your device, check the box, then press Delete</p> <p>Note, Microsoft Endpoint Manager only allows 100 devices to be selected at one time. If more than 100 devices need to be deleted at one time deletion can be performed in batches.</p>"},{"location":"security/standard-operating-procedures/#step-4_6","title":"Step 4","text":"<p>A blade will appear on the right of the screen, confirm that the device is correct, then press Delete</p>"},{"location":"security/standard-operating-procedures/#step-5_6","title":"Step 5","text":"<p>Confirm that the process has completed successfully in the Notifications button in the top right of the screen.</p>"},{"location":"security/standard-operating-procedures/#offboard-a-device-from-microsoft-defender-manual","title":"Offboard a device from Microsoft Defender - manual","text":"<p>Follow the below steps to manually offboard a device from Microsoft Defender Advanced Threat Protection (ATP). These steps can only be followed if the device is available to be logged into.</p> <p>Please also note that an administrator with appropriate permissions is required to perform these steps.</p>"},{"location":"security/standard-operating-procedures/#step-1_7","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Defender Security Center (https://securitycenter.windows.com/), then click on Settings in the left-hand pane (note: you may need to expand the left-hand pane to see Settings)</p>"},{"location":"security/standard-operating-procedures/#step-2_7","title":"Step 2","text":"<p>Within the Settings screen, click on Offboarding</p>"},{"location":"security/standard-operating-procedures/#step-3_7","title":"Step 3","text":"<p>From the first dropdown menu, select Windows 10</p>"},{"location":"security/standard-operating-procedures/#step-4_7","title":"Step 4","text":"<p>From the second dropdown menu, select Local Script (for up to 10 machines), then click Download package</p>"},{"location":"security/standard-operating-procedures/#step-5_7","title":"Step 5","text":"<p>When prompted to download the package, click Download</p>"},{"location":"security/standard-operating-procedures/#step-6_4","title":"Step 6","text":"<p>When the package has downloaded, open the .zip file and extract the .cmd to the endpoint to be offboarded</p>"},{"location":"security/standard-operating-procedures/#step-7_3","title":"Step 7","text":"<p>From within this explorer window on the endpoint to be offboarded, click File &gt; Open Windows PowerShell &gt; Open Windows PowerShell as administrator. When prompted, enter your relevant administrative credentials</p>"},{"location":"security/standard-operating-procedures/#step-8_2","title":"Step 8","text":"<p>Once the PowerShell window launches, type <code>cmd</code> then press enter (this will launch command prompt within your PowerShell session)</p>"},{"location":"security/standard-operating-procedures/#step-9","title":"Step 9","text":"<p>Type <code>.\\\\</code> then press tab, the name of the .cmd script you have downloaded should autofill per the screenshot, then press Enter (Return)</p> <p></p>"},{"location":"security/standard-operating-procedures/#step-10","title":"Step 10","text":"<p>Allow the script to run, once it has completed allow up to 24 hours for the offboarding to be complete and the results reflected in the portal.</p> <p>Note, the machine being offboarded does not need to be continuously online during this period.</p>"},{"location":"security/standard-operating-procedures/#offboard-a-device-from-microsoft-defender-automated","title":"Offboard a device from Microsoft Defender - automated","text":"<p>Follow the below steps to offboard a device from Microsoft Defender ATP using the automated \u2018offboarding\u2019 process. These steps do not require that the device is available to be logged into and are recommended in the event a device is reported lost or stolen.</p>"},{"location":"security/standard-operating-procedures/#step-1_8","title":"Step 1","text":"<p>Within your internet browser navigate to the Azure Portal (https://portal.azure.com), then click on Azure Active Directory</p>"},{"location":"security/standard-operating-procedures/#step-2_8","title":"Step 2","text":"<p>Identify whether the device in question is a USER or ADMINISTRATOR device</p>"},{"location":"security/standard-operating-procedures/#step-3_8","title":"Step 3","text":"<p>In the left-hand pane, select Groups. Locate either the grp-Admin-Workstations or grp-User-Workstations group (as appropriate) and select it</p>"},{"location":"security/standard-operating-procedures/#step-4_8","title":"Step 4","text":"<p>In the left-hand pane, select Members</p>"},{"location":"security/standard-operating-procedures/#step-5_8","title":"Step 5","text":"<p>Within the list of direct members, locate the device in question, tick the box, then press Remove</p>"},{"location":"security/standard-operating-procedures/#step-6_5","title":"Step 6","text":"<p>When prompted to remove the selected member(s), click Yes</p>"},{"location":"security/standard-operating-procedures/#step-7_4","title":"Step 7","text":"<p>Navigate back to the Groups \u2013 All groups blade, then select grp-RemoveFromDefenderATP</p>"},{"location":"security/standard-operating-procedures/#step-8_3","title":"Step 8","text":"<p>Within the grp-RemoveFromDefenderATP select Members</p>"},{"location":"security/standard-operating-procedures/#step-9_1","title":"Step 9","text":"<p>Click Add members</p>"},{"location":"security/standard-operating-procedures/#step-10_1","title":"Step 10","text":"<p>Identify your device from the list, or use the Search bar, then press Select</p>"},{"location":"security/standard-operating-procedures/#step-11","title":"Step 11","text":"<p>Allow some time for the process to complete, it can take some time as it relies on the device syncing back up with Azure.</p> <p>Note: this process could take some time as the endpoint device may be switched off, or not have an internet connection. Additionally, the logs for the device will remain in the Security Center by design.</p>"},{"location":"security/standard-operating-procedures/#remove-device-from-autopilot","title":"Remove device from Autopilot","text":"<p>As a prerequisite to this step, you must first delete the device from Azure Active Directory and Microsoft Endpoint Manager. Once these steps have been completed the device will not be able to be rebuilt using Autopilot.</p>"},{"location":"security/standard-operating-procedures/#step-1_9","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Endpoint Manger (https://endpoint.microsoft.com), then select Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_9","title":"Step 2","text":"<p>In the left-hand pane, select Enroll Devices</p>"},{"location":"security/standard-operating-procedures/#step-3_9","title":"Step 3","text":"<p>Within Enroll Devices blade, select Windows enrollment</p>"},{"location":"security/standard-operating-procedures/#step-4_9","title":"Step 4","text":"<p>Within the Windows enrollment blade, select Devices under the Windows Autopilot Deployment Program section</p>"},{"location":"security/standard-operating-procedures/#step-5_9","title":"Step 5","text":"<p>Within the Windows Autopilot devices screen, identify the device in question from the list or by using the search field.</p> <p>Once identified, tick the box next to the device, then press Delete</p> <p>Note: if you require further information about the device, you can click on it, a pane should appear on the right with further information about that specific device.</p>"},{"location":"security/standard-operating-procedures/#step-6_6","title":"Step 6","text":"<p>When prompted to delete, press Yes</p>"},{"location":"security/standard-operating-procedures/#step-7_5","title":"Step 7","text":"<p>Confirm that the process has completed successfully in the Notifications button in the top right of the screen.</p>"},{"location":"security/standard-operating-procedures/#remote-wiping-a-device","title":"Remote wiping a device","text":"<p>A remote wipe of a device may be required in the event of a lost or stolen device and can be used as a last resort effort to secure the device. In order for the remote wipe to work correctly the device will need to have been powered on with internet access back to the tenant.</p>"},{"location":"security/standard-operating-procedures/#step-1_10","title":"Step 1","text":"<p>Within your internet browser navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com/), then select Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_10","title":"Step 2","text":"<p>Select All Devices</p>"},{"location":"security/standard-operating-procedures/#step-3_10","title":"Step 3","text":"<p>Either by scrolling through the list, or using the search bar, identify the device</p> <p>Once identified click on the device</p>"},{"location":"security/standard-operating-procedures/#step-4_10","title":"Step 4","text":"<p>With the device selected you should now be able to select Wipe</p>"},{"location":"security/standard-operating-procedures/#step-5_10","title":"Step 5","text":"<p>For Windows 10 1709 and above devices the Wipe device, but keep enrollment state and associated user account can be used to keep certain data on the device. Not all data is retained.</p>"},{"location":"security/standard-operating-procedures/#step-6_7","title":"Step 6","text":"<p>Wipe device and continue to wipe even if device loses power can be used to ensure that the wipe is not circumvented by power cycling the device</p> <p>In some instances this setting could render the device unable to power on correctly and should be used with some level of caution</p>"},{"location":"security/standard-operating-procedures/#step-7_6","title":"Step 7","text":"<p>When ready to confirm the wipe select Yes</p> <p>The device should receive the wipe action within 15 minutes of confirmation</p>"},{"location":"security/standard-operating-procedures/#discovered-apps","title":"Discovered apps","text":"<p>Discovered apps is a list of detected apps found on managed devices enrolled in Microsoft Endpoint Manager. Similar to a software inventory report it provides a list of managed and unmanaged apps found on managed devices. The report refreshes every 7 days from the time the device is enrolled and the only exception is to application information collected through the Microsoft Endpoint Manager - Management Extension for Win32 Apps, which are collected every 24 hours.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_2","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>You must have devices enrolled in Microsoft Endpoint Manager in order for apps to be discovered.</li> </ul>"},{"location":"security/standard-operating-procedures/#monitor-discovered-apps-on-managed-devices","title":"Monitor discovered apps on managed devices","text":"<p>The following describes the steps required to view and export a list of discovered apps found on all managed devices enrolled in Microsoft Endpoint Manager.</p>"},{"location":"security/standard-operating-procedures/#step-1_11","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Apps</p>"},{"location":"security/standard-operating-procedures/#step-2_11","title":"Step 2","text":"<p>Within Apps click on Monitor, then Discovered apps.</p>"},{"location":"security/standard-operating-procedures/#step-3_11","title":"Step 3","text":"<p>Within Discovered apps click on the Export button.</p>"},{"location":"security/standard-operating-procedures/#monitor-discovered-apps-on-a-specific-managed-device","title":"Monitor discovered apps on a specific managed device","text":"<p>The following describes the steps required to view and export a list of discovered apps found on a specific managed device enrolled in Microsoft Endpoint Manager.</p>"},{"location":"security/standard-operating-procedures/#step-1_12","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Devices.</p>"},{"location":"security/standard-operating-procedures/#step-2_12","title":"Step 2","text":"<p>Within Devices click on All devices.</p>"},{"location":"security/standard-operating-procedures/#step-3_12","title":"Step 3","text":"<p>Within All devices select a device, then click on Discovered apps.</p>"},{"location":"security/standard-operating-procedures/#usb-device-control","title":"USB device control","text":"<p>USB device control should be utilised to limit the use to USB ports on a Windows 10 device. Limiting users ability to use USB ports and devices ensures that the environment is not exposed to unwanted malicious content from untrusted sources as well as reduces the likelihood that a trusted insider is able to remove confidential material.</p> <p>There are a number of methods that can be utilised from fully restricting USB ports, to restricting untrusted processes as well as trusting/denying specific devices.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_3","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure.</li> </ul>"},{"location":"security/standard-operating-procedures/#blocking-removable-storage","title":"Blocking removable storage","text":"<p>The following describes the steps required to create an Microsoft Endpoint Manager profile that will block removable devices from use on a Windows 10 device.</p>"},{"location":"security/standard-operating-procedures/#step-1_13","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_13","title":"Step 2","text":"<p>Within Devices click on Configuration profiles</p>"},{"location":"security/standard-operating-procedures/#step-3_13","title":"Step 3","text":"<p>Along the top ribbon, click Create Profile</p>"},{"location":"security/standard-operating-procedures/#step-4_11","title":"Step 4","text":"<p>The Create a profile blade will open, select Windows 10 and later platform and Device restrictions profile</p> <p>When complete press Create</p>"},{"location":"security/standard-operating-procedures/#step-5_11","title":"Step 5","text":"<p>Enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-6_8","title":"Step 6","text":"<p>When presented with the Device Configuration settings screen expand General and select Removable storage and USB connection to ensure that they are set to Block then press Next</p> <p>Note: Removable storage will block the use of removable storage devices within Windows, while USB connection will block USB ports on the device. USB connection setting will not block the use of USB charging though.</p>"},{"location":"security/standard-operating-procedures/#step-7_7","title":"Step 7","text":"<p>When presented with the Assignments screen select the groups that this profile is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-8_4","title":"Step 8","text":"<p>When presented with the Applicability Rules screen create an appropriate rule that this profile is to be applied to.</p> <p>In this example they have been left blank</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-9_2","title":"Step 9","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/standard-operating-procedures/#step-10_2","title":"Step 10","text":"<p>To confirm that these settings have been applied to an endpoint, plug in a USB device in to a Windows 10 device and ensure the USB device is blocked.</p>"},{"location":"security/standard-operating-procedures/#blocking-untrusted-and-unsigned-processes-running-from-usb","title":"Blocking untrusted and unsigned processes running from USB","text":"<p>USB devices may be allowed to be used within an Agency, however untrusted and unsigned process can be blocked to prevent infection. Alternatively, this setting can also be set to Audit Only to track the processes.</p> <p>This will include executable files as well as script files.</p> <p>Note: This will require Endpoint Protection running with real-time protection enabled.</p>"},{"location":"security/standard-operating-procedures/#step-1_14","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_14","title":"Step 2","text":"<p>Within Devices click on Configuration profiles</p>"},{"location":"security/standard-operating-procedures/#step-3_14","title":"Step 3","text":"<p>Along the top ribbon, click Create Profile</p>"},{"location":"security/standard-operating-procedures/#step-4_12","title":"Step 4","text":"<p>The Create a profile blade will open, select Windows 10 and later platform and Endpoint Protection profile</p> <p>When complete press Create</p>"},{"location":"security/standard-operating-procedures/#step-5_12","title":"Step 5","text":"<p>Enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-6_9","title":"Step 6","text":"<p>When presented with the Endpoint Protection settings screen expand Microsoft Defender Exploit Guard and Attack Surface Reduction then select Untrusted and unsigned process that run from USB to ensure that it is set to Block then press Next</p>"},{"location":"security/standard-operating-procedures/#step-7_8","title":"Step 7","text":"<p>When presented with the Assignments screen select the groups that this profile is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-8_5","title":"Step 8","text":"<p>When presented with the Applicability Rules screen create an appropriate rule that this profile is to be applied to.</p> <p>In this example they have been left blank</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-9_3","title":"Step 9","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/standard-operating-procedures/#step-10_3","title":"Step 10","text":"<p>To confirm that these settings have been applied to an endpoint, plug in a USB device in to a Windows 10 device and test running some executable and script files.</p>"},{"location":"security/standard-operating-procedures/#allow-or-prevent-installation-of-specific-peripherals","title":"Allow or prevent installation of specific peripherals","text":"<p>Allowing or preventing the installation of specific peripherals can allow more granular control of USB devices based off of their hardware ID\u2019s or their setup classes.</p>"},{"location":"security/standard-operating-procedures/#step-1_15","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_15","title":"Step 2","text":"<p>Within Devices click on Configuration profiles</p>"},{"location":"security/standard-operating-procedures/#step-3_15","title":"Step 3","text":"<p>Along the top ribbon, click Create Profile</p>"},{"location":"security/standard-operating-procedures/#step-4_13","title":"Step 4","text":"<p>The Create a profile blade will open, select Windows 10 and later platform and Administrative Templates profile</p> <p>When complete press Create</p>"},{"location":"security/standard-operating-procedures/#step-5_13","title":"Step 5","text":"<p>Enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-6_10","title":"Step 6","text":"<p>When presented with the Settings screen expand Computer Configuration/System/Device Installation/Device Installation Restrictions then select the appropriate policy depending on the requirement</p> <p>In this example the Allow installation of devices that match any of these device IDs is being used</p> <p>Note: When using an allow policy the Prevent installation of devices not described by other policy settings will also need to be set to ensure that only peripherals on the allow list can be used.</p>"},{"location":"security/standard-operating-procedures/#step-7_9","title":"Step 7","text":"<p>Select Enable and enter in the appropriate device ID or setup class depending on the policy in use</p> <p>When complete press OK then Next</p>"},{"location":"security/standard-operating-procedures/#step-8_6","title":"Step 8","text":"<p>A Scope tag can be created if required</p> <p>In this example they have been left as Default</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-9_4","title":"Step 9","text":"<p>When presented with the Assignments screen select the groups that this profile is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-10_4","title":"Step 10","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/standard-operating-procedures/#step-11_1","title":"Step 11","text":"<p>To confirm that these settings have been applied to an endpoint, plug in a USB device in to a Windows 10 device that matches the policy that has been set and observe if it has been allowed or prevented depending on the policy that was set</p>"},{"location":"security/standard-operating-procedures/#microsoft-defender-atp","title":"Microsoft Defender ATP","text":"<p>Microsoft Defender Advanced Threat Protection is a complete endpoint security solution powered by the Microsoft cloud. The following details a few of the functions that the product can be utilised for.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_4","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure.</li> <li>Licensing for Microsoft Defender ATP is required.</li> </ul>"},{"location":"security/standard-operating-procedures/#advanced-hunting-in-microsoft-defender-atp","title":"Advanced Hunting in Microsoft Defender ATP","text":"<p>Advanced hunting utilises a query-based approach to search for known or potential new threats to the environment.</p>"},{"location":"security/standard-operating-procedures/#step-1_16","title":"Step 1","text":"<p>Navigate to the Security Center (https://securitycenter.windows.com/) then click on Advanced Hunting</p>"},{"location":"security/standard-operating-procedures/#step-2_16","title":"Step 2","text":"<p>Click on Query which will allow custom queries to be written</p>"},{"location":"security/standard-operating-procedures/#step-3_16","title":"Step 3","text":"<p>The new query should be written in the text field</p> <p>When the query is ready select Run query</p>"},{"location":"security/standard-operating-procedures/#step-4_14","title":"Step 4","text":"<p>Results will be displayed underneath the text box</p>"},{"location":"security/standard-operating-procedures/#step-5_14","title":"Step 5","text":"<p>The Schema section can be used to assist with building custom queries</p>"},{"location":"security/standard-operating-procedures/#step-6_11","title":"Step 6","text":"<p>The Shared queries section list a number of community based queries that can be used as starter queries or as if if they meet the specific requirement</p>"},{"location":"security/standard-operating-procedures/#step-7_10","title":"Step 7","text":"<p>Custom queries can be saved using the Save button</p>"},{"location":"security/standard-operating-procedures/#step-8_7","title":"Step 8","text":"<p>Provide a name and save location for the query</p>"},{"location":"security/standard-operating-procedures/#step-9_5","title":"Step 9","text":"<p>Saved queries can be retrieved from My queries section</p>"},{"location":"security/standard-operating-procedures/#step-10_5","title":"Step 10","text":"<p>Queries can be used for detection by using the Create detection rule</p> <p>Detection rules can be run on set intervals to proactively monitor for issues within the environment</p>"},{"location":"security/standard-operating-procedures/#step-11_2","title":"Step 11","text":"<p>Fill in the required details for the Detection rule</p> <p>When ready click Next</p>"},{"location":"security/standard-operating-procedures/#step-12","title":"Step 12","text":"<p>Enable any required Actions as a result of the detection</p> <p>When ready click Next</p>"},{"location":"security/standard-operating-procedures/#step-13","title":"Step 13","text":"<p>Review the Summary and validate the previously configured settings</p> <p>When ready click Create</p>"},{"location":"security/standard-operating-procedures/#step-14","title":"Step 14","text":"<p>Any Detection rules will be available under the Custom detections section</p>"},{"location":"security/standard-operating-procedures/#step-15","title":"Step 15","text":"<p>When the Detection rule is opened the option to Edit detection rule will be available to change any details with the detection rule</p>"},{"location":"security/standard-operating-procedures/#windows-update-for-business","title":"Windows Update for Business","text":"<p>Windows Update for Business is utilised for all Windows 10 endpoints within the tenant. It manages and deploys the latest security updates, Windows features, and patches by directly connecting to the Windows Update service. It also provides management capability for devices within the tenant.</p> <p>Within the environment, updates are maintained and controlled by Update Rings. Update Rings have been deployed within the environment already however more may need to be created dependant on a number of factors such as what hardware and operating systems are supported.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_5","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure.</li> </ul>"},{"location":"security/standard-operating-procedures/#create-update-ring","title":"Create update ring","text":"<p>The following describes the steps required to create a Windows 10 update ring.</p>"},{"location":"security/standard-operating-procedures/#step-1_17","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_17","title":"Step 2","text":"<p>Within Devices click on Windows 10 updates rings</p>"},{"location":"security/standard-operating-procedures/#step-3_17","title":"Step 3","text":"<p>Along the top ribbon, click Create</p>"},{"location":"security/standard-operating-procedures/#step-4_15","title":"Step 4","text":"<p>The Create Windows 10 update ring blade will open, enter an appropriate Name and Description.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-5_15","title":"Step 5","text":"<p>When presented with the Update ring settings screen select the appropriate settings then press Next</p>"},{"location":"security/standard-operating-procedures/#step-6_12","title":"Step 6","text":"<p>When presented with the Assignments screen select the groups that this update ring is to be applied to.</p> <p>In this example the update ring will apply to rol-Agency-Administrators, and rol-Agency-Users.</p> <p>When complete, press Next</p>"},{"location":"security/standard-operating-procedures/#step-7_11","title":"Step 7","text":"<p>On the Review + create screen ensure that all of the settings are correct, if you\u2019re confident that they are, press Create</p>"},{"location":"security/standard-operating-procedures/#step-8_8","title":"Step 8","text":"<p>To confirm that these settings have been applied to an endpoint, navigate to Settings &gt; Update &amp; Settings &gt; Advanced Options on a Windows 10 device and ensure the settings match your update ring.</p>"},{"location":"security/standard-operating-procedures/#manage-update-ring","title":"Manage update ring","text":"<p>Update rings are able to be modified, this includes settings within the update ring itself, as well as assignments. The following explains how to complete these changes.</p>"},{"location":"security/standard-operating-procedures/#step-1_18","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager admin center (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_18","title":"Step 2","text":"<p>Within Devices click on Windows 10 updates rings</p>"},{"location":"security/standard-operating-procedures/#step-3_18","title":"Step 3","text":"<p>Identify the update ring you wish to modify; in this instance it is Semi Annual Channel Ring then click on it</p>"},{"location":"security/standard-operating-procedures/#step-4_16","title":"Step 4","text":"<p>Within Semi Annual Channel Ring, click on Properties</p>"},{"location":"security/standard-operating-procedures/#step-5_16","title":"Step 5","text":"<p>Within the Properties screen there are 3 sections that can be modified:</p> <ul> <li>Basics</li> <li>Update ring settings</li> <li>Assignments</li> </ul> <p>Identify what needs to be adjusted, then press the Edit button to adjust.</p>"},{"location":"security/standard-operating-procedures/#step-6_13","title":"Step 6","text":"<p>Within the edit window, make the required changes then click Review + save when complete</p>"},{"location":"security/standard-operating-procedures/#litigation-hold","title":"Litigation hold","text":"<p>There are a number of methods that can be employed to place a mailbox on litigation hold. Two examples have been provided to show different ways of enabling litigation hold.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_6","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Exchange Online and/or Office 365. </li> <li>An understanding of PowerShell in an Office 365 and/or Azure context. </li> <li>An administrative account with the required permissions, including to install the Exchange Online PowerShell Module. </li> <li>The administrator performing these steps may need to be a member of the Organization Management or Role Management roles to be able to perform the steps in the Assign eDiscovery Permissions section.</li> </ul>"},{"location":"security/standard-operating-procedures/#powershell-litigation-hold","title":"PowerShell litigation hold","text":"<p>This example explains how to place a single users\u2019 mailbox on litigation hold via PowerShell. </p> <p>Please note that these steps require the Exchange Online PowerShell Module to be installed by an authorised administrator.</p>"},{"location":"security/standard-operating-procedures/#step-1_19","title":"Step 1","text":"<p>Launch the Microsoft Exchange Online PowerShell module</p>"},{"location":"security/standard-operating-procedures/#step-2_19","title":"Step 2","text":"<p>Connect to the tenant using the following command:</p> <pre><code>Connect-EXOPSSession -UserPrincipalName your.name@desktop.gov.au\n</code></pre>"},{"location":"security/standard-operating-procedures/#step-3_19","title":"Step 3","text":"<p>A pop-up window will appear asking for your password, enter it and press Sign in.</p> <p>You will also be requested for a MFA challenge response, accept it, the pop-up window will close when authentication is successful.</p>"},{"location":"security/standard-operating-procedures/#step-4_17","title":"Step 4","text":"<p>Run the following command to place a mailbox on litigation hold:</p> <pre><code>Set-Mailbox user.name@desktop.gov.au -LitigationHoldEnabled $true -LitigationHoldDuration 365\n</code></pre>"},{"location":"security/standard-operating-procedures/#step-5_17","title":"Step 5","text":"<p>Run the following command to put all mailboxes in the tenant in litigation mode:</p> <pre><code>Get-Mailbox -ResultSize Unlimited -Filter {RecipientTypeDetails -eq \"UserMailbox\"} | Set-Mailbox -LitigationHoldEnabled $true -LitigationHoldDuration 365\n</code></pre>"},{"location":"security/standard-operating-procedures/#step-6_14","title":"Step 6","text":"<p>When complete, close your session with the following command:</p> <pre><code>Remove-PSSession\n</code></pre>"},{"location":"security/standard-operating-procedures/#web-interface-litigation-hold","title":"Web interface litigation hold","text":"<p>This example explains how to place a single users\u2019 mailbox on litigation hold via the Exchange Admin Center (EAC) web interface.</p>"},{"location":"security/standard-operating-procedures/#step-1_20","title":"Step 1","text":"<p>Log into the Exchange Admin center at https://outlook.office365.com/</p>"},{"location":"security/standard-operating-procedures/#step-2_20","title":"Step 2","text":"<p>On the Dashboard, click on mailboxes under the recipients heading</p>"},{"location":"security/standard-operating-procedures/#step-3_20","title":"Step 3","text":"<p>Within the mailboxes screen, identify the mailbox to be placed on litigation hold then double click it.</p>"},{"location":"security/standard-operating-procedures/#step-4_18","title":"Step 4","text":"<p>A pop-up window will appear, when it does, select mailbox features from the left-hand pane</p>"},{"location":"security/standard-operating-procedures/#step-5_18","title":"Step 5","text":"<p>Within mailbox features, scroll down until you see the Litigation hold section and enable/disable as required</p>"},{"location":"security/standard-operating-procedures/#step-6_15","title":"Step 6","text":"<p>If enabling litigation hold, please note that you will be prompted to enter the following:</p> <ul> <li>Litigation hold duration (days)</li> <li>A note/description for the hold</li> <li>A URL to direct users to for further information</li> </ul>"},{"location":"security/standard-operating-procedures/#assign-ediscovery-permissions","title":"Assign eDiscovery permissions","text":"<p>The following describes the steps required to modify eDiscovery Manager permissions within the tenant.</p>"},{"location":"security/standard-operating-procedures/#step-1_21","title":"Step 1","text":"<p>Navigate to the Office 365 Security &amp; compliance Center (https://protection.office.com/)</p>"},{"location":"security/standard-operating-procedures/#step-2_21","title":"Step 2","text":"<p>In the left-hand pane, click on Permissions</p>"},{"location":"security/standard-operating-procedures/#step-3_21","title":"Step 3","text":"<p>Within the Permissions window, tick the eDiscovery Manager checkbox</p>"},{"location":"security/standard-operating-procedures/#step-4_19","title":"Step 4","text":"<p>Within the eDiscovery Manager pane that appears, make any changes that are required.</p> <p>Within this pane, you are able to assign an eDiscovery Manager, and eDiscovery Administrator, modify the existing assigned roles</p>"},{"location":"security/standard-operating-procedures/#create-ediscovery-case","title":"Create eDiscovery case","text":"<p>The following describes how to create a new eDiscovery case within the Microsoft 365 Compliance Center.</p>"},{"location":"security/standard-operating-procedures/#step-1_22","title":"Step 1","text":"<p>Navigate to the Microsoft 365 Compliance Center (https://compliance.microsoft.com/)</p>"},{"location":"security/standard-operating-procedures/#step-2_22","title":"Step 2","text":"<p>In the left-hand pane, select eDiscovery, then click on Core</p>"},{"location":"security/standard-operating-procedures/#step-3_22","title":"Step 3","text":"<p>Within the Core eDiscovery screen click the Create a case button</p>"},{"location":"security/standard-operating-procedures/#step-4_20","title":"Step 4","text":"<p>In the pane that appears on the right of the window, enter a Case name and Case description then press Save</p>"},{"location":"security/standard-operating-procedures/#manage-ediscovery-case","title":"Manage eDiscovery case","text":"<p>The following describes how to manage an existing eDiscovery case within the Microsoft 365 Compliance Center.</p>"},{"location":"security/standard-operating-procedures/#step-1_23","title":"Step 1","text":"<p>Navigate to the Microsoft 365 Compliance Center (https://compliance.microsoft.com/)</p>"},{"location":"security/standard-operating-procedures/#step-2_23","title":"Step 2","text":"<p>In the left-hand pane, select eDiscovery, then click on Core</p>"},{"location":"security/standard-operating-procedures/#step-3_23","title":"Step 3","text":"<p>Within the Core eDiscovery window, identify your case, then click on it</p>"},{"location":"security/standard-operating-procedures/#step-4_21","title":"Step 4","text":"<p>The Manage this case window will appear, within it you can manage members, role groups, and the case status. You can also close or delete the case.</p> <p>When these changes have been made, press either Save or Close</p>"},{"location":"security/standard-operating-procedures/#step-5_19","title":"Step 5","text":"<p>Back in the Core eDiscovery screen, check the radio tick box for your case then press Open case</p>"},{"location":"security/standard-operating-procedures/#step-6_16","title":"Step 6","text":"<p>A new browser tab will open, within it you can view holds, perform searches, and perform exports.</p>"},{"location":"security/standard-operating-procedures/#system-configuration-restoration","title":"System configuration restoration","text":"<p>The solution is primarily cloud based, and as such the systems and services used to support it have been configured in the various portals that comprise the Microsoft Office 365 and Microsoft Azure platforms.</p> <p>The services and settings provided by the CloudSystem should not be modified without fully understanding the security and operational consequence of the change.</p> <p>If there have been changes (authorised or otherwise) that need to be rolled back or reverted, the original As-Built As-Configured (ABAC) documents are to be referenced as a gold-source.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_7","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure and Office 365. </li> </ul>"},{"location":"security/standard-operating-procedures/#abac-restore","title":"ABAC restore","text":"<p>When a system or service must be restored to its original state, the relevant ABAC document should be referred to and used to reconfigure the system or service back to its intended working order.</p> <p>The following is an example of how to restore settings to the original CloudSystem build state within Azure Active Directory (Azure AD). In this scenario the LinkedIn account connections setting has been adjusted and is being reset.</p>"},{"location":"security/standard-operating-procedures/#step-1_24","title":"Step 1","text":"<p>Log into the Microsoft Azure portal, then select Azure Active Directory</p> <p>https://portal.azure.com/</p>"},{"location":"security/standard-operating-procedures/#step-2_24","title":"Step 2","text":"<p>Additionally, open the corresponding ABAC. In this instance, the ABAC in question is Platform \u2013 ABAC.</p>"},{"location":"security/standard-operating-procedures/#step-3_24","title":"Step 3","text":"<p>Review the original ABAC, specifically looking for the settings in question.</p>"},{"location":"security/standard-operating-procedures/#step-4_22","title":"Step 4","text":"<p>Identify the setting within the ABAC and ensure that it is configured correctly within the portal.</p> <p>Note: In the above example the LinkedIn account connections setting has been adjusted, this will of course change based on the service/system in question and this should only be used as an example.</p>"},{"location":"security/standard-operating-procedures/#important-file-restoration","title":"Important file restoration","text":"<p>All data that is considered important will be stored in a corporate data store, such as OneDrive for Business, SharePoint Online, or Exchange Online. As such, these locations are controlled by retention policies and can be configured to retain deleted items potentially indefinitely. Within the solution a number of retention policies have been created as a baseline, if identified by Agency or business, further can be created with the steps listed below.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_8","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure and Office 365. </li> </ul>"},{"location":"security/standard-operating-procedures/#retention-backup-policies","title":"Retention &amp; backup policies","text":"<p>For full detail of the retention and backup policies employed within the tenant, the design documents and ABACs should be referred to. This example will show how to review and modify existing retention policies.</p>"},{"location":"security/standard-operating-procedures/#step-1_25","title":"Step 1","text":"<p>Navigate to the Microsoft 365 compliance portal (https://compliance.microsoft.com) then click on Policies</p>"},{"location":"security/standard-operating-procedures/#step-2_25","title":"Step 2","text":"<p>Within Policies click on Retention</p>"},{"location":"security/standard-operating-procedures/#step-3_25","title":"Step 3","text":"<p>Within the Information governance screen, you are able to create new retention policies, and modify existing policies.</p> <p>In this example we will be modifying the OneDrive Indefinite Hold policy.</p> <p>Open the policy by clicking on it.</p>"},{"location":"security/standard-operating-procedures/#step-4_23","title":"Step 4","text":"<p>Within the policy, review the existing settings then click on Edit policy</p>"},{"location":"security/standard-operating-procedures/#step-5_20","title":"Step 5","text":"<p>Within the Policy name screen, ensure there is a name and description for the policy in question.</p>"},{"location":"security/standard-operating-procedures/#step-6_17","title":"Step 6","text":"<p>Within the Locations applied screen, set the locations to be affected by this policy.</p>"},{"location":"security/standard-operating-procedures/#step-7_12","title":"Step 7","text":"<p>Within the Policy settings screen set how long the data is to be retained for.</p> <p>Press Save to ensure settings across the 3 aforementioned sections are saved.</p>"},{"location":"security/standard-operating-procedures/#onedrive-data-restoration","title":"OneDrive data restoration","text":"<p>Data saved to OneDrive for Business is saved indefinitely, if data is deleted it can be restored by various methods based on where it was deleted from. </p> <p>If a file is located on a user\u2019s device in their OneDrive for Business folder, it can simply be restored from the Recycling Bin.</p> <p>Note: deleted folders do not end up in the Computer Recycle Bin, only files. Additionally, sync must be configured in OneDrive for Business on the user\u2019s device, if not, restoring from the Computer Recycle Bin will not work.</p> <p>Files can also be restored from the OneDrive web interface by following the steps outlined below.</p>"},{"location":"security/standard-operating-procedures/#step-1_26","title":"Step 1","text":"<p>Log into OneDrive through the web interface by visiting the Office 365 portal (www.office.com) then clicking on OneDrive</p>"},{"location":"security/standard-operating-procedures/#step-2_26","title":"Step 2","text":"<p>Within OneDrive, click on Recycle bin</p>"},{"location":"security/standard-operating-procedures/#step-3_26","title":"Step 3","text":"<p>Within the Recycle bin you will see data that has been deleted in the last 93 days</p>"},{"location":"security/standard-operating-procedures/#step-4_24","title":"Step 4","text":"<p>If the file you\u2019re looking for isn\u2019t in the Recycle bin, it may have been moved to the Second-stage recycle bin.</p> <p>Click Second-stage recycle bin to access it</p>"},{"location":"security/standard-operating-procedures/#step-5_21","title":"Step 5","text":"<p>Within the Recycle bin or Second-stage recycle bin files can be restored by clicking on them then clicking Restore from the ribbon</p>"},{"location":"security/standard-operating-procedures/#step-6_18","title":"Step 6","text":"<p>This will restore the file to its original location, including files restored from the Second-stage recycle bin</p>"},{"location":"security/standard-operating-procedures/#sharepoint-data-restoration","title":"SharePoint data restoration","text":"<p>Data saved to SharePoint Online is saved indefinitely, if data is deleted however it can be restored by simply following the steps below. </p> <p>Note: Teams data resides within a SharePoint site on the back-end, as such, this method can be used to restore Teams data as well as general SharePoint Online data.</p>"},{"location":"security/standard-operating-procedures/#step-1_27","title":"Step 1","text":"<p>Log into SharePoint Online through the web interface by visiting the Office 365 portal (www.office.com) then clicking on SharePoint</p>"},{"location":"security/standard-operating-procedures/#step-2_27","title":"Step 2","text":"<p>Click on the Site you wish to restore data to, in this example, it will be Digital Transformation Agency</p>"},{"location":"security/standard-operating-procedures/#step-3_27","title":"Step 3","text":"<p>From the Sites landing page, click on Recycle bin</p>"},{"location":"security/standard-operating-procedures/#step-4_25","title":"Step 4","text":"<p>Find your file, click on it, then press Restore to restore it to its original location</p>"},{"location":"security/standard-operating-procedures/#step-5_22","title":"Step 5","text":"<p>If you\u2019re unable to locate your file, check the Second-stage recycle bin by following the link at the bottom of the page.</p>"},{"location":"security/standard-operating-procedures/#mail-restoration","title":"Mail restoration","text":"<p>The following sections detail how to restore archived data from the Outlook desktop and web applications.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_9","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure and Office 365. </li> </ul>"},{"location":"security/standard-operating-procedures/#restore-mail-from-archive-desktop","title":"Restore mail from archive (desktop)","text":"<p>If mail is Archived within the Outlook desktop application, it will initially appear within the Archive folder and can be restored by following the steps below.</p>"},{"location":"security/standard-operating-procedures/#step-1_28","title":"Step 1","text":"<p>Navigate to the Archive folder and select the email to be restored.</p>"},{"location":"security/standard-operating-procedures/#step-2_28","title":"Step 2","text":"<p>Drag and drop the mail item from the right-hand pane to the destination folder, in this example the item is being restored to the Inbox</p>"},{"location":"security/standard-operating-procedures/#step-3_28","title":"Step 3","text":"<p>Alternatively, the item can be right clicked, then moved via the Move option.</p>"},{"location":"security/standard-operating-procedures/#restore-mail-from-archive-web-application","title":"Restore mail from archive (web application)","text":"<p>If mail is Archived within the Outlook Web application, it will initially appear within the Archive folder and can be restored by following the steps below.</p>"},{"location":"security/standard-operating-procedures/#step-1_29","title":"Step 1","text":"<p>Within the Outlook Web Application, navigate to the Archive folder</p>"},{"location":"security/standard-operating-procedures/#step-2_29","title":"Step 2","text":"<p>Drag and drop the mail item from the right-hand pane to the destination folder, in this example the item is being restored to the Inbox</p>"},{"location":"security/standard-operating-procedures/#step-3_29","title":"Step 3","text":"<p>Alternatively, the item can be right clicked, then moved via the Move option.</p>"},{"location":"security/standard-operating-procedures/#release-mail-from-quarantine-user","title":"Release mail from quarantine (user)","text":"<p>If a message has been quarantined from Outlook a user will be able to release certain types of types depending why it was quarantined. Typically, a user will be able release a message if it has been tagged as spam or bulk email.</p> <p>Any messages being released from quarantine should be reviewed to ensure that they are not malicious.</p>"},{"location":"security/standard-operating-procedures/#step-1_30","title":"Step 1","text":"<p>Navigate to the Security &amp; Compliance Center (https://protection.office.com) then click on Threat management then Review</p>"},{"location":"security/standard-operating-procedures/#step-2_30","title":"Step 2","text":"<p>Select Quarantine which will list any quarantined messages</p>"},{"location":"security/standard-operating-procedures/#step-3_30","title":"Step 3","text":"<p>Select the individual message which will list the information on the message</p> <p>From here the message can be Released, Previewed or Removed</p> <p>When ready select Release message</p> <p>Note: Bulk messages up to 100 at a time can be selected here with bulk actions to release or remove available</p>"},{"location":"security/standard-operating-procedures/#step-4_26","title":"Step 4","text":"<p>The Release messages &amp; report them to Microsoft confirmation screen will be presented.</p> <p>Validate the details and select Release message</p>"},{"location":"security/standard-operating-procedures/#step-5_23","title":"Step 5","text":"<p>The message may take a few minutes to be release successfully after which a confirmation will be displayed</p> <p>Select Done</p>"},{"location":"security/standard-operating-procedures/#step-6_19","title":"Step 6","text":"<p>The message should now be delivered to the user\u2019s mailbox</p>"},{"location":"security/standard-operating-procedures/#release-mail-from-quarantine-admin","title":"Release mail from quarantine (admin)","text":"<p>If a message has been quarantined from Outlook and the user is unable to release the message, an Admin will be able to release all types of messages on behalf of the user. The process to release the message is identical to the user process, however the admin also has other options available to them to download or submit the message, as well as options to release to other users.</p>"},{"location":"security/standard-operating-procedures/#step-1_31","title":"Step 1","text":"<p>Navigate to the Security &amp; Compliance Center (https://protection.office.com) then click on Threat management then Review</p>"},{"location":"security/standard-operating-procedures/#step-2_31","title":"Step 2","text":"<p>Select Quarantine which will list any quarantined messages</p>"},{"location":"security/standard-operating-procedures/#step-3_31","title":"Step 3","text":"<p>Select the individual message which will list the information on the message</p> <p>From here the message can be Released, Previewed, Removed, Downloaded or Submitted</p> <p>When ready select Release message</p> <p>Note: Bulk messages up to 100 at a time can be selected here with bulk actions to release or remove available</p>"},{"location":"security/standard-operating-procedures/#step-4_27","title":"Step 4","text":"<p>The Release messages &amp; report them to Microsoft confirmation screen will be presented.</p> <p>Validate the details and select Release message</p>"},{"location":"security/standard-operating-procedures/#step-5_24","title":"Step 5","text":"<p>The message may take a few minutes to be release successfully after which a confirmation will be displayed</p> <p>Select Done</p>"},{"location":"security/standard-operating-procedures/#step-6_20","title":"Step 6","text":"<p>The message should now be delivered to the user\u2019s mailbox</p>"},{"location":"security/standard-operating-procedures/#data-loss-prevention","title":"Data loss prevention","text":"<p>Within the Microsoft 365 Compliance Center, Data Loss Prevention (DLP) policies can be configured to identify and protect Agency data and other sensitive information. DLP can be configured for multiple applications, such as:</p> <ul> <li>Exchange Online,</li> <li>SharePoint Online,</li> <li>OneDrive for Business, and</li> <li>Microsoft Teams.</li> </ul> <p>The following sections describe how to maintain and manage DLP and its policies, including the creation of new policies.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_10","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met: </p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has:</li> <li>certification and/or experience with Office 365 and Microsoft Azure, and </li> <li>Identified their sensitive info types, classification labels/types, and retention labels.</li> </ul>"},{"location":"security/standard-operating-procedures/#implement-new-policy","title":"Implement new policy","text":"<p>The following describes how to implement a new DLP policy.</p> <p>This example describes the scenario where an Agency wants to implement a DLP rule to prevent emails or other information containing Australian driver\u2019s license numbers is not shared with unauthorised users.</p>"},{"location":"security/standard-operating-procedures/#step-1_32","title":"Step 1","text":"<p>Open an internet browser and navigate to the Microsoft 365 Compliance Center.</p> <p>https://compliance.microsoft.com/</p>"},{"location":"security/standard-operating-procedures/#step-2_32","title":"Step 2","text":"<p>In the left-hand pane, click Policies</p>"},{"location":"security/standard-operating-procedures/#step-3_32","title":"Step 3","text":"<p>Within the Policies window, click on Data loss prevention</p>"},{"location":"security/standard-operating-procedures/#step-4_28","title":"Step 4","text":"<p>Within the Data loss prevention window, click Create policy</p>"},{"location":"security/standard-operating-procedures/#step-5_25","title":"Step 5","text":"<p>Click Next</p>"},{"location":"security/standard-operating-procedures/#step-6_21","title":"Step 6","text":"<p>On the Name your policy page, enter a Name and Description. Enter as detailed a description as possible.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-7_13","title":"Step 7","text":"<p>On the Choose locations page, select the relevant radio button based on what the policy is protecting.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-8_9","title":"Step 8","text":"<p>On the Customize the type of content you want to protect page, select the content type you wish to protect and where it is protected from.</p> <p>In this example we are detecting Australian Driver\u2019s Licence Numbers when shared outside of the organisation.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-9_6","title":"Step 9","text":"<p>Select the appropriate settings on the next page as relevant to your policy.</p> <p>When complete press Next</p>"},{"location":"security/standard-operating-procedures/#step-10_6","title":"Step 10","text":"<p>If prompted to customise access and override permissions, do so as appropriate</p>"},{"location":"security/standard-operating-procedures/#step-11_3","title":"Step 11","text":"<p>When prompted to turn the policy on, or test first, it is suggested to always test policies first \u2013 as such, select I\u2019d like to test it out first then press Next</p>"},{"location":"security/standard-operating-procedures/#step-12_1","title":"Step 12","text":"<p>Review your settings, if they all look correct, click Create</p>"},{"location":"security/standard-operating-procedures/#step-13_1","title":"Step 13","text":"<p>Allow some time for the policy to run.</p>"},{"location":"security/standard-operating-procedures/#modify-existing-policy","title":"Modify existing policy","text":"<p>The following describes the steps required to modify an existing DLP policy within the Microsoft 365 Compliance Center.</p> <p>The default DLP settings provided by the CloudSystem should not be modified without fully understanding the security and operational consequence of the change.</p>"},{"location":"security/standard-operating-procedures/#step-1_33","title":"Step 1","text":"<p>Open an internet browser and navigate to the Microsoft 365 Compliance Center.</p> <p>https://compliance.microsoft.com/</p>"},{"location":"security/standard-operating-procedures/#step-2_33","title":"Step 2","text":"<p>In the left-hand pane, click Policies</p>"},{"location":"security/standard-operating-procedures/#step-3_33","title":"Step 3","text":"<p>Within the Policies window, click on Data loss prevention</p>"},{"location":"security/standard-operating-procedures/#step-4_29","title":"Step 4","text":"<p>Within the Data loss prevention screen identify the policy you wish to modify, tick the radio button on its left, then click Edit policy</p>"},{"location":"security/standard-operating-procedures/#step-5_26","title":"Step 5","text":"<p>When the editing pane shows up, make the required changes then press Save</p>"},{"location":"security/standard-operating-procedures/#bitlocker-recovery","title":"BitLocker recovery","text":"<p>BitLocker drive encryption is applied to all Agency devices upon first login via a set of pre-defined Microsoft Endpoint Manager policies. BitLocker drive encryption is a data protection feature that integrates with the operating system and addresses the threats of data theft or exposure from lost, stolen, or inappropriately decommissioned devices.</p>"},{"location":"security/standard-operating-procedures/#prerequisites_11","title":"Prerequisites","text":"<p>Before completing the procedures detailed in this document, the following prerequisites should be met:</p> <ul> <li>It is recommended that the reader/administrator performing the procedures in the document has certification and/or experience with Microsoft Azure.</li> <li>The appropriate permissions within Microsoft Endpoint Manager.</li> <li>The ID/asset number of the device in question.</li> <li>Physical or phone contact with the owner of the endpoint device that requires the recovery key.</li> <li>Positive confirmation that the owner of the device using agency processes for identity verification.</li> </ul>"},{"location":"security/standard-operating-procedures/#locate-bitlocker-recovery-key","title":"Locate BitLocker recovery key","text":"<p>The following describes how to locate a BitLocker recovery key.</p>"},{"location":"security/standard-operating-procedures/#step-1_34","title":"Step 1","text":"<p>Navigate to the Microsoft Endpoint Manager (https://endpoint.microsoft.com) then click on Devices</p>"},{"location":"security/standard-operating-procedures/#step-2_34","title":"Step 2","text":"<p>Within Devices click on All devices</p>"},{"location":"security/standard-operating-procedures/#step-3_34","title":"Step 3","text":"<p>Identify the device in question, or use the search bar to find it via the device ID, Asset number, or device name</p>"},{"location":"security/standard-operating-procedures/#step-4_30","title":"Step 4","text":"<p>Select Recovery keys</p>"},{"location":"security/standard-operating-procedures/#step-5_27","title":"Step 5","text":"<p>Provide the BitLocker Recovery Key to the user, or enter into the device that requires it</p>"},{"location":"security/system-security-plan/","title":"System security plan","text":""},{"location":"security/system-security-plan/#system-security-plan","title":"System security plan","text":"<p>59 minutes to read - 30 March 2023</p>"},{"location":"security/system-security-plan/#introduction","title":"Introduction","text":""},{"location":"security/system-security-plan/#system-name","title":"System name","text":"<p>CloudSystem.</p>"},{"location":"security/system-security-plan/#system-overview","title":"System overview","text":"<p>The CloudSystem leverages the Information Security Registered Assessors Program (IRAP) assessed Microsoft Azure and Office 365 platforms and their associated services. The CloudSystem includes the following components to improve the security posture of a target Agency:</p> <ul> <li>Cloud identity \u2013 Azure Active Directory (Azure AD) configuration including Conditional Access policies allowing log in from anywhere and appropriate security policies to be applied.</li> <li>Office 365 \u2013 Configuration of Exchange Online, SharePoint Online, OneDrive for Business, Microsoft Teams, Microsoft Forms, Microsoft Whiteboard, and Microsoft Planner allowing cloud-based file storage and collaboration.</li> <li>Device management \u2013 Management of security and configuration profiles for enrolled devices including the testing against security baselines and confirmation of security compliance. </li> <li>Applications \u2013 Delivery and configuration of applications appropriate to the user.</li> <li>Security stack \u2013 Security configuration of Office 365 and endpoint devices to maximise compliance and minimise risk.</li> <li>Autopilot deployment \u2013 Configuration of Autopilot to allow for automated deployment (and redeployment when required) of devices with no user interaction.</li> <li>Support \u2013 A flexible support model where system administration and Role-Based Access Control (RBAC) is provided regardless of whether the support is carried out by in house staff, third party contractors or a managed service provider.</li> </ul>"},{"location":"security/system-security-plan/#system-classification","title":"System classification","text":"<p>The CloudSystem is designed to be able to achieve and maintain security accreditation up to PROTECTED.</p>"},{"location":"security/system-security-plan/#system-purpose-and-scope","title":"System purpose and scope","text":"<p>The CloudSystem is intended to achieve a PROTECTED standard and raise Australian Government Agencies' cyber security posture. The CloudSystem details technology and configuration settings to deploy a cloud-only Microsoft 365 solution.</p> <p>Note: The Microsoft 365 suite includes multiple products including Windows 10, Office 365 and Enterprise Mobility + Security (EM+S).</p>"},{"location":"security/system-security-plan/#system-boundary","title":"System boundary","text":"<p>The system boundary is the subscription level of the Microsoft 365 implementation. The Azure AD tenant and all Microsoft 365 components (including both Azure and Office 365 hosted services), the transport of data between the endpoint devices and cloud services, along with the endpoint devices themselves, are included within the system. Network components are not considered to be part of the system.</p> <p>As shown in the following figure, the system boundary includes:</p> <ul> <li>Microsoft 365 (including Azure and Office 365)</li> <li>Multi-Factor Authentication (MFA)</li> <li>Subscription and its management </li> <li>Azure AD tenant and its management</li> <li>Endpoints including the hardware, firmware, and the management of the endpoints </li> <li>Transport of data between the endpoints and the cloud components</li> </ul> <p>Note: This means that Transport Layer Security (TLS) would be included within the system boundary, but the network devices and mail gateway would not be included in the system boundary from a security perspective. Those items outside of the system boundary will be consumed and the existing security documentation will be utilised.</p> <p></p>"},{"location":"security/system-security-plan/#document-purpose-and-scope","title":"Document purpose and scope","text":"<p>The purpose of this System Security Plan (SSP) is to describe the security implementation of the CloudSystem, including the underlying Azure and Office 365 components that are leveraged in its deployment. This document is designed to comply with the Australian Government Information Security Manual (ISM) documentation requirements for system authorisation. </p> <p>This document is deliberately written using descriptive and explanatory language to assist an Agency to understand how the CloudSystem operates securely, the security controls it provides, and the residual controls that must be addressed by an Agency.</p> <p>For detailed information on how the CloudSystem addresses specific controls in the ISM (June 2022 update), refer to the \u2018DTA - Cloud-Only Blueprint - System Security Plan Annex (June 2022)\u2019.</p>"},{"location":"security/system-security-plan/#overarching-security-policies","title":"Overarching security policies","text":"<p>The security policies that the CloudSystem has been designed to comply with are listed below:</p> <ul> <li>The Australian Government ISM (June 2022) controls.</li> <li>The Australian Cyber Security Centre (ACSC) Strategies to Mitigate Cyber Security Incidents, including the Essential Eight Maturity Model.</li> <li>The ACSC Security Configuration Guide - Apple iOS 14 Devices (October 2021).</li> <li>The Protective Security Policy Framework (PSPF).</li> <li>Hardening Microsoft Windows 10 version 21H1 Workstation (October 2021).</li> </ul>"},{"location":"security/system-security-plan/#related-security-documentation","title":"Related security documentation","text":"<p>In accordance with the requirements of the ISM, the following security documentation has been developed for the CloudSystem:</p> <ul> <li>Blueprint \u2013 Solution Overview</li> <li>Blueprint \u2013 Client Devices Design</li> <li>Blueprint \u2013 Platform Design</li> <li>Blueprint \u2013 Office 365 Design</li> <li>Cloud-Native Blueprint \u2013 System Security Plan</li> <li>Cloud-Native Blueprint \u2013 System Security Plan (Annex)</li> <li>Cloud-Native Blueprint \u2013 Security Risk Management Plan</li> <li>Cloud-Native Blueprint \u2013 Security Standard Operating Procedures</li> <li>Cloud-Native Blueprint \u2013 Incident Response Plan</li> </ul> <p>The IRAP reports for the assessment of Azure and Office 365 at PROTECTED have also been leveraged in the development of the CloudSystem, and includes the following:</p> <ul> <li>Azure Security Fundamentals and Cloud Services IRAP Assessment Report 2021</li> <li>Office 365 Security Fundamentals and Cloud Services IRAP Assessment Report 2021</li> </ul> <p>These documents are available from the Microsoft Service Trust Portal.</p>"},{"location":"security/system-security-plan/#risk-assessment","title":"Risk assessment","text":"<p>The results of the threat and risk assessment undertaken on the CloudSystem are documented in the \u2018Cloud-Only Blueprint \u2013 Security Risk Management Plan\u2019 (SRMP). This document describes the reduction in risk to the confidentiality, integrity and availability of system components and information processed and stored by the CloudSystem by the implementation of security controls and mitigations.</p>"},{"location":"security/system-security-plan/#assessment-of-services","title":"Assessment of services","text":"<p>This section provides details of the security assessment status of each Azure and Office 365 service used by the CloudSystem as listed in their respective IRAP reports. The assessment status of each of the utilised services and any associated mitigations is shown in Table 1.</p> <p> Table 1 Assessment of Services </p> Category Service Assessment Status Mitigation General Azure Portal PROTECTED N/A Identity Services Azure AD PROTECTED N/A Identity Services Conditional Access Not Assessed Conditional Access is an Azure AD Premium P1 licenced feature of Azure AD (included in Microsoft 365 E3) that restricts access to cloud resources and management tools beyond just a successful authentication. It includes customisable policies based on location, user, device and more. Conditional Access is an additional security capability that is part of Azure AD, which is PROTECTED certified. Identity Services Azure MFA PROTECTED N/A Identity Services Azure AD Identity Protection Not Assessed Azure AD Identity Protection is an Azure AD Premium P2 licenced feature of Azure AD (included in Microsoft 365 E5) that allows organisations to accomplish three key tasks: Automate the detection and remediation of identity-based risks. Investigate risks using data in the portal.* Export risk detection data to third-party utilities for further analysis. Office 365 Exchange Online, SharePoint Online, Microsoft Teams, Microsoft Forms, Microsoft Whiteboard, Microsoft Planner PROTECTED N/A Monitoring and Compliance Intune Policies PROTECTED Microsoft Endpoint Manager - Intune (Intune) is configured to allow policies to be created and deployed to devices that configure, check for compliance and assess against a security baseline. These policies are applied and reported against in the Intune web console."},{"location":"security/system-security-plan/#section-definitions","title":"Section definitions","text":"<p>The remaining sections of this document relate specifically to the chapters of the ISM. For each chapter of the ISM there is a corresponding section in this document, which is divided into four sections as detailed below in Table 2.</p> <p> Table 2 Section Definitions </p> Section Description Applicability to CloudSystem For each chapter, the applicability relates to whether the CloudSystem provides any technical, process or documentation that need to be assessed.The CloudSystem inherits many controls from the underlying Azure and Office 365 platforms, so if a chapter is listed as Not Applicable then the Agency may or may not be required to address the control. The reason the chapter is not applicable is stated in this section and if the Agency is required to address the controls then this is listed in the Residual controls to be addressed by the Agency section. CloudSystem compliance approach The compliance approach for the CloudSystem is described in this section to provide: The background and context for how the CloudSystem addresses the controls in the chapter To provide the Agency with information to assist in the assessment of the CloudSystem Security controls provided by the CloudSystem The specific technical implementation, process or documentation that the CloudSystem provides to address the controls are listed in this section. Residual controls to be addressed by the Agency If there are any residual controls that the Agency must address in relation to the operation of the CloudSystem, then they are listed in this section."},{"location":"security/system-security-plan/#summary-of-applicability","title":"Summary of applicability","text":"<p>A summary of the applicability and responsibility for the controls presented in of each chapter of the for the CloudSystem is listed below in Table 3. Each of these chapters are discussed in further details in this document, and the implementation status of each control is listed in the SSP Annex.</p> <p> Table 3 Summary of applicability </p> ISM Chapter Applicability Rationale Guidelines for Cyber Security Roles Not Applicable Fulfilling these roles is an Agency responsibility. Guidelines for Cyber Security Incidents Not Applicable The Agency is responsible for identifying, managing and reporting cyber security incidents. Guidelines for Outsourcing Applicable Shared responsibility between the CloudSystem and the Agency consuming it. Guidelines for Security Documentation Applicable The CloudSystem provides system-specific documentation to be read in conjunction with the Agency\u2019s cyber security strategy. Guidelines for Physical Security Not Applicable The CloudSystem inherits the physical security controls which are implemented by Microsoft for Azure and Office 365 components. Guidelines for Personnel Security Applicable The CloudSystem implements technical controls to assist the Agency with managing personnel security. Guidelines for Communications Infrastructure Not Applicable The Agency is responsible for communications infrastructure leveraged by the CloudSystem. Guidelines for Communications Systems Applicable The CloudSystem includes Microsoft Teams which provides video conferencing functionality. Guidelines for Enterprise Mobility Applicable The CloudSystem includes the management and use of mobile devices. Guidelines for Evaluated Products Applicable The CloudSystem includes Windows 10 which has been evaluated. Additionally, the CloudSystem leverages Office 365 services which include evaluated products. Guidelines for ICT Equipment Management Not Applicable The security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft. Guidelines for Media Applicable The CloudSystem is responsible for encrypting removeable media. Guidelines for System Hardening Applicable Hardening of operating systems and applications included in the CloudSystem is applicable. Guidelines for System Management Applicable Management of CloudSystem system components is applicable. Guidelines for System Monitoring Applicable Monitoring of CloudSystem system components is applicable. Guidelines for Software Development Not Applicable The CloudSystem is not designed to support software development activities. Guidelines for Database Systems Not Applicable The CloudSystem does not include the use of databases. Guidelines for Email Applicable The CloudSystem leverages Office 365 to provide email functionality. Guidelines for Networking Applicable The CloudSystem is designed to run using the public internet and implements controls on the endpoint devices and the Office 365 component. Guidelines for Cryptography Applicable The CloudSystem makes use of cryptography to protect both data at rest and data in transit. Guidelines for Gateways Applicable The CloudSystem leverages Exchange Online Protection and Defender for Office 365 for email content filtering and Defender for Endpoint for web content filtering. Guidelines for Data Transfers Applicable The CloudSystem is responsible for implementing technical controls relating to data transfer."},{"location":"security/system-security-plan/#cyber-security-roles","title":"Cyber security roles","text":""},{"location":"security/system-security-plan/#chief-information-security-officer","title":"Chief Information Security Officer","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem","title":"Applicability to CloudSystem","text":"<p>Not applicable as appointing a Chief Information Security Officer (CISO) is an Agency\u2019s responsibility.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach","title":"CloudSystem compliance approach","text":"<p>The CloudSystem is deployed into the Agency\u2019s environment and is under the scope of the Agency\u2019s CISO.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must appoint a CISO to provide cyber security leadership and guidance.</li> <li>The Agency's CISO is responsible for all duties outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#system-owners","title":"System owners","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_1","title":"Applicability to CloudSystem","text":"<p>Not applicable as the CloudSystem does not designate a system owner. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_1","title":"CloudSystem compliance approach","text":"<p>The deployment of the CloudSystem into an Agency\u2019s environment can be designated as a specific system, or it can form part of a broader system. </p> <p>By default, the CloudSystem is defined as a system and all documentation, including this SSP, is written in that context.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_1","title":"Security controls provided by the CloudSystem","text":"<p>Not Applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_1","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must designate a System Owner for the CloudSystem.</li> <li>The System Owner must perform the relevant duties outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#cyber-security-incidents","title":"Cyber security incidents","text":""},{"location":"security/system-security-plan/#detecting-cyber-security-incidents","title":"Detecting cyber security incidents","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_2","title":"Applicability to CloudSystem","text":"<p>Not applicable to the CloudSystem as the detection of cyber security incidents is the responsibility of the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_2","title":"CloudSystem compliance approach","text":"<p>The CloudSystem implements technical controls and processes to assist the Agency with detecting cyber security incidents related to the system.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_2","title":"Security controls provided by the CloudSystem","text":"<p>The CloudSystem utilises Microsoft Defender for Endpoint and Defender for Office 365 to assist in the detection of cyber security incidents. These products are centralised into the Microsoft 365 Defender portal, which includes:</p> <ul> <li>Incidents &amp; alerts</li> <li>Hunting (including advanced hunting and custom detection rules)</li> <li>Action center</li> <li>Threat analytics</li> <li>Secure score</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_2","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must develop and implement an Intrusion Detection and Prevention Policy, which can leverage the security controls implemented by the CloudSystem and meets requirements outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#managing-cyber-security-incidents","title":"Managing cyber security incidents","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_3","title":"Applicability to CloudSystem","text":"<p>Not applicable to the CloudSystem as the management of cyber security incidents is the responsibility of the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_3","title":"CloudSystem compliance approach","text":"<p>The CloudSystem implements technical controls and processes to assist the Agency with managing cyber security incidents related to the system.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_3","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The CloudSystem utilises the Microsoft 365 Defender portal to assist in the management of cyber security incidents. Specific capabilities include the Incident queue and Action center views.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_3","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency should establish a cyber security incident register, cyber security incident communication and response strategy and associated procedures that meet requirements outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#reporting-cyber-security-incidents","title":"Reporting cyber security incidents","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_4","title":"Applicability to CloudSystem","text":"<p>Not applicable to the CloudSystem as the reporting of cyber security incidents is the responsibility of the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_4","title":"CloudSystem compliance approach","text":"<p>The reporting requirements for cyber security incidents are an Agency responsibility.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_4","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_4","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency should establish a process and standard operating procedures for reporting cyber security incidents that meet requirements outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#outsourcing","title":"Outsourcing","text":""},{"location":"security/system-security-plan/#information-technology-and-cloud-services","title":"Information technology and cloud services","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_5","title":"Applicability to CloudSystem","text":"<p>Outsourcing is applicable to the CloudSystem as it leverages both Azure and Office 365, which are cloud services.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_5","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages Microsoft Azure and Office 365, which have been IRAP assessed at PROTECTED by CyberCX. All CloudSystem services have been IRAP assessed.</p> <p>Azure AD is defined as a non-regional service, but hosts identity data in Australian datacentres for customers that provide an Australian or New Zealand address. This includes Azure AD Directory Management and Authentication functions. Other Azure AD functions, including Azure MFA, store data in global datacentres.</p> <p>Where possible the CloudSystem leverages services located in Australia, otherwise the United States is selected. Microsoft Defender for Cloud Apps is available in the United Kingdom, Europe or United States regions. If the Azure AD tenant is in Australia, then the United States is automatically selected. Microsoft Defender for Endpoint is available in Europe, United Kingdom, or in the United States. The United States is selected as part of the service creation for the CloudSystem.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_5","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Australian data locations have been selected where supported by Azure and Office 365 services leveraged by the CloudSystem. Where Australia is not available, the United States is used.</li> <li>Microsoft provides a shared responsibility model which outlines how security responsibilities are shared between itself and the Agency.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_5","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must assess, establish, manage and maintain the commercial and contractual relationship with Microsoft as the provider of the cloud services and review changes to the Microsoft IRAP assessments as they occur.</li> </ul>"},{"location":"security/system-security-plan/#shared-responsibility","title":"Shared responsibility","text":"<p>When consuming a cloud service, management of some security controls is transferred from the Agency to the Cloud Service Provider (CSP), in this case Microsoft. The level of control transferred ultimately depends on the type of services being consumed i.e. cloud native or hybrid deployment and the agreement made with Microsoft. </p> <p>Whilst responsibility for controls may be shared, Agencies must be conscious that security risk is not transferred to the service provider. It is therefore critical that Agencies understand how the sharing of responsibilities impacts system risk, and what impact it may have on their Cloud Assessment and Authorisation.</p> <p>In general, Microsoft defines themselves as being responsible for:</p> <ul> <li>Ensuring the physical systems and infrastructure required for the operation of a cloud service is secured appropriately.</li> <li>Being accountable in the event of an incident relating to the physical systems and infrastructure they manage as required for the operation of a cloud service.</li> <li>Assessing, managing and where possible mitigating risks inherent with the physical systems and infrastructure required for the operation of a cloud service.</li> </ul> <p>In the context of Software as a Service (SaaS) Protected Utility platforms, Microsoft is responsible for:</p> <ul> <li>Incident response</li> <li>Backups</li> <li>Physical security</li> <li>System hardening</li> <li>Vulnerability and patch management</li> <li>Software development</li> </ul> <p>When deploying a cloud native model, in the context of SaaS Protected Utility platforms, the Agency is responsible for:</p> <ul> <li>Access management</li> <li>System monitoring</li> <li>Client devices</li> </ul> <p>Overall, the Agency is deemed accountable for any technology platform when in use, with Microsoft responsible for some or all of the platform operational management. </p> <p>A suggested high-level shared responsibility matrix for the technology stack across the platform, Microsoft Office 365 and client devices has been tabled below. There are three defined stakeholders who share the responsibility to maintain the Agency\u2019s security capabilities.</p> <ul> <li>Agency: Australian government Agency adapting and implementing the DTA cloud native blueprint.</li> <li>Microsoft: Cloud Service Provider who provide and/or manage the defined technology platforms.</li> <li>Product Vendors: external product vendors (such as Apple for iOS) that provide or manage platforms within the Agency\u2019s ecosystem that are not performed by Microsoft. </li> </ul>"},{"location":"security/system-security-plan/#platform","title":"Platform","text":"CATEGORY ITEM INCIDENT RESPONSE BACKUPS PHYSICAL SECURITY SYSTEM HARDENING ACCESS MANAGEMENT VULNERABILITY &amp; PATCH MANAGEMENT SYSTEM MONITORING SOFTWARE DEVELOPMENT IDENTITY &amp; ACCESS MANAGEMENT AZURE ACTIVE DIRECTORY MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY MICROSOFT CLOUD APP SECURITY MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY AZURE ADVANCED THREAT PROTECTION MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY MICROSOFT DEFENDER ADVANCED THREAT PROTECTION MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY LOG ANALYTICS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT SECURITY SECURITY INFORMATION &amp; EVENT MANAGEMENT AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY CLIENT CONFIGURATION MICROSOFT ENDPOINT MANAGER - INTUNE AGENCY AGENCY MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT CLIENT CONFIGURATION PRINTING AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY BACKUP &amp; OPERATIONAL MANAGEMENT OFFICE 365 BACKUP MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT MICROSOFT MICROSOFT SYSTEM ADMINISTRATION ADMINISTRATIVE CONSOLES MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT SYSTEM ADMINISTRATION PRIVILEGED IDENTITY MANAGEMENT MICROSOFT MICROSOFT MICROSOFT AGENCY AGENCY MICROSOFT MICROSOFT MICROSOFT"},{"location":"security/system-security-plan/#office-365","title":"Office 365","text":"ITEM INCIDENT RESPONSE BACKUPS PHYSICAL SECURITY SYSTEM HARDENING ACCESS MANAGEMENT VULNERABILITY &amp; PATCH MANAGEMENT SYSTEM MONITORING SOFTWARE DEVELOPMENT EXCHANGE ONLINE MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT SHAREPOINT ONLINE MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT ONEDRIVE FOR BUSINESS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT TEAMS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT POWER BI MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT SECURITY &amp; COMPLIANCE PLATFORMS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT EXCHANGE ONLINE PROTECTION MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT OFFICE 365 ADVANCED THREAT PROTECTION MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT FORMS MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT WHITEBOARD MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT MICROSOFT PLANNER MICROSOFT MICROSOFT MICROSOFT MICROSOFT AGENCY MICROSOFT AGENCY MICROSOFT"},{"location":"security/system-security-plan/#client-devices","title":"Client devices","text":"ITEM INCIDENT RESPONSE BACKUPS PHYSICAL SECURITY SYSTEM HARDENING ACCESS MANAGEMENT VULNERABILITY &amp; PATCH MANAGEMENT SYSTEM MONITORING SOFTWARE DEVELOPMENT WINDOWS 10 \u2013 INTUNE MANAGED AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY MICROSOFT IOS \u2013 INTUNE MANAGED AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY AGENCY APPLE"},{"location":"security/system-security-plan/#security-documentation","title":"Security documentation","text":""},{"location":"security/system-security-plan/#development-and-maintenance-of-security-documentation","title":"Development and maintenance of security documentation","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_6","title":"Applicability to CloudSystem","text":"<p>Development and maintenance of security documentation is applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_6","title":"CloudSystem compliance approach","text":"<p>The CloudSystem provides security documentation that an Agency can review, approve and incorporate into the broader Agency-level security documentation.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_6","title":"Security controls provided by the CloudSystem","text":"<ul> <li>All security documentation produced by DTA for the CloudSystem has been updated within the last year and include the 'last updated' date.</li> <li>DTA provide updates to documentation via the Protected Utility website at desktop.gov.au. Release logs and change sets between versions can be obtained at GitHub.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_6","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency must develop a cyber security strategy.</li> <li>The Agency CISO or equivalent should approve all security documentation and ensure the documentation is reviewed annually.</li> <li>The Agency should communicate their security documentation to stakeholders of the CloudSystem and ensure stakeholders are notified of subsequent changes.</li> </ul>"},{"location":"security/system-security-plan/#system-specific-security-documentation","title":"System-specific security documentation","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_7","title":"Applicability to CloudSystem","text":"<p>System-specific security documentation is applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_7","title":"CloudSystem compliance approach","text":"<p>The CloudSystem includes a suite of security and operational documentation that are logically connected and consistent.</p> <p>Cloud-Only provides an SSP (this document), SSP Annex (formerly the Statement of Applicability (SoA)), SRMP, Incident Response Plan (IRP), Standard Operating Procedures (SOPs) and other operational documentation to assist in the understanding of the Cloud-Only system and the security controls included.</p> <p>A Continuous Monitoring Plan (CMP) has also been developed for the blueprint to assist Agencies with the development of their own Agency-specific CMPs.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_7","title":"Security controls provided by the CloudSystem","text":"<ul> <li>An SSP has been drafted for the CloudSystem (this document).</li> <li>A system-specific IRP has been drafted for the CloudSystem which integrates with the Agency-level IRP.</li> <li>The blueprint includes guidance to assist Agencies in developing a CMP.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_7","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing an Agency-specific CMP.</li> <li>The Agency is responsible for developing a security assessment report including a plan of action post security assessment.</li> </ul>"},{"location":"security/system-security-plan/#physical-security","title":"Physical security","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_8","title":"Applicability to CloudSystem","text":"<p>Not applicable as the CloudSystem does not contain any physical hosting components, and the security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft and is addressed in the respective IRAP reports for each service.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_8","title":"CloudSystem compliance approach","text":"<p>The CloudSystem inherits physical security controls from the underlying Azure and Office 365 platforms.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_8","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_8","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the physical security of all Agency-owned equipment, such as network devices and endpoint devices, that are utilised to connect to Azure and Office 365.</li> </ul>"},{"location":"security/system-security-plan/#personnel-security","title":"Personnel security","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_9","title":"Applicability to CloudSystem","text":"<p>Technical controls relating to personnel security are applicable to the CloudSystem. An Agency\u2019s implementation of personnel security controls should include the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_9","title":"CloudSystem compliance approach","text":"<p>The CloudSystem provides a role-based access control implementation and associated operations guide to enable an Agency to easily and securely control access, including privileged and emergency access, to Azure and Office 365 services. The CloudSystem leverages in-built authentication logging provided by the platform, and centralises logs to prevent unauthorised modification and deletion.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_9","title":"Security controls provided by the CloudSystem","text":"<ul> <li>All unprivileged access attempts are logged in Azure AD Sign-ins. Azure AD logs are forwarded to a Log Analytics workspace for long-term secure retention.</li> <li>Intune configures an AppLocker blocklist to prevent administrators from launching web browsers and email clients.</li> <li>The CloudSystem leverages Azure AD Privileged Identity Management (PIM) to provide Just-in-time administration.</li> <li>Changes to privileged accounts and groups are logged in the Azure AD Audit Log.</li> <li>Azure AD logs are forwarded to a Log Analytics workspace for long-term secure retention.</li> <li>The CloudSystem includes automation to disable inactive Azure AD accounts after 45 days.</li> <li>Microsoft Defender for Cloud Apps policy monitoring is implemented to monitor activity of break glass accounts. The use of break glass accounts are also logged in Azure AD Sign-ins. </li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_9","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for ensuring that personnel undergo pre-employment checks and hold the appropriate level of security clearance, as well as providing cyber security awareness training to staff and contractors.</li> <li>The Agency is responsible establishing processes for the creation, maintenance and decommissioning of accounts created within the system in accordance with the controls within the annex.</li> <li>The Agency is responsible for documenting and testing emergency access procedures. </li> <li>The Agency is responsible for monitoring and actioning cyber security events that are centralised to Log Analytics.</li> </ul>"},{"location":"security/system-security-plan/#communications-infrastructure","title":"Communications infrastructure","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_10","title":"Applicability to CloudSystem","text":"<p>Not applicable as the CloudSystem does not contain any communications infrastructure, and the security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft and is addressed in the respective IRAP reports for Azure and Office 365.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_10","title":"CloudSystem compliance approach","text":"<p>The CloudSystem inherits communications infrastructure controls from the underlying Azure and Office 365 platforms.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_10","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_10","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the Agency-owned communication infrastructure utilised to connect to Azure and Office 365.</li> </ul>"},{"location":"security/system-security-plan/#communications-systems","title":"Communications systems","text":""},{"location":"security/system-security-plan/#telephone-systems","title":"Telephone Systems","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_11","title":"Applicability to CloudSystem","text":"<p>This section is not applicable as the CloudSystem does not include telephone systems.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_11","title":"CloudSystem compliance approach","text":"<p>Not Applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_11","title":"Security controls provided by the CloudSystem","text":"<p>Not Applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_11","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#video-conferencing-and-ip-telephony","title":"Video Conferencing and IP telephony","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_12","title":"Applicability to CloudSystem","text":"<p>This section is applicable as the CloudSystem contains Microsoft Teams which provides video conferencing functionality.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_12","title":"CloudSystem compliance approach","text":"<p>The CloudSystem inherits the security controls Microsoft have implemented for Microsoft Teams as assessed in the Office 365 IRAP report.</p> <p>The Annex specifies the controls associated with the self-contained use of Microsoft Teams up to the level of PROTECTED. As per the Office 365 design, Agencies have the ability to connect Teams to the Telstra Calling for Office 365 service to allow calling between Teams and traditional telephones. Agencies wishing to use Telstra Calling for Office 365 or another similar services should undertake a security assessment to ensure that the product addresses their security requirements.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_12","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Microsoft Teams signalling data is encrypted.</li> <li>Secure signalling and data protocols are used by Microsoft Teams including Session Initiation Protocol (SIP) and Secure Real Time Protocol (SRTP).</li> <li>Microsoft Teams leverages Azure AD for authentication.</li> <li>Microsoft Teams has a dedicated Virtual Local Area Network (VLAN) within the Microsoft cloud.</li> <li>Microsoft Teams leverages Azure's Distributed Denial of Service (DDoS) protection capabilities.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_12","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all gateway configurations.</li> </ul>"},{"location":"security/system-security-plan/#fax-machines-and-multifunction-devices","title":"Fax machines and multifunction devices","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_13","title":"Applicability to CloudSystem","text":"<p>This section is not applicable as the CloudSystem does not include fax machines or multifunction devices.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_13","title":"CloudSystem compliance approach","text":"<p>Not Applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_13","title":"Security controls provided by the CloudSystem","text":"<p>Not Applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_13","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the use and management of any fax machines and Multifunction Devices (MFDs) that are used with the CloudSystem.</li> </ul>"},{"location":"security/system-security-plan/#enterprise-mobility","title":"Enterprise mobility","text":""},{"location":"security/system-security-plan/#mobile-device-management","title":"Mobile device management","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_14","title":"Applicability to CloudSystem","text":"<p>This section is applicable as the CloudSystem includes mobile devices.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_14","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages Microsoft Endpoint Manager - Intune (Intune) to provide both Mobile Device Management (MDM) and Mobile Application Management (MAM) controls to protect mobile devices and data stored on them. Both Windows laptops and iOS devices will be enrolled within Intune and tagged as Corporate devices, allowing policies to be centrally managed and deployed. This includes configuring storage encryption, disabling unneeded features and controlling application behaviour.</p> <p>The CloudSystem does not include the use of privately-owned mobile devices. Only Agency-owned devices are enrolled and allowed to access data.</p> <p>iOS devices are hardened in accordance with the ACSC \u2018Security Configuration Guide - Apple iOS 14 Devices\u2019 and Information Security Manual (ISM) with specific deviations to maximise usability for the target users as described below. Note: Agencies should do a risk assessment before deciding to change settings relating to mobile devices.</p> <p>Bluetooth is enabled as it allows users to pair devices they may require to perform their duties (e.g. conference calls or online meetings).</p> <p>Users can reset certain security settings in Personal Hotspot and Passcode for situations where the passcode/password may have been compromised. </p> <p>The CloudSystem does not include the use of a full VPN on mobile devices, and therefore a direct connection to the internet is used. It is recommended Agencies consider implementing a VPN for mobile devices in accordance with the ACSC's recommendation for iOS devices. The blueprint includes suggested per app VPN configuration, however the selection and configuration of a VPN server is the responsibility of the Agency.</p> <p>Applications are installed from the App Store using the Volume Purchasing Program (VPP) tokens through Apple Business Manager Enrollment. This provides application control for iOS mobile devices, and removes the need for users having to install applications from the App Store through an Apple ID.</p> <p>The risk of non-compliance with controls relating to iOS devices is addressed in the \u2018Cloud-Native Blueprint - Security Risk Management Plan\u2019 at R17.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_14","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Microsoft Intune provides MDM and MAM capability.</li> <li>The CloudSystem provides Windows 10 for laptops which is hardened in accordance with ACSC guidance. The CloudSystem also provides MDM for iOS but does not fully implement ACSC's guidance for PROTECTED.</li> <li>Microsoft BitLocker provides full disk encryption of CloudSystem mobile devices, implementing Advanced Encryption Standard (AES)-256. Additionally, iOS devices implement AES-256 encryption by default.</li> <li>All information transmitted to and from mobile devices and Office 365 is encrypted.</li> <li>Bluetooth device type allow lists are configured on Windows 10 devices. Bluetooth is not managed for iOS devices.</li> <li>CloudSystem standard users do not have sufficient permissions to install or uninstall applications on Windows 10 devices. Standard users can install and uninstall applications on iOS devices via the App Store.</li> <li>Intune will monitor and report installed iOS applications on any company-owned device.</li> <li>CloudSystem standard users do not have sufficient permissions to modify security functions on Windows 10 devices. Standard users can modify security functions on iOS devices.</li> <li>Apple provides timely security updates for iOS devices.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_14","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing a mobile device management policy in relation to the CloudSystem that meets requirements outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#mobile-device-usage","title":"Mobile device usage","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_15","title":"Applicability to CloudSystem","text":"<p>This section is applicable as the CloudSystem may contain mobile devices.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_15","title":"CloudSystem compliance approach","text":"<p>The CloudSystem is reliant on the Agency to development and enforce a mobile device usage policy which include mobiles devices that are enrolled into the CloudSystem.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_15","title":"Security controls provided by the CloudSystem","text":"<p>Not Applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_15","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing and enforcing a mobile device usage policy in relation to the CloudSystem that meets requirements outlined in the Annex.</li> </ul>"},{"location":"security/system-security-plan/#evaluated-products","title":"Evaluated products","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_16","title":"Applicability to CloudSystem","text":"<p>The CloudSystem includes Windows 10 which has been evaluated and therefore the controls relating to evaluated products are applicable to the CloudSystem. No high assurance products are used by the CloudSystem, Azure or Office 365.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_16","title":"CloudSystem compliance approach","text":"<p>A Protection Profile (PP) evaluation has been performed on Windows 10 and Microsoft publish deployment and administration guides for each evaluated operating system. The CloudSystem implements the recommendations for the latest evaluated version of Windows 10 (2004). This includes sourcing installation media directly from Microsoft and implementing configuration hardening.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_16","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The CloudSystem includes Windows 10 which has been evaluated against the relevant Protection Profile.</li> <li>Windows 10 installation media is sourced directly from Microsoft in accordance with the evaluated delivery procedures.</li> <li>Windows 10 is managed by Microsoft Endpoint Manager (Intune) in accordance with the published guidance from Microsoft as well the ACSC's hardening guide for Windows 10.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_16","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for any evaluated products if they are implemented as part of network connectivity to Azure and Office 365.</li> </ul>"},{"location":"security/system-security-plan/#ict-equipment-management","title":"ICT equipment management","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_17","title":"Applicability to CloudSystem","text":"<p>The security of the Azure and Office 365 hosting equipment is the responsibility of Microsoft and is addressed in the respective IRAP reports for Azure and Office 365.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_17","title":"CloudSystem compliance approach","text":"<p>The CloudSystem inherits ICT equipment controls from the underlying Azure and Office 365 platforms.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_17","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_17","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the implementation of controls relating to ICT equipment management based on their deployment of the CloudSystem.</li> </ul>"},{"location":"security/system-security-plan/#media-management","title":"Media management","text":""},{"location":"security/system-security-plan/#media-usage","title":"Media usage","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_18","title":"Applicability to CloudSystem","text":"<p>This section is applicable as removable media may be connected to CloudSystem endpoints.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_18","title":"CloudSystem compliance approach","text":"<p>The CloudSystem implements technical controls to protect the confidentiality and integrity of data written to removeable media devices that may be connected to CloudSystem endpoints.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_18","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Removable media is encrypted via BitLocker using AES-256.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_18","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for implementing controls relating to media management if media is connected to the CloudSystem.</li> </ul>"},{"location":"security/system-security-plan/#media-sanitisation","title":"Media sanitisation","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_19","title":"Applicability to CloudSystem","text":"<p>The controls relating to the sanitisation of media are not applicable to the CloudSystem and are instead the responsibility of the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_19","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_19","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_19","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management, including sanitisation, of media connected to CloudSystem endpoints.</li> </ul>"},{"location":"security/system-security-plan/#media-destruction","title":"Media destruction","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_20","title":"Applicability to CloudSystem","text":"<p>The controls relating to the destruction of media are not applicable to the CloudSystem and are instead the responsibility of the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_20","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_20","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_20","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management, including destruction, of media connected to CloudSystem endpoints.</li> </ul>"},{"location":"security/system-security-plan/#media-disposal","title":"Media disposal","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_21","title":"Applicability to CloudSystem","text":"<p>The controls relating to the disposal of media are not applicable to the CloudSystem and are instead the responsibility of the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_21","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_21","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_21","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management, including disposal, of media connected to CloudSystem endpoints.</li> </ul>"},{"location":"security/system-security-plan/#system-hardening","title":"System hardening","text":""},{"location":"security/system-security-plan/#operating-system-hardening","title":"Operating system hardening","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_22","title":"Applicability to CloudSystem","text":"<p>Operating system hardening is applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_22","title":"CloudSystem compliance approach","text":"<p>The CloudSystem will utilise Windows 10 as the endpoint operating system, provided by the Original Equipment Manufacturer (OEM), and then use the Software Updates component of Microsoft Endpoint Manager to maintain the latest version of the operating system.</p> <p>The CloudSystem will harden the operating system configuration using Intune policies to implement ACSC and vendor guidance. These Intune policies achieve the results that would traditionally be performed by Group Policy. Local administrator accounts and guest accounts will be disabled and renamed via Intune policy.</p> <p>The potential attack surface will be minimised by only including required components and apps, removing and disabling the components that aren\u2019t needed. Standard users will be prevented from running all script execution engines. The CloudSystem will install applications via Intune and not allow standard users the ability to install applications.</p> <p>Available firmware security controls are configured to protect Windows 10 devices from boot time threats. This includes Early Launch Antimalware (ELAM), Secure Boot and Trusted Boot. Measured boot is not configured as it requires an attestation server that is not in scope of the blueprint.</p> <p>The CloudSystem will use Windows Defender Application Control (WDAC) to perform application control. WDAC is the latest capability from Microsoft for application control and works in a very similar manner to AppLocker. In addition to the enforceable file types available from AppLocker, WDAC also supports driver files (.sys), and kernel mode policies as well as user mode enforcement.</p> <p>Enhanced Mitigation Experience Toolkit (EMET) is not supported by the latest release of Windows 10 and all functionality of EMET has been incorporated into Windows Defender Exploit Guard which is fully configured.</p> <p>PowerShell hardening and logging is configured via Intune for the Windows 10 SOE. As the blueprint does not include Public Key Infrastructure (PKI) the Protected Event Logging feature for PowerShell is not included. </p> <p>Windows Defender Firewall is enabled as part of the CloudSystem Windows 10 Standard Operating Environment (SOE) and configured by Intune policies. Windows Defender Antivirus and Microsoft Defender for Endpoint provide antivirus including signature, reputation and heuristic-based detection. Controlled folder access is also enabled to provide additional ransomware protection.</p> <p>Scanning frequency for both quick scans and full scans is determined by the policies and occurs for fixed and removable drives.</p> <p>Endpoint Device Control will be configured by Intune policies restricting usage to only permitted devices. This includes disabling Direct Memory Access (DMA).</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_22","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Microsoft have made a commit to support Windows 10 and provide security updates in accordance with the document lifecycle for the operating system.</li> <li>Windows 10 Semi-Annual Channel (SAC) is used as the SOE for the CloudSystem.</li> <li>The 64-bit version of Windows 10 is used as the SOE for the CloudSystem.</li> <li>The Windows 10 SOE has been hardened in accordance with ACSC 'Hardening Microsoft Windows 10 version 21H1 Workstations' guidance.</li> <li>Only required software and components are included in the SOE. Default accounts are disabled.</li> <li>The default administrator and guest accounts have been disabled and renamed.</li> <li>Autorun is disabled for removable media via Intune policies.</li> <li>Internet Explorer 11 is disabled as part of the Windows 10 SOE.</li> <li>.NET Framework 3.5 and any previous versions are disabled as part of the Windows 10 SOE.</li> <li>The 'Exploit protection' feature is enabled as part of the CloudSystem Windows 10 SOE.</li> <li>ELAM, Secure Boot and Trusted Boot are enabled as part of the Windows 10 SOE.</li> <li>CloudSystem standard users do not have sufficient permissions to modify security functions on Windows 10 devices.</li> <li>A combination of WDAC and AppLocker policies prevent the use of script execution engines.</li> <li>Standard (unprivileged) users do not have sufficient permissions to install or uninstall applications on Windows 10 devices.</li> <li>WDAC provides application control functionality. A combination of hash, publisher certificate and path rules will be used by WDAC for control of applications. Both publisher and product names are used by WDAC for control of applications. WDAC writes to the local event log. Standard users cannot disable application control within the system.</li> <li>File permissions prevent standard users from writing to locations that are whitelisted using path rules.</li> <li>Microsoft recommended block rules and Microsoft recommended driver block rules to prevent known WDAC bypasses are implemented.</li> <li>PowerShell v2 is disabled in the Windows 10 SOE.</li> <li>PowerShell is configured to run in Constrained Language Mode (CLM).</li> <li>PowerShell logging is enabled as per the ACSC Windows 10 hardening guide.</li> <li>Microsoft Defender Exploit Guard and Defender for Endpoint provide HIPS functionality as part of the CloudSystem Windows 10 SOE.</li> <li>Windows Defender Firewall is enabled as part of the CloudSystem Windows 10 SOE.</li> <li>Microsoft Defender Antivirus and Defender for Endpoint provide antivirus including signature and heuristic-based detection. Virus definitions are set to automatically update. Controlled folder access (ransomware protection) is also configured.  </li> <li>Intune provides device access control by DeviceID or Device Class.</li> <li>Only authorised devices in Intune policies can be connected. Unauthorised devices will not be mounted to the operating system.</li> <li>External connections relying on DMA will be disabled via Intune policies.</li> <li>Defender for Endpoint centrally stores Endpoint Detection and Response (EDR) logs for all Windows 10 blueprint devices.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_22","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>Where Agencies utilise a SOE developed by third parties, the Agency must ensure that the SOE is scanned for malicious content and configurations before being used and that the design is reviewed and updated at least annually.</li> <li>The Agency must validate cryptographic hash rules, publisher certificate rules and path rules used for application control at least annually.</li> <li>The Agency is responsible for collecting and storing WDAC and PowerShell logs in a centralised logging facility/SIEM as this capability is not included in the blueprint.</li> <li>The Agency is responsible for configuration of Protected Event Logging functionality if required.</li> <li>The Agency is responsible for monitoring and actioning cyber security events from the EDR logs.</li> </ul>"},{"location":"security/system-security-plan/#application-hardening","title":"Application hardening","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_23","title":"Applicability to CloudSystem","text":"<p>Application hardening is applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_23","title":"CloudSystem compliance approach","text":"<p>The CloudSystem compliance approach is to select native cloud capabilities that are hardened and maintained as part of the service.</p> <p>The CloudSystem utilises the Monthly Enterprise channel of Office to ensure the latest versions of software are used. Where third party applications are used these are also targeted at the most recent versions. Software update policies are configured to update plugins, browsers and applications regularly ensuring endpoints are using most recent versions.</p> <p>ACSC guidance has been incorporated into the applications to harden the configuration and remove unneeded features, including the hardening guide for Office 365.</p> <p>Web browsers are configured to block Flash content and Java content by the Intune policies. Neither Flash nor Java is included in the Windows 10 SOE. Native Microsoft Edge advertisement blocking is enabled. The blueprint recommends Agencies deploy a third-party add-on to provide further advertisement blocking.</p> <p>Office macros sourced from the internet are blocked and only signed macros will be allowed to execute. Additional macro controls are configured in the Attack Surface Rules configuration controlled by Intune. Users are not able to change macro settings.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_23","title":"Security controls provided by the CloudSystem","text":"<ul> <li>All applications are supplied by Microsoft which has made a commitment to secure development. The CloudSystem does not include any third-party applications.</li> <li>The latest version of Microsoft Office 365 and Microsoft Edge are installed. No third-party applications are installed.</li> <li>ACSC guidance has been implemented to harden Office and built-in web browsers.</li> <li>Unrequired functionality, such as Microsoft Access, has been removed.</li> <li>The Windows 10 SOE restricts the use of add-ons to only those deployed via Intune.</li> <li>The Windows 10 SOE does not include Java.</li> <li>Native Microsoft Edge advertisement blocking is enabled. </li> <li>Internet Explorer 11 is disabled as part of the Windows 10 SOE.</li> <li>Attack Surface Reduction rules are configured for Microsoft Office in accordance with the ACSC hardening guides for Windows 10 and Office 365.</li> <li>Object Linking and Embedding (OLE) is blocked for Microsoft Office.</li> <li>Only Office macros that have been digitally signed by a trusted publisher can execute.</li> <li>All macros downloaded from the internet are disabled.</li> <li>Antivirus scanning is enabled for Office macros.</li> <li>Users cannot change macro settings.</li> <li>Defender for Endpoint centrally stores EDR logs for all Windows 10 blueprint devices.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_23","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for hardening any third-party browsers (e.g. Google Chrome) that are deployed to CloudSystem endpoints. The United Kingdom Government provides guidance on hardening Chrome specifically which Agencies may choose to follow.</li> <li>The Agency is responsible for reviewing EDR logs in relation to macro executions.</li> </ul>"},{"location":"security/system-security-plan/#authentication-hardening","title":"Authentication hardening","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_24","title":"Applicability to CloudSystem","text":"<p>The authentication hardening section is applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_24","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages Azure AD for controlling system access. All technical capabilities that the CloudSystem performs are completed through Application and Service Principal objects in Azure AD, which utilise certificate-based authentication.</p> <p>The CloudSystem utilises RBAC, automation and policy controls to restrict access to modify any of the functional capabilities provided by the CloudSystem. The CloudSystem also provides auditing and alerting on attempted or successful modifications of CloudSystem capabilities. </p> <p>The CloudSystem provides security controls and an identity management framework that can be utilised to manage system access for systems deployed within the CloudSystem. The CloudSystem enforces multi-factor authentication through Conditional Access policies, creates recovery (emergency access) accounts for maintaining access to resources and enforces password policies for accounts created directly in Azure AD. The CloudSystem uses a soft-token - the Microsoft Authenticator app - to reduce the need for purchase, distribution and management of hard-tokens.</p> <p>The Microsoft Authenticator app cannot be centrally managed to require the enforcement of a PIN or biometric unlock. It is also not currently considered verifier impersonation resistant.</p> <p>The Protected User security group is not available in Azure AD and is therefore not used by the CloudSystem.</p> <p>The CloudSystem utilises Azure AD to store groups utilised for RBAC and provides process and administration documentation for managing access to Azure resources.</p> <p>To minimise potential user impact, Windows 10 laptops are not rebooted daily. Instead, automatic reboots are only performed as part of automated patching.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_24","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Azure AD is configured to require all users to be authenticated before granting access.</li> <li>Azure MFA is enforced for all standard and privileged users accessing M365 services.</li> <li>MFA requires Azure AD password and Microsoft Authenticator app (either acceptance of push notification or entry of OTP).</li> <li>Azure AD password complexity enforces a minimum character length of 8 characters.</li> <li>None of the authentication factors on their own can be used for single-factor authentication to another system.</li> <li>All authentication attempts are logged in Azure AD Sign-ins.</li> <li>Azure AD logs are forwarded to a Log Analytics workspace for long-term secure retention.</li> <li>Azure AD Smart Lockout is configured to lock account after five failed logon attempts.</li> <li>Legacy authentication methods are disabled in the Windows 10 SOE following the ACSC hardening guide.</li> <li>Credentials are stored within Azure AD.</li> <li>Standard Windows &amp; iOS functionality is to obscure passwords during logon.</li> <li>Windows Defender Credential Guard is enabled for the Windows 10 SOE. Remote Credential Guard is not applicable as the CloudSystem does not include servers.</li> <li>Only one previous logon is cached for the Windows 10 SOE.</li> <li>The CloudSystem Windows 10 SOE is configured with a screen saver after 15 minutes which requires users to re-authenticate.</li> <li>The CloudSystem Windows 10 SOE is configured with a logon banner provided by the Agency.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_24","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for investigating repeated account lockouts.</li> <li>The Agency is responsible for managing passwords/passphrases.</li> <li>The Agency is responsible for procedures involving provisioning user passwords.</li> <li>The Agency is responsible for terminating user sessions and rebooting workstations outside of business hours.</li> <li>The Agency is responsible for the wording of the logon banner.</li> </ul>"},{"location":"security/system-security-plan/#virtualisation-hardening","title":"Virtualisation hardening","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_25","title":"Applicability to CloudSystem","text":"<p>This section is not applicable as the CloudSystem does not include servers.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_25","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_25","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_25","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#system-management","title":"System management","text":""},{"location":"security/system-security-plan/#system-administration","title":"System administration","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_26","title":"Applicability to CloudSystem","text":"<p>The system administration section is applicable to the CloudSystem in the context of the operations and management of the controls that the CloudSystem provides.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_26","title":"CloudSystem compliance approach","text":"<p>Privileged Access Workstations (PAWs) and admin jump servers are not used in the CloudSystem due to the limited size of the expected Agencies and all administrative access to the Microsoft portals is with Azure AD accounts using MFA. The risk of not implementing these controls is addressed in the CloudSystem SRMP.</p> <p>All administration of the CloudSystem is performed through a web browser to a number of Microsoft 365 portals as listed below:</p> Portal URL Defender for Cloud Apps portal https://portal.cloudappsecurity.com Azure portal (including Azure AD) https://portal.azure.com Microsoft 365 Compliance Center https://compliance.microsoft.com Microsoft 365 Defender https://security.microsoft.com Office 365 homepage https://portal.office.com Microsoft 365 admin center https://admin.microsoft.com/ <p>The CloudSystem protects access to these portals through authentication via Azure AD and enforcement of MFA and location-based policies through Conditional Access. Privileges within the CloudSystem are controlled through the CloudSystem RBAC model.</p> <p>The Conditional Access policies and RBAC model also extend to the administration of endpoint devices that are deployed as part of the CloudSystem.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_26","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The CloudSystem includes a system administration SOP.</li> <li>Azure MFA is required for all privileged user access.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_26","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for provisioning, managing and decommissioning administrative accounts to be used for CloudSystem administration.</li> </ul>"},{"location":"security/system-security-plan/#system-patching","title":"System patching","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_27","title":"Applicability to CloudSystem","text":"<p>System patching of Office 365 and Azure AD are not applicable as these cloud components are a Microsoft responsibility.</p> <p>System patching of endpoint devices is required, and this is accomplished via Intune policies setting the frequency, installation options and reporting values.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_27","title":"CloudSystem compliance approach","text":"<p>The CloudSystem compliance approach is to primarily utilise native cloud capabilities that are patched as part of the service. </p> <p>The CloudSystem uses Intune to automatically deploy operating system, application, driver, and firmware (where supported) updates to Windows 10 SOE devices. Microsoft Defender for Endpoint provide a vulnerability management capability to aid Agencies in detecting missing patches and insecure configurations.</p> <p>The blueprint does not include third-party applications or any unsupported software. The patching of other ICT equipment is not in scope of the CloudSystem.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_27","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The CloudSystem includes a system administration SOP which specifically references patching.</li> <li>Intune is configured to automatically install updates within 48 hours on all Windows 10 devices.</li> <li>Intune provides a centralised and managed approach to patching.</li> <li>Windows Update verifies the integrity of patches before installing them.</li> <li>Microsoft Defender for Endpoint provides a continuous vulnerability management capability for all Windows 10 devices.</li> <li>The blueprint does not include the use of unsupported software.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_27","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for maintaining and auditing a software register.</li> <li>The Agency is responsible for patching any third-party applications deployed to Windows 10 devices.</li> </ul>"},{"location":"security/system-security-plan/#change-management","title":"Change management","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_28","title":"Applicability to CloudSystem","text":"<p>Change management is not applicable as the ongoing management and maintenance of the CloudSystem utilises the Agency\u2019s change management process.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_28","title":"CloudSystem compliance approach","text":"<p>The CloudSystem integrates with an Agency\u2019s existing change management process. </p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_28","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_28","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all change management processes.</li> </ul>"},{"location":"security/system-security-plan/#data-backups","title":"Data backups","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_29","title":"Applicability to CloudSystem","text":"<p>Data backups are not applicable to the CloudSystem as they are the responsibility of the Agency to implement in accordance with their data preservation strategy.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_29","title":"CloudSystem compliance approach","text":"<p>The Agency is responsible for backup and restoration of data and configurations stored in the CloudSystem. </p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_29","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_29","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for identifying what backup and restoration requirements they have and how these will be achieved within the CloudSystem. </li> </ul>"},{"location":"security/system-security-plan/#system-monitoring","title":"System monitoring","text":""},{"location":"security/system-security-plan/#event-logging-and-auditing","title":"Event logging and auditing","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_30","title":"Applicability to CloudSystem","text":"<p>The controls relating to the logging and auditing of events for components included in the CloudSystem are applicable. The CloudSystem does not include web applications, databases, Domain Name System (DNS) or proxy services, and therefore the controls relating to these components are not applicable.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_30","title":"CloudSystem compliance approach","text":"<p>The CloudSystem provides extensive event logging and auditing for Azure and Microsoft 365 resources that can be incorporated into an Agency\u2019s event logging strategy. Logs are stored in Log Analytics for two years which is the maximum available period for Log Analytics. </p> <p>All logs relevant to the operation and integrity of the CloudSystem are stored in a centralised storage account. The CloudSystem protects the integrity of logs through policy enforcement, automation and RBAC.</p> <p>Local event logs on Windows 10 devices will be lost when endpoints are rebuilt as the local event logs are not centralised.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_30","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Defender for Endpoint and Defender for Office 365 centralise logs relating to the security of devices and Office services.</li> <li>Windows 10 devices and Office 365 services leverage Microsoft's Window Time service.</li> <li>Azure AD logs authentication events to Log Analytics.</li> <li>The following events are logged to the local event log on each Windows 10 endpoint:</li> <li>access to important data and processes</li> <li>application crashes and any error messages</li> <li>attempts to use special privileges</li> <li>changes to accounts</li> <li>changes to security policy</li> <li>changes to system configurations</li> <li>DNS and Hypertext Transfer Protocol requests</li> <li>failed attempts to access data and system resources</li> <li>service failures and restarts</li> <li>system startup and shutdown</li> <li>transfer of data to external media</li> <li>user or group management</li> <li>use of special privileges.</li> <li>Logs include the date and time of the event, the relevant user or process, the event description, and the ICT equipment involved are recorded.</li> <li>Logs stored in Log Analytics are protected from unauthorised access, modification and deletion by the Azure AD RBAC model. Standard Windows 10 users do not have access to modify the local event logs.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_30","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing and implementing an event logging policy. </li> <li>The Agency is responsible for establishing and maintaining logging facilities, including for the centralisation of Window 10 local event logs.</li> <li>The Agency is responsible for longer term log retention (greater than the two years offered by Log Analytics).</li> <li>The Agency is responsible for storing any DNS or proxy logs they generate as part of the system.</li> </ul>"},{"location":"security/system-security-plan/#software-development","title":"Software development","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_31","title":"Applicability to CloudSystem","text":"<p>Not applicable as the CloudSystem is not designed to support software development activities.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_31","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_31","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_31","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all application development controls but can leverage the CloudSystem security controls detailed in this document.</li> </ul>"},{"location":"security/system-security-plan/#database-systems-management","title":"Database systems management","text":"<p>This section does not include specific subsections as the information is the same for all subsections of this chapter.</p>"},{"location":"security/system-security-plan/#applicability-to-cloudsystem_32","title":"Applicability to CloudSystem","text":"<p>Not applicable as the CloudSystem does not include any database servers, database management system software or databases.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_32","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_32","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_32","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#email-management","title":"Email management","text":""},{"location":"security/system-security-plan/#email-usage","title":"Email usage","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_33","title":"Applicability to CloudSystem","text":"<p>The controls relating to email usage are applicable to the CloudSystem as it provides an email capability of its users.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_33","title":"CloudSystem compliance approach","text":"<p>The CloudSystem provides the capability for users to apply protective markings to emails based on their classification. If required, users have the ability to lower the classification of an email, but are required to provide a text-based justification that is included in the audit log. This is due to a product limitation in Microsoft Information Protection (MIP).</p> <p>The CloudSystem will leverage an Agency's Secure Internet Gateway (SIG) for proxy and mail services.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_33","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The CloudSystem applies protective markings based on the classification of the content of emails, including attachments.</li> <li>Users are required to select the classification of emails to apply protective markings.</li> <li>Only appropriate classification options will be presented to CloudSystem users.</li> <li>Defender for Office 365 will notify users and administrators of blocked emails.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_33","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for developing and implementing an email usage policy.</li> <li>The Agency is responsible for preventing access to unapproved sites and services from within the network.</li> <li>The Agency is responsible for ensuring their email gateway blocks, logs and reports on emails with inappropriate protective markings.</li> <li>The Agency is responsible for conducting a risk assessment if the Agency chooses not to use a SIG.</li> </ul>"},{"location":"security/system-security-plan/#email-gateways-and-servers","title":"Email gateways and servers","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_34","title":"Applicability to CloudSystem","text":"<p>The controls relating to email gateways and servers are applicable to the CloudSystem as it leverages Exchange Online.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_34","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages Exchange Online, part of Office 365, to provide email capability without the need to deploy traditional email servers and gateways. Native Exchange Online security capabilities are enabled to prevent against email-related threats such as spoofing and phishing. Exchange Online is configured to route through the Agency\u2019s existing email gateway.</p> <p>The advanced features of Defender for Office 365, including Safe Attachments and Safe Links which provide sandboxing of attachments and inspective of hyperlinks respectively, are enabled by the CloudSystem. This provides email content filtering and expands on the default protections offered by Exchange Online Protection (EOP).</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_34","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Exchange Online is configured to route PROTECTED emails through the Agency's existing email gateway. Unclassified emails are not configured to be routed through the Agency's mail gateway.</li> <li>Email traffic between external users and Exchange Online is encrypted with TLS 1.2. Exchange Online then forwards emails to the Agency's existing email gateway via an Exchange connector.</li> <li>Exchange Online is not configured to act as an open relay.</li> <li>Exchange Online implements TLS 1.2 for opportunistic TLS encryption where supported by the other mail server.</li> <li>Exchange Online implements Mail Transfer Agent - Strict Transport Security (MTA-STS) for outbound mail flow.</li> <li>Sender Policy Framework (SPF) is configured in Exchange Online using a hard fail record. SPF blocks are visible to the recipients.</li> <li>DomainKeys Identified Mail (DKIM) is configured in Exchange Online and DKIM signatures on received emails are verified.</li> <li>Domain-based Message Authentication, Reporting and Conformance (DMARC) records are configured in Exchange Online.</li> <li>Defender for Office 365 provides content filtering including sandboxing of attachments (Safe Attachments) and inspection of links (Safe Links).</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_34","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for controls implemented by their existing email gateway.</li> <li>The Agency's gateway is responsible for blocking incoming emails that use an internal domain name as the source address.</li> <li>The Agency's gateway is responsible for ensuring undeliverable notifications are only sent to sender that are verified by SPF or other trusted means.</li> <li>The Agency is responsible for any backup or alternative email gateways.</li> </ul>"},{"location":"security/system-security-plan/#network-management","title":"Network management","text":""},{"location":"security/system-security-plan/#network-design-and-configuration","title":"Network design and configuration","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_35","title":"Applicability to CloudSystem","text":"<p>The majority of the controls relating to network design and configuration are not directly applicable to the CloudSystem and are instead the responsibility of the Agency to implement. This is due to the CloudSystem not including network devices within its scope.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_35","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages the Microsoft backbone to provide networking for the Office 365 and Azure services. LAN design and configuration is the responsibility of the Agency and may reuse existing capabilities. The CloudSystem designs the interfaces between endpoints and services, including how data traverses public networks such as the internet.</p> <p>The CloudSystem is designed to run using the public internet. All security controls are implemented on the endpoint devices and the Office 365 component.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_35","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The Office 365 design includes a high level network diagram showing the components that are considered in scope.</li> <li>The Office 365 design which includes the high level network design has a last updated date.</li> <li>All communication between CloudSystem Windows 10 endpoints and Office 365 components is encrypted by TLS.</li> <li>The blueprint uses Conditional Access policies to restrict access to only specified geographic regions within Australia. The blueprint also uses Azure AD Identity Protection to analyse sign-in logs to identify and notify administrators when users are identified as originating from anonymous proxy IP addresses. </li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_35","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management of network devices used in relation to the CloudSystem.</li> <li>The Agency is responsible for implementing security controls within their email gateway.</li> <li>The Agency is responsible for ensuring that they segregate their network from that of service providers.</li> <li>The Agency is responsible for reviewing alerts from Defender for Cloud Apps and Azure AD Identity Protection.</li> <li>The Agency is responsible for ensuring that outbound traffic to anonymity networks is blocked.</li> <li>The Agency is responsible for implementing a protective DNS service as part of their gateway.</li> </ul>"},{"location":"security/system-security-plan/#wireless-networks","title":"Wireless networks","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_36","title":"Applicability to CloudSystem","text":"<p>The controls relating to wireless networks are not applicable as the CloudSystem does not include any wireless networks. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_36","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_36","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_36","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for securing any wireless networks that they provide to enable connectivity between CloudSystem endpoints and Azure/Office 365 services.</li> </ul>"},{"location":"security/system-security-plan/#service-continuity-for-online-services","title":"Service continuity for online services","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_37","title":"Applicability to CloudSystem","text":"<p>The controls relating to service continuity for online services are not applicable as the CloudSystem does not host online services.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_37","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_37","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_37","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the procurement and management of online services as applicable.</li> </ul>"},{"location":"security/system-security-plan/#using-cryptography","title":"Using cryptography","text":""},{"location":"security/system-security-plan/#cryptographic-fundamentals","title":"Cryptographic fundamentals","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_38","title":"Applicability to CloudSystem","text":"<p>The controls relating to cryptographic fundamentals are applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_38","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages cryptography provided by Microsoft to encrypt both data at rest and data in transit. This includes the use of Microsoft BitLocker to encrypt mobile devices using an Australian Signals Directorate (ASD) Approved Cryptographic Algorithm (AACA), namely AES. Note, that the CloudSystem does not use encryption for the purposes of reducing the handling requirements for endpoints.</p> <p>Microsoft\u2019s implementation of cryptography, including TLS 1.2 which is an ASD Approved Cryptographic Protocol (AACP), has been assessed as part of the IRAP assessments for Azure and Office 365. However, an ASD Cryptographic Evaluation (ACE) has not been performed on Microsoft\u2019s cryptographic software.</p> <p>At the time of writing Microsoft does not support the latest version of TLS \u2013 version 1.3. Microsoft have previously stated that versions 1.0 and 1.1 are not supported and were to become deprecated for Office 365 services from June 2020, however this has since been delayed due to world events. See Preparing for TLS 1.2 in Office 365 and Office 365 GCC.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_38","title":"Security controls provided by the CloudSystem","text":"<ul> <li>The CloudSystem uses Microsoft BitLocker for encryption leveraging AES which is an AACA.</li> <li>Microsoft BitLocker provides full disk encryption of CloudSystem mobile devices, implementing AES-256. BitLocker recovery keys are stored in Azure AD.</li> <li>TLS with AES is used to protect traffic to and from Azure and Office 365 servers over the internet.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_38","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management of cryptographic keys used in relation to the CloudSystem other than those managed by Microsoft as part of the Microsoft 365 cloud services.</li> <li>The Agency is responsible for informing users of their responsibilities in relation to the management encrypted devices.</li> </ul>"},{"location":"security/system-security-plan/#asd-approved-cryptographic-algorithms","title":"ASD approved cryptographic algorithms","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_39","title":"Applicability to CloudSystem","text":"<p>The controls relating to AACAs are applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_39","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverage\u2019s Microsoft\u2019s implementation of AACAs in Azure and Office 365.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_39","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Microsoft Azure and Office 365 services implement AACAs where possible.</li> <li>Microsoft Azure and Office 365 services implement Elliptic Curve Diffie-Hellman Ephemeral (ECDHE) as the preferred algorithm.</li> <li>Microsoft Azure and Office 365 services do not use Diffie-Hellman (DH).</li> <li>Microsoft Azure and Office 365 services do not use Digital Signature Algorithm (DSA).</li> <li>Microsoft Azure and Office 365 services implement National Institute of Standards and Technology (NIST) P-256 and P-384.</li> <li>Microsoft Azure and Office 365 services use a 256-bit key where possible for Elliptic Curve Diffie-Hellman (ECDH).</li> <li>Microsoft Azure and Office 365 services use a 2048-bit key for Rivest\u2013Shamir\u2013Adleman (RSA).</li> <li>Microsoft Azure and Office 365 services use separate RSA key pairs for these purposes.</li> <li>SHA-384 is the preferred hashing algorithm used as part of TLS for Office 365 components.</li> <li>AES-256 is used for BitLocker encryption.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_39","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#asd-approved-cryptographic-protocols","title":"ASD approved cryptographic protocols","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_40","title":"Applicability to CloudSystem","text":"<p>The controls relating to AACPs are applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_40","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverage\u2019s Microsoft\u2019s implementation of AACPs in Azure and Office 365.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_40","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Microsoft Azure and Office 365 services implement AACPs where possible.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_40","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#transport-layer-security","title":"Transport layer security","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_41","title":"Applicability to CloudSystem","text":"<p>The controls relating to TLS are applicable to the CloudSystem.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_41","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverage\u2019s Microsoft\u2019s implementation of TLS in Azure and Office 365.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_41","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Microsoft Azure and Office 365 services implement TLS versions 1.2 and 1.3.</li> <li>Microsoft Azure and Office 365 services implement AES in Galois Counter Mode (GCM).</li> <li>Microsoft Azure and Office 365 services implement secure renegotiation.</li> <li>Microsoft Azure and Office 365 services implement ECDHE as the preferred algorithm.</li> <li>Microsoft Azure and Office 365 services use SHA-2-based certificates.</li> <li>Microsoft Azure and Office 365 services use SHA-2 as part of the Message Authentication Code and Pseudo-Random Function.</li> <li>Microsoft Azure and Office 365 services disable TLS compression.</li> <li>Microsoft Azure and Office 365 services implement Perfect Forward Secrecy (PFS).</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_41","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#secure-shell","title":"Secure shell","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_42","title":"Applicability to CloudSystem","text":"<p>The controls relating to the use of Secure Shell (SSH) are not applicable to the CloudSystem as it does not utilise SSH. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_42","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_42","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_42","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#securemultipurpose-internet-mail-extension","title":"Secure/multipurpose internet mail extension","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_43","title":"Applicability to CloudSystem","text":"<p>The controls relating to the use of Secure/Multipurpose Internet Mail Extension (S/MIME) are not applicable to the CloudSystem as it does not utilise S/MIME. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_43","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_43","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_43","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#internet-protocol-security","title":"Internet protocol security","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_44","title":"Applicability to CloudSystem","text":"<p>The controls relating to the use of Internet Protocol Security (IPsec) are not applicable to the CloudSystem as it does not utilise IPsec. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_44","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_44","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_44","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#cryptographic-system-management","title":"Cryptographic system management","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_45","title":"Applicability to CloudSystem","text":"<p>The controls relating to cryptographic system management is not applicable to the CloudSystem as the CloudSystem does not include the use of Commercial Grade Cryptographic Equipment (CGCE) equipment.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_45","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_45","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_45","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the management of any CGCE used in relation to the CloudSystem.</li> </ul>"},{"location":"security/system-security-plan/#gateway-management","title":"Gateway management","text":""},{"location":"security/system-security-plan/#gateways","title":"Gateways","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_46","title":"Applicability to CloudSystem","text":"<p>The controls relating to gateways are applicable to the CloudSystem as the solution is designed to integrate with a SIG provided by the Agency.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_46","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages the Agency\u2019s SIG capability where required.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_46","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_46","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the implementation of security controls relating to their internet and email gateway if integrated with the CloudSystem.</li> </ul>"},{"location":"security/system-security-plan/#cross-domain-solutions","title":"Cross domain solutions","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_47","title":"Applicability to CloudSystem","text":"<p>The controls relating to cross-domain solutions are not applicable as the CloudSystem does not include any cross-domain solutions.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_47","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_47","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_47","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#firewalls","title":"Firewalls","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_48","title":"Applicability to CloudSystem","text":"<p>The controls relating to firewalls are not applicable to the CloudSystem as the CloudSystem does not include firewalls for the purpose of separating official/classified and public networks. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_48","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_48","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_48","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the implementation of security controls relating to their email gateway if integrated with the CloudSystem.</li> </ul>"},{"location":"security/system-security-plan/#diodes","title":"Diodes","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_49","title":"Applicability to CloudSystem","text":"<p>The controls relating to diodes are not applicable to the CloudSystem as the CloudSystem does not include any diodes or unidirectional gateways.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_49","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_49","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_49","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#web-proxies","title":"Web proxies","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_50","title":"Applicability to CloudSystem","text":"<p>The controls relating to web proxies are applicable to the CloudSystem as the solution leverages the Agency\u2019s SIG for proxy services. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_50","title":"CloudSystem compliance approach","text":"<p>The CloudSystem does not include a web proxy service. </p> <p>Web proxies, content filters, SIG and VPN connections between mobile devices and Agency networks are not currently included within the Protected Utility design.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_50","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_50","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the development and implementation of a web usage policy.</li> <li>The Agency is responsible for the implementation of a web proxy for devices within their network.</li> </ul>"},{"location":"security/system-security-plan/#web-content-filters","title":"Web content filters","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_51","title":"Applicability to CloudSystem","text":"<p>The controls relating to web content filters are applicable to the CloudSystem as the solution.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_51","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages Defender for Endpoint to provide web content filtering capabilities on Windows 10 devices.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_51","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Web content filtering is enabled for Windows 10 devices using Microsoft Defender for Endpoint.</li> <li>Client-side active content, including all Java and Flash content, is blocked on all Windows 10 devices.</li> <li>Microsoft Defender for Endpoint blocks specific web categories which are maintained by Microsoft.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_51","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for all gateway configurations relating to web content filtering.</li> </ul>"},{"location":"security/system-security-plan/#content-filtering","title":"Content filtering","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_52","title":"Applicability to CloudSystem","text":"<p>The controls relating to content filtering are applicable to the CloudSystem. </p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_52","title":"CloudSystem compliance approach","text":"<p>The CloudSystem leverages Office 365 capabilities including Defender for Office 365 and EOP to inspect and manage email traffic. </p> <p>The blueprint does not include content validation, conversion, and sanitisation capabilities, and digital signatures/checksums are not validated when files are imported.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_52","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Exchange Online Protection and Defender for Office 365 are configured to prevent specific file types from entering the system via email. </li> <li>Defender for Office 365 provides content filtering including sandboxing of attachments (Safe Attachments) and inspection of links (Safe Links).</li> <li>Multiple scanning engines are provided by Exchange Online Protection, Defender for Office 365 and Defender for Endpoint.</li> <li>Archives are scanned for malware.</li> <li>Defender for Office 365 alerts are configured.</li> <li>Integrity of patches is verified before installation.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_52","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for implementing content filtering for web traffic and other vectors.</li> </ul>"},{"location":"security/system-security-plan/#peripheral-switches","title":"Peripheral switches","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_53","title":"Applicability to CloudSystem","text":"<p>The controls relating to peripheral switches are not applicable to the CloudSystem as the CloudSystem does not include any peripheral switches.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_53","title":"CloudSystem compliance approach","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_53","title":"Security controls provided by the CloudSystem","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_53","title":"Residual controls to be addressed by the Agency","text":"<p>Not applicable.</p>"},{"location":"security/system-security-plan/#data-transfers","title":"Data transfers","text":""},{"location":"security/system-security-plan/#applicability-to-cloudsystem_54","title":"Applicability to CloudSystem","text":"<p>The controls relating to data transfers are applicable to the CloudSystem as it is expected users will transfer data to and from the solution.</p>"},{"location":"security/system-security-plan/#cloudsystem-compliance-approach_54","title":"CloudSystem compliance approach","text":"<p>The CloudSystem includes Microsoft Defender for Endpoint to assist with the inspection and auditing of data transfer to and from CloudSystem endpoints. Event logs are generated when data is transferred to external media from a Windows 10 endpoint.</p> <p>The CloudSystem does not provide configuration advice on protective marking checks for documents due to the reliance on existing platforms and the difference in existing architectures across Commonwealth entities.</p>"},{"location":"security/system-security-plan/#security-controls-provided-by-the-cloudsystem_54","title":"Security controls provided by the CloudSystem","text":"<ul> <li>Defender for Endpoint will scan all data copied onto CloudSystem Windows 10 devices.</li> <li>Event logs are generated when data is transferred to external media from a Windows 10 endpoint.</li> </ul>"},{"location":"security/system-security-plan/#residual-controls-to-be-addressed-by-the-agency_54","title":"Residual controls to be addressed by the Agency","text":"<ul> <li>The Agency is responsible for the development and implementation of a data transfer policy.</li> <li>The Agency is responsible for auditing data transfer logs.</li> </ul>"}]}